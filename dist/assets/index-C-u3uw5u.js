(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var Tf={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function NE(){if($p)return Ol;$p=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:r,type:s,key:d,ref:u!==void 0?u:null,props:h}}return Ol.Fragment=e,Ol.jsx=i,Ol.jsxs=i,Ol}var Jp;function xE(){return Jp||(Jp=1,Tf.exports=NE()),Tf.exports}var Y=xE(),Af={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function IE(){if(Wp)return At;Wp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.iterator;function D(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,tt={};function J(N,Z,it){this.props=N,this.context=Z,this.refs=tt,this.updater=it||B}J.prototype.isReactComponent={},J.prototype.setState=function(N,Z){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Z,"setState")},J.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Et(){}Et.prototype=J.prototype;function dt(N,Z,it){this.props=N,this.context=Z,this.refs=tt,this.updater=it||B}var ct=dt.prototype=new Et;ct.constructor=dt,X(ct,J.prototype),ct.isPureReactComponent=!0;var xt=Array.isArray,yt={H:null,A:null,T:null,S:null,V:null},Vt=Object.prototype.hasOwnProperty;function M(N,Z,it,W,ot,Rt){return it=Rt.ref,{$$typeof:r,type:N,key:Z,ref:it!==void 0?it:null,props:Rt}}function b(N,Z){return M(N.type,Z,void 0,void 0,void 0,N.props)}function C(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function I(N){var Z={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(it){return Z[it]})}var V=/\/+/g;function O(N,Z){return typeof N=="object"&&N!==null&&N.key!=null?I(""+N.key):Z.toString(36)}function R(){}function Yt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(R,R):(N.status="pending",N.then(function(Z){N.status==="pending"&&(N.status="fulfilled",N.value=Z)},function(Z){N.status==="pending"&&(N.status="rejected",N.reason=Z)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Bt(N,Z,it,W,ot){var Rt=typeof N;(Rt==="undefined"||Rt==="boolean")&&(N=null);var _t=!1;if(N===null)_t=!0;else switch(Rt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(N.$$typeof){case r:case e:_t=!0;break;case A:return _t=N._init,Bt(_t(N._payload),Z,it,W,ot)}}if(_t)return ot=ot(N),_t=W===""?"."+O(N,0):W,xt(ot)?(it="",_t!=null&&(it=_t.replace(V,"$&/")+"/"),Bt(ot,Z,it,"",function(Ln){return Ln})):ot!=null&&(C(ot)&&(ot=b(ot,it+(ot.key==null||N&&N.key===ot.key?"":(""+ot.key).replace(V,"$&/")+"/")+_t)),Z.push(ot)),1;_t=0;var we=W===""?".":W+":";if(xt(N))for(var Jt=0;Jt<N.length;Jt++)W=N[Jt],Rt=we+O(W,Jt),_t+=Bt(W,Z,it,Rt,ot);else if(Jt=D(N),typeof Jt=="function")for(N=Jt.call(N),Jt=0;!(W=N.next()).done;)W=W.value,Rt=we+O(W,Jt++),_t+=Bt(W,Z,it,Rt,ot);else if(Rt==="object"){if(typeof N.then=="function")return Bt(Yt(N),Z,it,W,ot);throw Z=String(N),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return _t}function H(N,Z,it){if(N==null)return N;var W=[],ot=0;return Bt(N,W,"","",function(Rt){return Z.call(it,Rt,ot++)}),W}function et(N){if(N._status===-1){var Z=N._result;Z=Z(),Z.then(function(it){(N._status===0||N._status===-1)&&(N._status=1,N._result=it)},function(it){(N._status===0||N._status===-1)&&(N._status=2,N._result=it)}),N._status===-1&&(N._status=0,N._result=Z)}if(N._status===1)return N._result.default;throw N._result}var st=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function kt(){}return At.Children={map:H,forEach:function(N,Z,it){H(N,function(){Z.apply(this,arguments)},it)},count:function(N){var Z=0;return H(N,function(){Z++}),Z},toArray:function(N){return H(N,function(Z){return Z})||[]},only:function(N){if(!C(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},At.Component=J,At.Fragment=i,At.Profiler=u,At.PureComponent=dt,At.StrictMode=s,At.Suspense=v,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yt,At.__COMPILER_RUNTIME={__proto__:null,c:function(N){return yt.H.useMemoCache(N)}},At.cache=function(N){return function(){return N.apply(null,arguments)}},At.cloneElement=function(N,Z,it){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var W=X({},N.props),ot=N.key,Rt=void 0;if(Z!=null)for(_t in Z.ref!==void 0&&(Rt=void 0),Z.key!==void 0&&(ot=""+Z.key),Z)!Vt.call(Z,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&Z.ref===void 0||(W[_t]=Z[_t]);var _t=arguments.length-2;if(_t===1)W.children=it;else if(1<_t){for(var we=Array(_t),Jt=0;Jt<_t;Jt++)we[Jt]=arguments[Jt+2];W.children=we}return M(N.type,ot,void 0,void 0,Rt,W)},At.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:h,_context:N},N},At.createElement=function(N,Z,it){var W,ot={},Rt=null;if(Z!=null)for(W in Z.key!==void 0&&(Rt=""+Z.key),Z)Vt.call(Z,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ot[W]=Z[W]);var _t=arguments.length-2;if(_t===1)ot.children=it;else if(1<_t){for(var we=Array(_t),Jt=0;Jt<_t;Jt++)we[Jt]=arguments[Jt+2];ot.children=we}if(N&&N.defaultProps)for(W in _t=N.defaultProps,_t)ot[W]===void 0&&(ot[W]=_t[W]);return M(N,Rt,void 0,void 0,null,ot)},At.createRef=function(){return{current:null}},At.forwardRef=function(N){return{$$typeof:g,render:N}},At.isValidElement=C,At.lazy=function(N){return{$$typeof:A,_payload:{_status:-1,_result:N},_init:et}},At.memo=function(N,Z){return{$$typeof:_,type:N,compare:Z===void 0?null:Z}},At.startTransition=function(N){var Z=yt.T,it={};yt.T=it;try{var W=N(),ot=yt.S;ot!==null&&ot(it,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(kt,st)}catch(Rt){st(Rt)}finally{yt.T=Z}},At.unstable_useCacheRefresh=function(){return yt.H.useCacheRefresh()},At.use=function(N){return yt.H.use(N)},At.useActionState=function(N,Z,it){return yt.H.useActionState(N,Z,it)},At.useCallback=function(N,Z){return yt.H.useCallback(N,Z)},At.useContext=function(N){return yt.H.useContext(N)},At.useDebugValue=function(){},At.useDeferredValue=function(N,Z){return yt.H.useDeferredValue(N,Z)},At.useEffect=function(N,Z,it){var W=yt.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(N,Z)},At.useId=function(){return yt.H.useId()},At.useImperativeHandle=function(N,Z,it){return yt.H.useImperativeHandle(N,Z,it)},At.useInsertionEffect=function(N,Z){return yt.H.useInsertionEffect(N,Z)},At.useLayoutEffect=function(N,Z){return yt.H.useLayoutEffect(N,Z)},At.useMemo=function(N,Z){return yt.H.useMemo(N,Z)},At.useOptimistic=function(N,Z){return yt.H.useOptimistic(N,Z)},At.useReducer=function(N,Z,it){return yt.H.useReducer(N,Z,it)},At.useRef=function(N){return yt.H.useRef(N)},At.useState=function(N){return yt.H.useState(N)},At.useSyncExternalStore=function(N,Z,it){return yt.H.useSyncExternalStore(N,Z,it)},At.useTransition=function(){return yt.H.useTransition()},At.version="19.1.0",At}var ty;function ad(){return ty||(ty=1,Af.exports=IE()),Af.exports}var he=ad(),bf={exports:{}},Ml={},Sf={exports:{}},Rf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function OE(){return ey||(ey=1,function(r){function e(H,et){var st=H.length;H.push(et);t:for(;0<st;){var kt=st-1>>>1,N=H[kt];if(0<u(N,et))H[kt]=et,H[st]=N,st=kt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var et=H[0],st=H.pop();if(st!==et){H[0]=st;t:for(var kt=0,N=H.length,Z=N>>>1;kt<Z;){var it=2*(kt+1)-1,W=H[it],ot=it+1,Rt=H[ot];if(0>u(W,st))ot<N&&0>u(Rt,W)?(H[kt]=Rt,H[ot]=st,kt=ot):(H[kt]=W,H[it]=st,kt=it);else if(ot<N&&0>u(Rt,st))H[kt]=Rt,H[ot]=st,kt=ot;else break t}}return et}function u(H,et){var st=H.sortIndex-et.sortIndex;return st!==0?st:H.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],_=[],A=1,S=null,D=3,B=!1,X=!1,tt=!1,J=!1,Et=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function xt(H){for(var et=i(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=H)s(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function yt(H){if(tt=!1,xt(H),!X)if(i(v)!==null)X=!0,Vt||(Vt=!0,O());else{var et=i(_);et!==null&&Bt(yt,et.startTime-H)}}var Vt=!1,M=-1,b=5,C=-1;function I(){return J?!0:!(r.unstable_now()-C<b)}function V(){if(J=!1,Vt){var H=r.unstable_now();C=H;var et=!0;try{t:{X=!1,tt&&(tt=!1,dt(M),M=-1),B=!0;var st=D;try{e:{for(xt(H),S=i(v);S!==null&&!(S.expirationTime>H&&I());){var kt=S.callback;if(typeof kt=="function"){S.callback=null,D=S.priorityLevel;var N=kt(S.expirationTime<=H);if(H=r.unstable_now(),typeof N=="function"){S.callback=N,xt(H),et=!0;break e}S===i(v)&&s(v),xt(H)}else s(v);S=i(v)}if(S!==null)et=!0;else{var Z=i(_);Z!==null&&Bt(yt,Z.startTime-H),et=!1}}break t}finally{S=null,D=st,B=!1}et=void 0}}finally{et?O():Vt=!1}}}var O;if(typeof ct=="function")O=function(){ct(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Yt=R.port2;R.port1.onmessage=V,O=function(){Yt.postMessage(null)}}else O=function(){Et(V,0)};function Bt(H,et){M=Et(function(){H(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(H){switch(D){case 1:case 2:case 3:var et=3;break;default:et=D}var st=D;D=et;try{return H()}finally{D=st}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var st=D;D=H;try{return et()}finally{D=st}},r.unstable_scheduleCallback=function(H,et,st){var kt=r.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?kt+st:kt):st=kt,H){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=st+N,H={id:A++,callback:et,priorityLevel:H,startTime:st,expirationTime:N,sortIndex:-1},st>kt?(H.sortIndex=st,e(_,H),i(v)===null&&H===i(_)&&(tt?(dt(M),M=-1):tt=!0,Bt(yt,st-kt))):(H.sortIndex=N,e(v,H),X||B||(X=!0,Vt||(Vt=!0,O()))),H},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(H){var et=D;return function(){var st=D;D=et;try{return H.apply(this,arguments)}finally{D=st}}}}(Rf)),Rf}var ny;function ME(){return ny||(ny=1,Sf.exports=OE()),Sf.exports}var wf={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function UE(){if(iy)return He;iy=1;var r=ad();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:v,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,He.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},He.flushSync=function(v){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=A,s.d.f()}},He.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},He.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},He.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,S=g(A,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,B=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:B}):A==="script"&&s.d.X(v,{crossOrigin:S,integrity:D,fetchPriority:B,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},He.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},He.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=g(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},He.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=g(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},He.requestFormReset=function(v){s.d.r(v)},He.unstable_batchedUpdates=function(v,_){return v(_)},He.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.0",He}var ay;function zE(){if(ay)return wf.exports;ay=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wf.exports=UE(),wf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function LE(){if(ry)return Ml;ry=1;var r=ME(),e=ad(),i=zE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=f;break}if(E===l){y=!0,l=c,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=c;break}if(E===l){y=!0,l=f,a=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,S=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),Et=Symbol.for("react.provider"),dt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),yt=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Yt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case J:return"Profiler";case tt:return"StrictMode";case yt:return"Suspense";case Vt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case ct:return(t.displayName||"Context")+".Provider";case dt:return(t._context.displayName||"Context")+".Consumer";case xt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return n=t.displayName||null,n!==null?n:Yt(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return Yt(t(n))}catch{}}return null}var Bt=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},kt=[],N=-1;function Z(t){return{current:t}}function it(t){0>N||(t.current=kt[N],kt[N]=null,N--)}function W(t,n){N++,kt[N]=t.current,t.current=n}var ot=Z(null),Rt=Z(null),_t=Z(null),we=Z(null);function Jt(t,n){switch(W(_t,n),W(Rt,t),W(ot,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Rp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Rp(n),t=wp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}it(ot),W(ot,t)}function Ln(){it(ot),it(Rt),it(_t)}function zi(t){t.memoizedState!==null&&W(we,t);var n=ot.current,a=wp(n,t.type);n!==a&&(W(Rt,t),W(ot,a))}function ri(t){Rt.current===t&&(it(ot),it(Rt)),we.current===t&&(it(we),Dl._currentValue=st)}var Ra=Object.prototype.hasOwnProperty,wa=r.unstable_scheduleCallback,Ca=r.unstable_cancelCallback,Rs=r.unstable_shouldYield,iu=r.unstable_requestPaint,pn=r.unstable_now,Ec=r.unstable_getCurrentPriorityLevel,ws=r.unstable_ImmediatePriority,gr=r.unstable_UserBlockingPriority,Da=r.unstable_NormalPriority,Tc=r.unstable_LowPriority,pr=r.unstable_IdlePriority,Cs=r.log,au=r.unstable_setDisableYieldValue,re=null,Ht=null;function sn(t){if(typeof Cs=="function"&&au(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(re,t)}catch{}}var je=Math.clz32?Math.clz32:Va,ru=Math.log,Ac=Math.LN2;function Va(t){return t>>>=0,t===0?32:31-(ru(t)/Ac|0)|0}var Na=256,xa=4194304;function Vn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yr(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Vn(l):(y&=E,y!==0?c=Vn(y):a||(a=E&~t,a!==0&&(c=Vn(a))))):(E=l&~f,E!==0?c=Vn(E):y!==0?c=Vn(y):a||(a=l&~t,a!==0&&(c=Vn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Ia(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ds(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vs(){var t=Na;return Na<<=1,(Na&4194048)===0&&(Na=256),t}function Ns(){var t=xa;return xa<<=1,(xa&62914560)===0&&(xa=4194304),t}function si(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function li(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xs(t,n,a,l,c,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,k=t.hiddenUpdates;for(a=y&~a;0<a;){var G=31-je(a),F=1<<G;E[G]=0,w[G]=-1;var P=k[G];if(P!==null)for(k[G]=null,G=0;G<P.length;G++){var j=P[G];j!==null&&(j.lane&=-536870913)}a&=~F}l!==0&&kn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function kn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-je(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Is(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-je(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Li(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function _r(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ki(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Qp(t.type))}function su(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var te=Math.random().toString(36).slice(2),_e="__reactFiber$"+te,de="__reactProps$"+te,yn="__reactContainer$"+te,Os="__reactEvents$"+te,bc="__reactListeners$"+te,Pi="__reactHandles$"+te,lu="__reactResources$"+te,Oa="__reactMarker$"+te;function Bi(t){delete t[_e],delete t[de],delete t[Os],delete t[bc],delete t[Pi]}function ui(t){var n=t[_e];if(n)return n;for(var a=t.parentNode;a;){if(n=a[yn]||a[_e]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Np(t);t!==null;){if(a=t[_e])return a;t=Np(t)}return n}t=a,a=t.parentNode}return null}function Pn(t){if(t=t[_e]||t[yn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Fe(t){var n=t[lu];return n||(n=t[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(t){t[Oa]=!0}var Ms=new Set,vr={};function Nn(t,n){oi(t,n),oi(t+"Capture",n)}function oi(t,n){for(vr[t]=n,t=0;t<n.length;t++)Ms.add(n[t])}var uu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ou={},Ma={};function cu(t){return Ra.call(Ma,t)?!0:Ra.call(ou,t)?!1:uu.test(t)?Ma[t]=!0:(ou[t]=!0,!1)}function ji(t,n,a){if(cu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function jn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Oe(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Ua,hu;function ci(t){if(Ua===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ua=n&&n[1]||"",hu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ua+t+hu}var Er=!1;function Tr(t,n){if(!t||Er)return"";Er=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(j){var P=j}Reflect.construct(t,[],F)}else{try{F.call()}catch(j){P=j}t.call(F.prototype)}}else{try{throw Error()}catch(j){P=j}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(j){if(j&&P&&typeof j.stack=="string")return[j.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var w=y.split(`
`),k=E.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===k.length)for(l=w.length-1,c=k.length-1;1<=l&&0<=c&&w[l]!==k[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==k[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==k[c]){var G=`
`+w[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Er=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ci(a):""}function Us(t){switch(t.tag){case 26:case 27:case 5:return ci(t.type);case 16:return ci("Lazy");case 13:return ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return Tr(t.type,!1);case 11:return Tr(t.type.render,!1);case 1:return Tr(t.type,!0);case 31:return ci("Activity");default:return""}}function Ar(t){try{var n="";do n+=Us(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Sc(t){var n=zs(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function br(t){t._valueTracker||(t._valueTracker=Sc(t))}function Ls(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=zs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function za(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rc=/[\n"\\]/g;function me(t){return t.replace(Rc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ln(t,n,a,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?qi(t,y,Ke(n)):a!=null?qi(t,y,Ke(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function La(t,n,a,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Ke(a):"",n=n!=null?""+Ke(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function qi(t,n,a){n==="number"&&za(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function hi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ke(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ft(t,n,a){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ke(a):""}function ka(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Bt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ke(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function _n(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Pa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fu(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Pa.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function ks(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&fu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&fu(t,f,n[f])}function Ps(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sr(t){return Cc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var fi=null;function vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var di=null,mi=null;function Bs(t){var n=Pn(t);if(n&&(t=n.stateNode)){var a=t[de]||null;t:switch(t=n.stateNode,n.type){case"input":if(ln(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+me(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[de]||null;if(!c)throw Error(s(90));ln(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ls(l)}break t;case"textarea":Ft(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&hi(t,!!a.multiple,n,!1)}}}var qn=!1;function du(t,n,a){if(qn)return t(n,a);qn=!0;try{var l=t(n);return l}finally{if(qn=!1,(di!==null||mi!==null)&&(so(),di&&(n=di,t=mi,mi=di=null,Bs(n),t)))for(n=0;n<t.length;n++)Bs(t[n])}}function Ba(t,n){var a=t.stateNode;if(a===null)return null;var l=a[de]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(xn)try{var ja={};Object.defineProperty(ja,"passive",{get:function(){En=!0}}),window.addEventListener("test",ja,ja),window.removeEventListener("test",ja,ja)}catch{En=!1}var Hn=null,Hi=null,gi=null;function js(){if(gi)return gi;var t,n=Hi,a=n.length,l,c="value"in Hn?Hn.value:Hn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[f-l];l++);return gi=c.slice(t,1<l?1-l:void 0)}function Gn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Qn(){return!0}function qs(){return!1}function Ce(t){function n(a,l,c,f,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qn:qs,this.isPropagationStopped=qs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),n}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rr=Ce(jt),qa=A({},jt,{view:0,detail:0}),mu=Ce(qa),wr,Cr,Yn,Ha=A({},qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ya,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yn&&(Yn&&t.type==="mousemove"?(wr=t.screenX-Yn.screenX,Cr=t.screenY-Yn.screenY):Cr=wr=0,Yn=t),wr)},movementY:function(t){return"movementY"in t?t.movementY:Cr}}),Tn=Ce(Ha),gu=A({},Ha,{dataTransfer:0}),Dc=Ce(gu),Ga=A({},qa,{relatedTarget:0}),Dr=Ce(Ga),Hs=A({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),Vr=Ce(Hs),pu=A({},jt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nr=Ce(pu),Vc=A({},jt,{data:0}),Gs=Ce(Vc),Qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=_u[t])?!!n[t]:!1}function Ya(){return Qs}var vu=A({},qa,{key:function(t){if(t.key){var n=Qa[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ya,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xr=Ce(vu),Eu=A({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ys=Ce(Eu),pi=A({},qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ya}),Tu=Ce(pi),Au=A({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),bu=Ce(Au),Su=A({},Ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ir=Ce(Su),Xe=A({},jt,{newState:0,oldState:0}),Ru=Ce(Xe),wu=[9,13,27,32],Fn=xn&&"CompositionEvent"in window,o=null;xn&&"documentMode"in document&&(o=document.documentMode);var m=xn&&"TextEvent"in window&&!o,p=xn&&(!Fn||o&&8<o&&11>=o),T=" ",z=!1;function q(t,n){switch(t){case"keyup":return wu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var It=!1;function ve(t,n){switch(t){case"compositionend":return nt(n);case"keypress":return n.which!==32?null:(z=!0,T);case"textInput":return t=n.data,t===T&&z?null:t;default:return null}}function Ot(t,n){if(It)return t==="compositionend"||!Fn&&q(t,n)?(t=js(),gi=Hi=Hn=null,It=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!De[t.type]:n==="textarea"}function yi(t,n,a,l){di?mi?mi.push(l):mi=[l]:di=l,n=fo(n,"onChange"),0<n.length&&(a=new Rr("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Me=null,Kn=null;function Fs(t){Ep(t,0)}function Cu(t){var n=Bn(t);if(Ls(n))return t}function jd(t,n){if(t==="change")return n}var qd=!1;if(xn){var Nc;if(xn){var xc="oninput"in document;if(!xc){var Hd=document.createElement("div");Hd.setAttribute("oninput","return;"),xc=typeof Hd.oninput=="function"}Nc=xc}else Nc=!1;qd=Nc&&(!document.documentMode||9<document.documentMode)}function Gd(){Me&&(Me.detachEvent("onpropertychange",Qd),Kn=Me=null)}function Qd(t){if(t.propertyName==="value"&&Cu(Kn)){var n=[];yi(n,Kn,t,vn(t)),du(Fs,n)}}function s0(t,n,a){t==="focusin"?(Gd(),Me=n,Kn=a,Me.attachEvent("onpropertychange",Qd)):t==="focusout"&&Gd()}function l0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cu(Kn)}function u0(t,n){if(t==="click")return Cu(n)}function o0(t,n){if(t==="input"||t==="change")return Cu(n)}function c0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var un=typeof Object.is=="function"?Object.is:c0;function Ks(t,n){if(un(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Ra.call(n,c)||!un(t[c],n[c]))return!1}return!0}function Yd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fd(t,n){var a=Yd(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Yd(a)}}function Kd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Kd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Xd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=za(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=za(t.document)}return n}function Ic(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var h0=xn&&"documentMode"in document&&11>=document.documentMode,Or=null,Oc=null,Xs=null,Mc=!1;function Zd(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mc||Or==null||Or!==za(l)||(l=Or,"selectionStart"in l&&Ic(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xs&&Ks(Xs,l)||(Xs=l,l=fo(Oc,"onSelect"),0<l.length&&(n=new Rr("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Or)))}function Fa(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Mr={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionrun:Fa("Transition","TransitionRun"),transitionstart:Fa("Transition","TransitionStart"),transitioncancel:Fa("Transition","TransitionCancel"),transitionend:Fa("Transition","TransitionEnd")},Uc={},$d={};xn&&($d=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function Ka(t){if(Uc[t])return Uc[t];if(!Mr[t])return t;var n=Mr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in $d)return Uc[t]=n[a];return t}var Jd=Ka("animationend"),Wd=Ka("animationiteration"),tm=Ka("animationstart"),f0=Ka("transitionrun"),d0=Ka("transitionstart"),m0=Ka("transitioncancel"),em=Ka("transitionend"),nm=new Map,zc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zc.push("scrollEnd");function In(t,n){nm.set(t,n),Nn(n,[t])}var im=new WeakMap;function An(t,n){if(typeof t=="object"&&t!==null){var a=im.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ar(n)},im.set(t,n),n)}return{value:t,source:n,stack:Ar(n)}}var bn=[],Ur=0,Lc=0;function Du(){for(var t=Ur,n=Lc=Ur=0;n<t;){var a=bn[n];bn[n++]=null;var l=bn[n];bn[n++]=null;var c=bn[n];bn[n++]=null;var f=bn[n];if(bn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&am(a,c,f)}}function Vu(t,n,a,l){bn[Ur++]=t,bn[Ur++]=n,bn[Ur++]=a,bn[Ur++]=l,Lc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function kc(t,n,a,l){return Vu(t,n,a,l),Nu(t)}function zr(t,n){return Vu(t,null,null,n),Nu(t)}function am(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-je(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Nu(t){if(50<El)throw El=0,Gh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Lr={};function g0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,n,a,l){return new g0(t,n,a,l)}function Pc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _i(t,n){var a=t.alternate;return a===null?(a=on(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function rm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function xu(t,n,a,l,c,f){var y=0;if(l=t,typeof t=="function")Pc(t)&&(y=1);else if(typeof t=="string")y=yE(t,a,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=on(31,a,n,c),t.elementType=C,t.lanes=f,t;case X:return Xa(a.children,c,f,n);case tt:y=8,c|=24;break;case J:return t=on(12,a,n,c|2),t.elementType=J,t.lanes=f,t;case yt:return t=on(13,a,n,c),t.elementType=yt,t.lanes=f,t;case Vt:return t=on(19,a,n,c),t.elementType=Vt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Et:case ct:y=10;break t;case dt:y=9;break t;case xt:y=11;break t;case M:y=14;break t;case b:y=16,l=null;break t}y=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=on(y,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Xa(t,n,a,l){return t=on(7,t,l,n),t.lanes=a,t}function Bc(t,n,a){return t=on(6,t,null,n),t.lanes=a,t}function jc(t,n,a){return n=on(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var kr=[],Pr=0,Iu=null,Ou=0,Sn=[],Rn=0,Za=null,vi=1,Ei="";function $a(t,n){kr[Pr++]=Ou,kr[Pr++]=Iu,Iu=t,Ou=n}function sm(t,n,a){Sn[Rn++]=vi,Sn[Rn++]=Ei,Sn[Rn++]=Za,Za=t;var l=vi;t=Ei;var c=32-je(l)-1;l&=~(1<<c),a+=1;var f=32-je(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,vi=1<<32-je(n)+c|a<<c|l,Ei=f+t}else vi=1<<f|a<<c|l,Ei=t}function qc(t){t.return!==null&&($a(t,1),sm(t,1,0))}function Hc(t){for(;t===Iu;)Iu=kr[--Pr],kr[Pr]=null,Ou=kr[--Pr],kr[Pr]=null;for(;t===Za;)Za=Sn[--Rn],Sn[Rn]=null,Ei=Sn[--Rn],Sn[Rn]=null,vi=Sn[--Rn],Sn[Rn]=null}var Ze=null,se=null,Pt=!1,Ja=null,Xn=!1,Gc=Error(s(519));function Wa(t){var n=Error(s(418,""));throw Js(An(n,t)),Gc}function lm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[_e]=t,n[de]=l,a){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(a=0;a<Al.length;a++)Dt(Al[a],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),La(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),br(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),ka(n,l.value,l.defaultValue,l.children),br(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Sp(n.textContent,a)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=mo),n=!0):n=!1,n||Wa(t)}function um(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Ze=Ze.return}}function Zs(t){if(t!==Ze)return!1;if(!Pt)return um(t),Pt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||lf(t.type,t.memoizedProps)),a=!a),a&&se&&Wa(t),um(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){se=Mn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}se=null}}else n===27?(n=se,ra(t.type)?(t=hf,hf=null,se=t):se=n):se=Ze?Mn(t.stateNode.nextSibling):null;return!0}function $s(){se=Ze=null,Pt=!1}function om(){var t=Ja;return t!==null&&(en===null?en=t:en.push.apply(en,t),Ja=null),t}function Js(t){Ja===null?Ja=[t]:Ja.push(t)}var Qc=Z(null),tr=null,Ti=null;function Gi(t,n,a){W(Qc,n._currentValue),n._currentValue=a}function Ai(t){t._currentValue=Qc.current,it(Qc)}function Yc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Fc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Yc(f.return,a,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Yc(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Ws(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;un(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===we.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}c=c.return}t!==null&&Fc(n,t,a,l),n.flags|=262144}function Mu(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function er(t){tr=t,Ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return cm(tr,t)}function Uu(t,n){return tr===null&&er(t),cm(t,n)}function cm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ti===null){if(t===null)throw Error(s(308));Ti=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ti=Ti.next=n;return a}var p0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},y0=r.unstable_scheduleCallback,_0=r.unstable_NormalPriority,Te={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kc(){return{controller:new p0,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&y0(_0,function(){t.controller.abort()})}var el=null,Xc=0,Br=0,jr=null;function v0(t,n){if(el===null){var a=el=[];Xc=0,Br=$h(),jr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Xc++,n.then(hm,hm),n}function hm(){if(--Xc===0&&el!==null){jr!==null&&(jr.status="fulfilled");var t=el;el=null,Br=0,jr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function E0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var fm=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&v0(t,n),fm!==null&&fm(t,n)};var nr=Z(null);function Zc(){var t=nr.current;return t!==null?t:Wt.pooledCache}function zu(t,n){n===null?W(nr,nr.current):W(nr,n.pool)}function dm(){var t=Zc();return t===null?null:{parent:Te._currentValue,pool:t}}var nl=Error(s(460)),mm=Error(s(474)),Lu=Error(s(542)),$c={then:function(){}};function gm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ku(){}function pm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ku,ku),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_m(t),t;default:if(typeof n.status=="string")n.then(ku,ku);else{if(t=Wt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_m(t),t}throw il=n,nl}}var il=null;function ym(){if(il===null)throw Error(s(459));var t=il;return il=null,t}function _m(t){if(t===nl||t===Lu)throw Error(s(483))}var Qi=!1;function Jc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Yi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Nu(t),am(t,null,a),n}return Vu(t,l,n,a),Nu(t)}function al(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Is(t,a)}}function th(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var eh=!1;function rl(){if(eh){var t=jr;if(t!==null)throw t}}function sl(t,n,a,l){eh=!1;var c=t.updateQueue;Qi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,k=w.next;w.next=null,y===null?f=k:y.next=k,y=w;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=k:E.next=k,G.lastBaseUpdate=w))}if(f!==null){var F=c.baseState;y=0,G=k=w=null,E=f;do{var P=E.lane&-536870913,j=P!==E.lane;if(j?(Mt&P)===P:(l&P)===P){P!==0&&P===Br&&(eh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var pt=t,ft=E;P=n;var Zt=a;switch(ft.tag){case 1:if(pt=ft.payload,typeof pt=="function"){F=pt.call(Zt,F,P);break t}F=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=ft.payload,P=typeof pt=="function"?pt.call(Zt,F,P):pt,P==null)break t;F=A({},F,P);break t;case 2:Qi=!0}}P=E.callback,P!==null&&(t.flags|=64,j&&(t.flags|=8192),j=c.callbacks,j===null?c.callbacks=[P]:j.push(P))}else j={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(k=G=j,w=F):G=G.next=j,y|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;j=E,E=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);G===null&&(w=F),c.baseState=w,c.firstBaseUpdate=k,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),ea|=y,t.lanes=y,t.memoizedState=F}}function vm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Em(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)vm(a[t],n)}var qr=Z(null),Pu=Z(0);function Tm(t,n){t=Vi,W(Pu,t),W(qr,n),Vi=t|n.baseLanes}function nh(){W(Pu,Vi),W(qr,qr.current)}function ih(){Vi=Pu.current,it(qr),it(Pu)}var Ki=0,bt=null,Kt=null,ge=null,Bu=!1,Hr=!1,ir=!1,ju=0,ll=0,Gr=null,T0=0;function oe(){throw Error(s(321))}function ah(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!un(t[a],n[a]))return!1;return!0}function rh(t,n,a,l,c,f){return Ki=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?ag:rg,ir=!1,f=a(l,c),ir=!1,Hr&&(f=bm(n,a,l,c)),Am(t),f}function Am(t){H.H=Fu;var n=Kt!==null&&Kt.next!==null;if(Ki=0,ge=Kt=bt=null,Bu=!1,ll=0,Gr=null,n)throw Error(s(300));t===null||Ve||(t=t.dependencies,t!==null&&Mu(t)&&(Ve=!0))}function bm(t,n,a,l){bt=t;var c=0;do{if(Hr&&(Gr=null),ll=0,Hr=!1,25<=c)throw Error(s(301));if(c+=1,ge=Kt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=D0,f=n(a,l)}while(Hr);return f}function A0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?ul(n):n,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(bt.flags|=1024),n}function sh(){var t=ju!==0;return ju=0,t}function lh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function uh(t){if(Bu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Bu=!1}Ki=0,ge=Kt=bt=null,Hr=!1,ll=ju=0,Gr=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?bt.memoizedState=ge=t:ge=ge.next=t,ge}function pe(){if(Kt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var n=ge===null?bt.memoizedState:ge.next;if(n!==null)ge=n,Kt=t;else{if(t===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ge===null?bt.memoizedState=ge=t:ge=ge.next=t}return ge}function oh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(t){var n=ll;return ll+=1,Gr===null&&(Gr=[]),t=pm(Gr,t,n),n=bt,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?ag:rg),t}function qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===ct)return qe(t)}throw Error(s(438,String(t)))}function ch(t){var n=null,a=bt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=oh(),bt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=I;return n.index++,a}function bi(t,n){return typeof n=="function"?n(t):n}function Hu(t){var n=pe();return hh(n,Kt,t)}function hh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,w=null,k=n,G=!1;do{var F=k.lane&-536870913;if(F!==k.lane?(Mt&F)===F:(Ki&F)===F){var P=k.revertLane;if(P===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),F===Br&&(G=!0);else if((Ki&P)===P){k=k.next,P===Br&&(G=!0);continue}else F={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(E=w=F,y=f):w=w.next=F,bt.lanes|=P,ea|=P;F=k.action,ir&&a(f,F),f=k.hasEagerState?k.eagerState:a(f,F)}else P={lane:F,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(E=w=P,y=f):w=w.next=P,bt.lanes|=F,ea|=F;k=k.next}while(k!==null&&k!==n);if(w===null?y=f:w.next=E,!un(f,t.memoizedState)&&(Ve=!0,G&&(a=jr,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=w,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function fh(t){var n=pe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);un(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Sm(t,n,a){var l=bt,c=pe(),f=Pt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!un((Kt||c).memoizedState,a);y&&(c.memoizedState=a,Ve=!0),c=c.queue;var E=Cm.bind(null,l,c,t);if(ol(2048,8,E,[t]),c.getSnapshot!==n||y||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,Qr(9,Gu(),wm.bind(null,l,c,a,n),null),Wt===null)throw Error(s(349));f||(Ki&124)!==0||Rm(l,n,a)}return a}function Rm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=bt.updateQueue,n===null?(n=oh(),bt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function wm(t,n,a,l){n.value=a,n.getSnapshot=l,Dm(n)&&Vm(t)}function Cm(t,n,a){return a(function(){Dm(n)&&Vm(t)})}function Dm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!un(t,a)}catch{return!0}}function Vm(t){var n=zr(t,2);n!==null&&mn(n,t,2)}function dh(t){var n=We();if(typeof t=="function"){var a=t;if(t=a(),ir){sn(!0);try{a()}finally{sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:t},n}function Nm(t,n,a,l){return t.baseState=a,hh(t,Kt,typeof l=="function"?l:bi)}function b0(t,n,a,l,c){if(Yu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,xm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function xm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=a(c,l),w=H.S;w!==null&&w(y,E),Im(t,n,E)}catch(k){mh(t,n,k)}finally{H.T=f}}else try{f=a(c,l),Im(t,n,f)}catch(k){mh(t,n,k)}}function Im(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Om(t,n,l)},function(l){return mh(t,n,l)}):Om(t,n,a)}function Om(t,n,a){n.status="fulfilled",n.value=a,Mm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,xm(t,a)))}function mh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Mm(n),n=n.next;while(n!==l)}t.action=null}function Mm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Um(t,n){return n}function zm(t,n){if(Pt){var a=Wt.formState;if(a!==null){t:{var l=bt;if(Pt){if(se){e:{for(var c=se,f=Xn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Mn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){se=Mn(c.nextSibling),l=c.data==="F!";break t}}Wa(l)}l=!1}l&&(n=a[0])}}return a=We(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Um,lastRenderedState:n},a.queue=l,a=eg.bind(null,bt,l),l.dispatch=a,l=dh(!1),f=vh.bind(null,bt,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=b0.bind(null,bt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Lm(t){var n=pe();return km(n,Kt,t)}function km(t,n,a){if(n=hh(t,n,Um)[0],t=Hu(bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ul(n)}catch(y){throw y===nl?Lu:y}else l=n;n=pe();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(bt.flags|=2048,Qr(9,Gu(),S0.bind(null,c,a),null)),[l,f,t]}function S0(t,n){t.action=n}function Pm(t){var n=pe(),a=Kt;if(a!==null)return km(n,a,t);pe(),n=n.memoizedState,a=pe();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Qr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=bt.updateQueue,n===null&&(n=oh(),bt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Gu(){return{destroy:void 0,resource:void 0}}function Bm(){return pe().memoizedState}function Qu(t,n,a,l){var c=We();l=l===void 0?null:l,bt.flags|=t,c.memoizedState=Qr(1|n,Gu(),a,l)}function ol(t,n,a,l){var c=pe();l=l===void 0?null:l;var f=c.memoizedState.inst;Kt!==null&&l!==null&&ah(l,Kt.memoizedState.deps)?c.memoizedState=Qr(n,f,a,l):(bt.flags|=t,c.memoizedState=Qr(1|n,f,a,l))}function jm(t,n){Qu(8390656,8,t,n)}function qm(t,n){ol(2048,8,t,n)}function Hm(t,n){return ol(4,2,t,n)}function Gm(t,n){return ol(4,4,t,n)}function Qm(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ym(t,n,a){a=a!=null?a.concat([t]):null,ol(4,4,Qm.bind(null,n,t),a)}function gh(){}function Fm(t,n){var a=pe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&ah(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Km(t,n){var a=pe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&ah(n,l[1]))return l[0];if(l=t(),ir){sn(!0);try{t()}finally{sn(!1)}}return a.memoizedState=[l,n],l}function ph(t,n,a){return a===void 0||(Ki&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=$g(),bt.lanes|=t,ea|=t,a)}function Xm(t,n,a,l){return un(a,n)?a:qr.current!==null?(t=ph(t,a,l),un(t,n)||(Ve=!0),t):(Ki&42)===0?(Ve=!0,t.memoizedState=a):(t=$g(),bt.lanes|=t,ea|=t,n)}function Zm(t,n,a,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,vh(t,!1,n,a);try{var w=c(),k=H.S;if(k!==null&&k(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var G=E0(w,l);cl(t,n,G,dn(t))}else cl(t,n,l,dn(t))}catch(F){cl(t,n,{then:function(){},status:"rejected",reason:F},dn())}finally{et.p=f,H.T=y}}function R0(){}function yh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=$m(t).queue;Zm(t,c,n,st,a===null?R0:function(){return Jm(t),a(l)})}function $m(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:st},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Jm(t){var n=$m(t).next.queue;cl(t,n,{},dn())}function _h(){return qe(Dl)}function Wm(){return pe().memoizedState}function tg(){return pe().memoizedState}function w0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=dn();t=Yi(a);var l=Fi(n,t,a);l!==null&&(mn(l,n,a),al(l,n,a)),n={cache:Kc()},t.payload=n;return}n=n.return}}function C0(t,n,a){var l=dn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Yu(t)?ng(n,a):(a=kc(t,n,a,l),a!==null&&(mn(a,t,l),ig(a,n,l)))}function eg(t,n,a){var l=dn();cl(t,n,a,l)}function cl(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))ng(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(c.hasEagerState=!0,c.eagerState=E,un(E,y))return Vu(t,n,c,0),Wt===null&&Du(),!1}catch{}finally{}if(a=kc(t,n,c,l),a!==null)return mn(a,t,l),ig(a,n,l),!0}return!1}function vh(t,n,a,l){if(l={lane:2,revertLane:$h(),action:l,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(n)throw Error(s(479))}else n=kc(t,a,l,2),n!==null&&mn(n,t,2)}function Yu(t){var n=t.alternate;return t===bt||n!==null&&n===bt}function ng(t,n){Hr=Bu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ig(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Is(t,a)}}var Fu={readContext:qe,use:qu,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe},ag={readContext:qe,use:qu,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:jm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Qu(4194308,4,Qm.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Qu(4194308,4,t,n)},useInsertionEffect:function(t,n){Qu(4,2,t,n)},useMemo:function(t,n){var a=We();n=n===void 0?null:n;var l=t();if(ir){sn(!0);try{t()}finally{sn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=We();if(a!==void 0){var c=a(n);if(ir){sn(!0);try{a(n)}finally{sn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=C0.bind(null,bt,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=dh(t);var n=t.queue,a=eg.bind(null,bt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:gh,useDeferredValue:function(t,n){var a=We();return ph(a,t,n)},useTransition:function(){var t=dh(!1);return t=Zm.bind(null,bt,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=bt,c=We();if(Pt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Wt===null)throw Error(s(349));(Mt&124)!==0||Rm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,jm(Cm.bind(null,l,f,t),[t]),l.flags|=2048,Qr(9,Gu(),wm.bind(null,l,f,a,n),null),a},useId:function(){var t=We(),n=Wt.identifierPrefix;if(Pt){var a=Ei,l=vi;a=(l&~(1<<32-je(l)-1)).toString(32)+a,n=""+n+"R"+a,a=ju++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=T0++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:_h,useFormState:zm,useActionState:zm,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=vh.bind(null,bt,!0,a),a.dispatch=n,[t,n]},useMemoCache:ch,useCacheRefresh:function(){return We().memoizedState=w0.bind(null,bt)}},rg={readContext:qe,use:qu,useCallback:Fm,useContext:qe,useEffect:qm,useImperativeHandle:Ym,useInsertionEffect:Hm,useLayoutEffect:Gm,useMemo:Km,useReducer:Hu,useRef:Bm,useState:function(){return Hu(bi)},useDebugValue:gh,useDeferredValue:function(t,n){var a=pe();return Xm(a,Kt.memoizedState,t,n)},useTransition:function(){var t=Hu(bi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:ul(t),n]},useSyncExternalStore:Sm,useId:Wm,useHostTransitionStatus:_h,useFormState:Lm,useActionState:Lm,useOptimistic:function(t,n){var a=pe();return Nm(a,Kt,t,n)},useMemoCache:ch,useCacheRefresh:tg},D0={readContext:qe,use:qu,useCallback:Fm,useContext:qe,useEffect:qm,useImperativeHandle:Ym,useInsertionEffect:Hm,useLayoutEffect:Gm,useMemo:Km,useReducer:fh,useRef:Bm,useState:function(){return fh(bi)},useDebugValue:gh,useDeferredValue:function(t,n){var a=pe();return Kt===null?ph(a,t,n):Xm(a,Kt.memoizedState,t,n)},useTransition:function(){var t=fh(bi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:ul(t),n]},useSyncExternalStore:Sm,useId:Wm,useHostTransitionStatus:_h,useFormState:Pm,useActionState:Pm,useOptimistic:function(t,n){var a=pe();return Kt!==null?Nm(a,Kt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ch,useCacheRefresh:tg},Yr=null,hl=0;function Ku(t){var n=hl;return hl+=1,Yr===null&&(Yr=[]),pm(Yr,t,n)}function fl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Xu(t,n){throw n.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function sg(t){var n=t._init;return n(t._payload)}function lg(t){function n(U,x){if(t){var L=U.deletions;L===null?(U.deletions=[x],U.flags|=16):L.push(x)}}function a(U,x){if(!t)return null;for(;x!==null;)n(U,x),x=x.sibling;return null}function l(U){for(var x=new Map;U!==null;)U.key!==null?x.set(U.key,U):x.set(U.index,U),U=U.sibling;return x}function c(U,x){return U=_i(U,x),U.index=0,U.sibling=null,U}function f(U,x,L){return U.index=L,t?(L=U.alternate,L!==null?(L=L.index,L<x?(U.flags|=67108866,x):L):(U.flags|=67108866,x)):(U.flags|=1048576,x)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,x,L,Q){return x===null||x.tag!==6?(x=Bc(L,U.mode,Q),x.return=U,x):(x=c(x,L),x.return=U,x)}function w(U,x,L,Q){var rt=L.type;return rt===X?G(U,x,L.props.children,Q,L.key):x!==null&&(x.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===b&&sg(rt)===x.type)?(x=c(x,L.props),fl(x,L),x.return=U,x):(x=xu(L.type,L.key,L.props,null,U.mode,Q),fl(x,L),x.return=U,x)}function k(U,x,L,Q){return x===null||x.tag!==4||x.stateNode.containerInfo!==L.containerInfo||x.stateNode.implementation!==L.implementation?(x=jc(L,U.mode,Q),x.return=U,x):(x=c(x,L.children||[]),x.return=U,x)}function G(U,x,L,Q,rt){return x===null||x.tag!==7?(x=Xa(L,U.mode,Q,rt),x.return=U,x):(x=c(x,L),x.return=U,x)}function F(U,x,L){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Bc(""+x,U.mode,L),x.return=U,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case D:return L=xu(x.type,x.key,x.props,null,U.mode,L),fl(L,x),L.return=U,L;case B:return x=jc(x,U.mode,L),x.return=U,x;case b:var Q=x._init;return x=Q(x._payload),F(U,x,L)}if(Bt(x)||O(x))return x=Xa(x,U.mode,L,null),x.return=U,x;if(typeof x.then=="function")return F(U,Ku(x),L);if(x.$$typeof===ct)return F(U,Uu(U,x),L);Xu(U,x)}return null}function P(U,x,L,Q){var rt=x!==null?x.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return rt!==null?null:E(U,x,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case D:return L.key===rt?w(U,x,L,Q):null;case B:return L.key===rt?k(U,x,L,Q):null;case b:return rt=L._init,L=rt(L._payload),P(U,x,L,Q)}if(Bt(L)||O(L))return rt!==null?null:G(U,x,L,Q,null);if(typeof L.then=="function")return P(U,x,Ku(L),Q);if(L.$$typeof===ct)return P(U,x,Uu(U,L),Q);Xu(U,L)}return null}function j(U,x,L,Q,rt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(L)||null,E(x,U,""+Q,rt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:return U=U.get(Q.key===null?L:Q.key)||null,w(x,U,Q,rt);case B:return U=U.get(Q.key===null?L:Q.key)||null,k(x,U,Q,rt);case b:var wt=Q._init;return Q=wt(Q._payload),j(U,x,L,Q,rt)}if(Bt(Q)||O(Q))return U=U.get(L)||null,G(x,U,Q,rt,null);if(typeof Q.then=="function")return j(U,x,L,Ku(Q),rt);if(Q.$$typeof===ct)return j(U,x,L,Uu(x,Q),rt);Xu(x,Q)}return null}function pt(U,x,L,Q){for(var rt=null,wt=null,lt=x,mt=x=0,xe=null;lt!==null&&mt<L.length;mt++){lt.index>mt?(xe=lt,lt=null):xe=lt.sibling;var Lt=P(U,lt,L[mt],Q);if(Lt===null){lt===null&&(lt=xe);break}t&&lt&&Lt.alternate===null&&n(U,lt),x=f(Lt,x,mt),wt===null?rt=Lt:wt.sibling=Lt,wt=Lt,lt=xe}if(mt===L.length)return a(U,lt),Pt&&$a(U,mt),rt;if(lt===null){for(;mt<L.length;mt++)lt=F(U,L[mt],Q),lt!==null&&(x=f(lt,x,mt),wt===null?rt=lt:wt.sibling=lt,wt=lt);return Pt&&$a(U,mt),rt}for(lt=l(lt);mt<L.length;mt++)xe=j(lt,U,mt,L[mt],Q),xe!==null&&(t&&xe.alternate!==null&&lt.delete(xe.key===null?mt:xe.key),x=f(xe,x,mt),wt===null?rt=xe:wt.sibling=xe,wt=xe);return t&&lt.forEach(function(ca){return n(U,ca)}),Pt&&$a(U,mt),rt}function ft(U,x,L,Q){if(L==null)throw Error(s(151));for(var rt=null,wt=null,lt=x,mt=x=0,xe=null,Lt=L.next();lt!==null&&!Lt.done;mt++,Lt=L.next()){lt.index>mt?(xe=lt,lt=null):xe=lt.sibling;var ca=P(U,lt,Lt.value,Q);if(ca===null){lt===null&&(lt=xe);break}t&&lt&&ca.alternate===null&&n(U,lt),x=f(ca,x,mt),wt===null?rt=ca:wt.sibling=ca,wt=ca,lt=xe}if(Lt.done)return a(U,lt),Pt&&$a(U,mt),rt;if(lt===null){for(;!Lt.done;mt++,Lt=L.next())Lt=F(U,Lt.value,Q),Lt!==null&&(x=f(Lt,x,mt),wt===null?rt=Lt:wt.sibling=Lt,wt=Lt);return Pt&&$a(U,mt),rt}for(lt=l(lt);!Lt.done;mt++,Lt=L.next())Lt=j(lt,U,mt,Lt.value,Q),Lt!==null&&(t&&Lt.alternate!==null&&lt.delete(Lt.key===null?mt:Lt.key),x=f(Lt,x,mt),wt===null?rt=Lt:wt.sibling=Lt,wt=Lt);return t&&lt.forEach(function(VE){return n(U,VE)}),Pt&&$a(U,mt),rt}function Zt(U,x,L,Q){if(typeof L=="object"&&L!==null&&L.type===X&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case D:t:{for(var rt=L.key;x!==null;){if(x.key===rt){if(rt=L.type,rt===X){if(x.tag===7){a(U,x.sibling),Q=c(x,L.props.children),Q.return=U,U=Q;break t}}else if(x.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===b&&sg(rt)===x.type){a(U,x.sibling),Q=c(x,L.props),fl(Q,L),Q.return=U,U=Q;break t}a(U,x);break}else n(U,x);x=x.sibling}L.type===X?(Q=Xa(L.props.children,U.mode,Q,L.key),Q.return=U,U=Q):(Q=xu(L.type,L.key,L.props,null,U.mode,Q),fl(Q,L),Q.return=U,U=Q)}return y(U);case B:t:{for(rt=L.key;x!==null;){if(x.key===rt)if(x.tag===4&&x.stateNode.containerInfo===L.containerInfo&&x.stateNode.implementation===L.implementation){a(U,x.sibling),Q=c(x,L.children||[]),Q.return=U,U=Q;break t}else{a(U,x);break}else n(U,x);x=x.sibling}Q=jc(L,U.mode,Q),Q.return=U,U=Q}return y(U);case b:return rt=L._init,L=rt(L._payload),Zt(U,x,L,Q)}if(Bt(L))return pt(U,x,L,Q);if(O(L)){if(rt=O(L),typeof rt!="function")throw Error(s(150));return L=rt.call(L),ft(U,x,L,Q)}if(typeof L.then=="function")return Zt(U,x,Ku(L),Q);if(L.$$typeof===ct)return Zt(U,x,Uu(U,L),Q);Xu(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,x!==null&&x.tag===6?(a(U,x.sibling),Q=c(x,L),Q.return=U,U=Q):(a(U,x),Q=Bc(L,U.mode,Q),Q.return=U,U=Q),y(U)):a(U,x)}return function(U,x,L,Q){try{hl=0;var rt=Zt(U,x,L,Q);return Yr=null,rt}catch(lt){if(lt===nl||lt===Lu)throw lt;var wt=on(29,lt,null,U.mode);return wt.lanes=Q,wt.return=U,wt}finally{}}}var Fr=lg(!0),ug=lg(!1),wn=Z(null),Zn=null;function Xi(t){var n=t.alternate;W(Ae,Ae.current&1),W(wn,t),Zn===null&&(n===null||qr.current!==null||n.memoizedState!==null)&&(Zn=t)}function og(t){if(t.tag===22){if(W(Ae,Ae.current),W(wn,t),Zn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Zn=t)}}else Zi()}function Zi(){W(Ae,Ae.current),W(wn,wn.current)}function Si(t){it(wn),Zn===t&&(Zn=null),it(Ae)}var Ae=Z(0);function Zu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||cf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Eh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Th={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=dn(),c=Yi(l);c.payload=n,a!=null&&(c.callback=a),n=Fi(t,c,l),n!==null&&(mn(n,t,l),al(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=dn(),c=Yi(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=Fi(t,c,l),n!==null&&(mn(n,t,l),al(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=dn(),l=Yi(a);l.tag=2,n!=null&&(l.callback=n),n=Fi(t,l,a),n!==null&&(mn(n,t,a),al(n,t,a))}};function cg(t,n,a,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ks(a,l)||!Ks(c,f):!0}function hg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Th.enqueueReplaceState(n,n.state,null)}function ar(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var $u=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function fg(t){$u(t)}function dg(t){console.error(t)}function mg(t){$u(t)}function Ju(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function gg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ah(t,n,a){return a=Yi(a),a.tag=3,a.payload={element:null},a.callback=function(){Ju(t,n)},a}function pg(t){return t=Yi(t),t.tag=3,t}function yg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){gg(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){gg(n,a,l),typeof c!="function"&&(na===null?na=new Set([this]):na.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function V0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ws(n,a,c,!0),a=wn.current,a!==null){switch(a.tag){case 13:return Zn===null?Yh():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===$c?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Kh(t,l,c)),!1;case 22:return a.flags|=65536,l===$c?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Kh(t,l,c)),!1}throw Error(s(435,a.tag))}return Kh(t,l,c),Yh(),!1}if(Pt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Gc&&(t=Error(s(422),{cause:l}),Js(An(t,a)))):(l!==Gc&&(n=Error(s(423),{cause:l}),Js(An(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=An(l,a),c=Ah(t.stateNode,l,c),th(t,c),le!==4&&(le=2)),!1;var f=Error(s(520),{cause:l});if(f=An(f,a),vl===null?vl=[f]:vl.push(f),le!==4&&(le=2),n===null)return!0;l=An(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Ah(a.stateNode,l,t),th(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(na===null||!na.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=pg(c),yg(c,t,a,l),th(a,c),!1}a=a.return}while(a!==null);return!1}var _g=Error(s(461)),Ve=!1;function Ue(t,n,a,l){n.child=t===null?ug(n,null,a,l):Fr(n,t.child,a,l)}function vg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return er(n),l=rh(t,n,a,y,f,c),E=sh(),t!==null&&!Ve?(lh(t,n,c),Ri(t,n,c)):(Pt&&E&&qc(n),n.flags|=1,Ue(t,n,l,c),n.child)}function Eg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Pc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Tg(t,n,f,l,c)):(t=xu(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Nh(t,c)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ks,a(y,l)&&t.ref===n.ref)return Ri(t,n,c)}return n.flags|=1,t=_i(f,l),t.ref=n.ref,t.return=n,n.child=t}function Tg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(Ks(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,Nh(t,c))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,Ri(t,n,c)}return bh(t,n,a,l,c)}function Ag(t,n,a){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return bg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(n,f!==null?f.cachePool:null),f!==null?Tm(n,f):nh(),og(n);else return n.lanes=n.childLanes=536870912,bg(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(zu(n,f.cachePool),Tm(n,f),Zi(),n.memoizedState=null):(t!==null&&zu(n,null),nh(),Zi());return Ue(t,n,c,a),n.child}function bg(t,n,a,l){var c=Zc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&zu(n,null),nh(),og(n),t!==null&&Ws(t,n,l,!0),null}function Wu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function bh(t,n,a,l,c){return er(n),a=rh(t,n,a,l,void 0,c),l=sh(),t!==null&&!Ve?(lh(t,n,c),Ri(t,n,c)):(Pt&&l&&qc(n),n.flags|=1,Ue(t,n,a,c),n.child)}function Sg(t,n,a,l,c,f){return er(n),n.updateQueue=null,a=bm(n,l,a,c),Am(t),l=sh(),t!==null&&!Ve?(lh(t,n,f),Ri(t,n,f)):(Pt&&l&&qc(n),n.flags|=1,Ue(t,n,a,f),n.child)}function Rg(t,n,a,l,c){if(er(n),n.stateNode===null){var f=Lr,y=a.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Th,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Jc(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?qe(y):Lr,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Eh(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Th.enqueueReplaceState(f,f.state,null),sl(n,l,f,c),rl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,w=ar(a,E);f.props=w;var k=f.context,G=a.contextType;y=Lr,typeof G=="object"&&G!==null&&(y=qe(G));var F=a.getDerivedStateFromProps;G=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==y)&&hg(n,f,l,y),Qi=!1;var P=n.memoizedState;f.state=P,sl(n,l,f,c),rl(),k=n.memoizedState,E||P!==k||Qi?(typeof F=="function"&&(Eh(n,a,F,l),k=n.memoizedState),(w=Qi||cg(n,a,w,l,P,k,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=y,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Wc(t,n),y=n.memoizedProps,G=ar(a,y),f.props=G,F=n.pendingProps,P=f.context,k=a.contextType,w=Lr,typeof k=="object"&&k!==null&&(w=qe(k)),E=a.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||P!==w)&&hg(n,f,l,w),Qi=!1,P=n.memoizedState,f.state=P,sl(n,l,f,c),rl();var j=n.memoizedState;y!==F||P!==j||Qi||t!==null&&t.dependencies!==null&&Mu(t.dependencies)?(typeof E=="function"&&(Eh(n,a,E,l),j=n.memoizedState),(G=Qi||cg(n,a,G,l,P,j,w)||t!==null&&t.dependencies!==null&&Mu(t.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,j,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,j,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=w,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Wu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Fr(n,t.child,null,c),n.child=Fr(n,null,a,c)):Ue(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Ri(t,n,c),t}function wg(t,n,a,l){return $s(),n.flags|=256,Ue(t,n,a,l),n.child}var Sh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rh(t){return{baseLanes:t,cachePool:dm()}}function wh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Cn),t}function Cg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?Xi(n):Zi(),Pt){var E=se,w;if(w=E){t:{for(w=E,E=Xn;w.nodeType!==8;){if(!E){E=null;break t}if(w=Mn(w.nextSibling),w===null){E=null;break t}}E=w}E!==null?(n.memoizedState={dehydrated:E,treeContext:Za!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},w=on(18,null,null,0),w.stateNode=E,w.return=n,n.child=w,Ze=n,se=null,w=!0):w=!1}w||Wa(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return cf(E)?n.lanes=32:n.lanes=536870912,null;Si(n)}return E=l.children,l=l.fallback,c?(Zi(),c=n.mode,E=to({mode:"hidden",children:E},c),l=Xa(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Rh(a),c.childLanes=wh(t,y,a),n.memoizedState=Sh,l):(Xi(n),Ch(n,E))}if(w=t.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(Xi(n),n.flags&=-257,n=Dh(t,n,a)):n.memoizedState!==null?(Zi(),n.child=t.child,n.flags|=128,n=null):(Zi(),c=l.fallback,E=n.mode,l=to({mode:"visible",children:l.children},E),c=Xa(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Fr(n,t.child,null,a),l=n.child,l.memoizedState=Rh(a),l.childLanes=wh(t,y,a),n.memoizedState=Sh,n=c);else if(Xi(n),cf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var k=y.dgst;y=k,l=Error(s(419)),l.stack="",l.digest=y,Js({value:l,source:null,stack:null}),n=Dh(t,n,a)}else if(Ve||Ws(t,n,a,!1),y=(a&t.childLanes)!==0,Ve||y){if(y=Wt,y!==null&&(l=a&-a,l=(l&42)!==0?1:Li(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,zr(t,l),mn(y,t,l),_g;E.data==="$?"||Yh(),n=Dh(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,se=Mn(E.nextSibling),Ze=n,Pt=!0,Ja=null,Xn=!1,t!==null&&(Sn[Rn++]=vi,Sn[Rn++]=Ei,Sn[Rn++]=Za,vi=t.id,Ei=t.overflow,Za=n),n=Ch(n,l.children),n.flags|=4096);return n}return c?(Zi(),c=l.fallback,E=n.mode,w=t.child,k=w.sibling,l=_i(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,k!==null?c=_i(k,c):(c=Xa(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Rh(a):(w=E.cachePool,w!==null?(k=Te._currentValue,w=w.parent!==k?{parent:k,pool:k}:w):w=dm(),E={baseLanes:E.baseLanes|a,cachePool:w}),c.memoizedState=E,c.childLanes=wh(t,y,a),n.memoizedState=Sh,l):(Xi(n),a=t.child,t=a.sibling,a=_i(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Ch(t,n){return n=to({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function to(t,n){return t=on(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Dh(t,n,a){return Fr(n,t.child,null,a),t=Ch(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Dg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Yc(t.return,n,a)}function Vh(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function Vg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,a),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dg(t,a,n);else if(t.tag===19)Dg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(Ae,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Zu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Vh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Zu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Vh(n,!0,a,null,f);break;case"together":Vh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ri(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ea|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ws(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=_i(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=_i(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Nh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Mu(t)))}function N0(t,n,a){switch(n.tag){case 3:Jt(n,n.stateNode.containerInfo),Gi(n,Te,t.memoizedState.cache),$s();break;case 27:case 5:zi(n);break;case 4:Jt(n,n.stateNode.containerInfo);break;case 10:Gi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Xi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Cg(t,n,a):(Xi(n),t=Ri(t,n,a),t!==null?t.sibling:null);Xi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ws(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Vg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,Ag(t,n,a);case 24:Gi(n,Te,t.memoizedState.cache)}return Ri(t,n,a)}function Ng(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Nh(t,a)&&(n.flags&128)===0)return Ve=!1,N0(t,n,a);Ve=(t.flags&131072)!==0}else Ve=!1,Pt&&(n.flags&1048576)!==0&&sm(n,Ou,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Pc(l)?(t=ar(l,t),n.tag=1,n=Rg(null,n,l,t,a)):(n.tag=0,n=bh(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===xt){n.tag=11,n=vg(null,n,l,t,a);break t}else if(c===M){n.tag=14,n=Eg(null,n,l,t,a);break t}}throw n=Yt(l)||l,Error(s(306,n,""))}}return n;case 0:return bh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=ar(l,n.pendingProps),Rg(t,n,l,c,a);case 3:t:{if(Jt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Wc(t,n),sl(n,l,null,a);var y=n.memoizedState;if(l=y.cache,Gi(n,Te,l),l!==f.cache&&Fc(n,[Te],a,!0),rl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=wg(t,n,l,a);break t}else if(l!==c){c=An(Error(s(424)),n),Js(c),n=wg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(se=Mn(t.firstChild),Ze=n,Pt=!0,Ja=null,Xn=!0,a=ug(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if($s(),l===c){n=Ri(t,n,a);break t}Ue(t,n,l,a)}n=n.child}return n;case 26:return Wu(t,n),t===null?(a=Mp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Pt||(a=n.type,t=n.pendingProps,l=go(_t.current).createElement(a),l[_e]=n,l[de]=t,Le(l,a,t),ue(l),n.stateNode=l):n.memoizedState=Mp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return zi(n),t===null&&Pt&&(l=n.stateNode=xp(n.type,n.pendingProps,_t.current),Ze=n,Xn=!0,c=se,ra(n.type)?(hf=c,se=Mn(l.firstChild)):se=c),Ue(t,n,n.pendingProps.children,a),Wu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((c=l=se)&&(l=aE(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,Ze=n,se=Mn(l.firstChild),Xn=!1,c=!0):c=!1),c||Wa(n)),zi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,lf(c,f)?l=null:y!==null&&lf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=rh(t,n,A0,null,null,a),Dl._currentValue=c),Wu(t,n),Ue(t,n,l,a),n.child;case 6:return t===null&&Pt&&((t=a=se)&&(a=rE(a,n.pendingProps,Xn),a!==null?(n.stateNode=a,Ze=n,se=null,t=!0):t=!1),t||Wa(n)),null;case 13:return Cg(t,n,a);case 4:return Jt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Fr(n,null,l,a):Ue(t,n,l,a),n.child;case 11:return vg(t,n,n.type,n.pendingProps,a);case 7:return Ue(t,n,n.pendingProps,a),n.child;case 8:return Ue(t,n,n.pendingProps.children,a),n.child;case 12:return Ue(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Gi(n,n.type,l.value),Ue(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,er(n),c=qe(c),l=l(c),n.flags|=1,Ue(t,n,l,a),n.child;case 14:return Eg(t,n,n.type,n.pendingProps,a);case 15:return Tg(t,n,n.type,n.pendingProps,a);case 19:return Vg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=to(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=_i(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Ag(t,n,a);case 24:return er(n),l=qe(Te),t===null?(c=Zc(),c===null&&(c=Wt,f=Kc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},Jc(n),Gi(n,Te,c)):((t.lanes&a)!==0&&(Wc(t,n),sl(n,null,null,a),rl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Gi(n,Te,l)):(l=f.cache,Gi(n,Te,l),l!==c.cache&&Fc(n,[Te],a,!0))),Ue(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function wi(t){t.flags|=4}function xg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Pp(n)){if(n=wn.current,n!==null&&((Mt&4194048)===Mt?Zn!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||n!==Zn))throw il=$c,mm;t.flags|=8192}}function eo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ns():536870912,t.lanes|=n,$r|=n)}function dl(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function x0(t,n,a){var l=n.pendingProps;switch(Hc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ai(Te),Ln(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Zs(n)?wi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,om())),ie(n),null;case 26:return a=n.memoizedState,t===null?(wi(n),a!==null?(ie(n),xg(n,a)):(ie(n),n.flags&=-16777217)):a?a!==t.memoizedState?(wi(n),ie(n),xg(n,a)):(ie(n),n.flags&=-16777217):(t.memoizedProps!==l&&wi(n),ie(n),n.flags&=-16777217),null;case 27:ri(n),a=_t.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}t=ot.current,Zs(n)?lm(n):(t=xp(c,l,a),n.stateNode=t,wi(n))}return ie(n),null;case 5:if(ri(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(t=ot.current,Zs(n))lm(n);else{switch(c=go(_t.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[_e]=n,t[de]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&wi(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=_t.current,Zs(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Sp(t.nodeValue,a)),t||Wa(n)}else t=go(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Zs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[_e]=n}else $s(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),c=!1}else c=om(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Si(n),n):(Si(n),null)}if(Si(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),eo(n,n.updateQueue),ie(n),null;case 4:return Ln(),t===null&&ef(n.stateNode.containerInfo),ie(n),null;case 10:return Ai(n.type),ie(n),null;case 19:if(it(Ae),c=n.memoizedState,c===null)return ie(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)dl(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Zu(t),f!==null){for(n.flags|=128,dl(c,!1),t=f.updateQueue,n.updateQueue=t,eo(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)rm(a,t),a=a.sibling;return W(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&pn()>ao&&(n.flags|=128,l=!0,dl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Zu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,eo(n,t),dl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return ie(n),null}else 2*pn()-c.renderingStartTime>ao&&a!==536870912&&(n.flags|=128,l=!0,dl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=pn(),n.sibling=null,t=Ae.current,W(Ae,l?t&1|2:t&1),n):(ie(n),null);case 22:case 23:return Si(n),ih(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&eo(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&it(nr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ai(Te),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function I0(t,n){switch(Hc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ai(Te),Ln(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ri(n),null;case 13:if(Si(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));$s()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return it(Ae),null;case 4:return Ln(),null;case 10:return Ai(n.type),null;case 22:case 23:return Si(n),ih(),t!==null&&it(nr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ai(Te),null;case 25:return null;default:return null}}function Ig(t,n){switch(Hc(n),n.tag){case 3:Ai(Te),Ln();break;case 26:case 27:case 5:ri(n);break;case 4:Ln();break;case 13:Si(n);break;case 19:it(Ae);break;case 10:Ai(n.type);break;case 22:case 23:Si(n),ih(),t!==null&&it(nr);break;case 24:Ai(Te)}}function ml(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){$t(n,n.return,E)}}function $i(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var w=a,k=E;try{k()}catch(G){$t(c,w,G)}}}l=l.next}while(l!==f)}}catch(G){$t(n,n.return,G)}}function Og(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Em(n,a)}catch(l){$t(t,t.return,l)}}}function Mg(t,n,a){a.props=ar(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$t(t,n,l)}}function gl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){$t(t,n,c)}}function $n(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){$t(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){$t(t,n,c)}else a.current=null}function Ug(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){$t(t,t.return,c)}}function xh(t,n,a){try{var l=t.stateNode;W0(l,t.type,a,n),l[de]=n}catch(c){$t(t,t.return,c)}}function zg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ra(t.type)||t.tag===4}function Ih(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||zg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ra(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Oh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=mo));else if(l!==4&&(l===27&&ra(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Oh(t,n,a),t=t.sibling;t!==null;)Oh(t,n,a),t=t.sibling}function no(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ra(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(no(t,n,a),t=t.sibling;t!==null;)no(t,n,a),t=t.sibling}function Lg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Le(n,l,a),n[_e]=t,n[de]=a}catch(f){$t(t,t.return,f)}}var Ci=!1,ce=!1,Mh=!1,kg=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function O0(t,n){if(t=t.containerInfo,rf=To,t=Xd(t),Ic(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,w=-1,k=0,G=0,F=t,P=null;e:for(;;){for(var j;F!==a||c!==0&&F.nodeType!==3||(E=y+c),F!==f||l!==0&&F.nodeType!==3||(w=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(j=F.firstChild)!==null;)P=F,F=j;for(;;){if(F===t)break e;if(P===a&&++k===c&&(E=y),P===f&&++G===l&&(w=y),(j=F.nextSibling)!==null)break;F=P,P=F.parentNode}F=j}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(sf={focusedElem:t,selectionRange:a},To=!1,Ne=n;Ne!==null;)if(n=Ne,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ne=t;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var pt=ar(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(pt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ft){$t(a,a.return,ft)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)of(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":of(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ne=t;break}Ne=n.return}}function Pg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(t,a),l&4&&ml(5,a);break;case 1:if(Ji(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){$t(a,a.return,y)}else{var c=ar(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){$t(a,a.return,y)}}l&64&&Og(a),l&512&&gl(a,a.return);break;case 3:if(Ji(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Em(t,n)}catch(y){$t(a,a.return,y)}}break;case 27:n===null&&l&4&&Lg(a);case 26:case 5:Ji(t,a),n===null&&l&4&&Ug(a),l&512&&gl(a,a.return);break;case 12:Ji(t,a);break;case 13:Ji(t,a),l&4&&qg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=q0.bind(null,a),sE(t,a))));break;case 22:if(l=a.memoizedState!==null||Ci,!l){n=n!==null&&n.memoizedState!==null||ce,c=Ci;var f=ce;Ci=l,(ce=n)&&!f?Wi(t,a,(a.subtreeFlags&8772)!==0):Ji(t,a),Ci=c,ce=f}break;case 30:break;default:Ji(t,a)}}function Bg(t){var n=t.alternate;n!==null&&(t.alternate=null,Bg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Bi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ee=null,tn=!1;function Di(t,n,a){for(a=a.child;a!==null;)jg(t,n,a),a=a.sibling}function jg(t,n,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(re,a)}catch{}switch(a.tag){case 26:ce||$n(a,n),Di(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ce||$n(a,n);var l=ee,c=tn;ra(a.type)&&(ee=a.stateNode,tn=!1),Di(t,n,a),Sl(a.stateNode),ee=l,tn=c;break;case 5:ce||$n(a,n);case 6:if(l=ee,c=tn,ee=null,Di(t,n,a),ee=l,tn=c,ee!==null)if(tn)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(a.stateNode)}catch(f){$t(a,n,f)}else try{ee.removeChild(a.stateNode)}catch(f){$t(a,n,f)}break;case 18:ee!==null&&(tn?(t=ee,Vp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Il(t)):Vp(ee,a.stateNode));break;case 4:l=ee,c=tn,ee=a.stateNode.containerInfo,tn=!0,Di(t,n,a),ee=l,tn=c;break;case 0:case 11:case 14:case 15:ce||$i(2,a,n),ce||$i(4,a,n),Di(t,n,a);break;case 1:ce||($n(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Mg(a,n,l)),Di(t,n,a);break;case 21:Di(t,n,a);break;case 22:ce=(l=ce)||a.memoizedState!==null,Di(t,n,a),ce=l;break;default:Di(t,n,a)}}function qg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Il(t)}catch(a){$t(n,n.return,a)}}function M0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new kg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new kg),n;default:throw Error(s(435,t.tag))}}function Uh(t,n){var a=M0(t);n.forEach(function(l){var c=H0.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function cn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ra(E.type)){ee=E.stateNode,tn=!1;break t}break;case 5:ee=E.stateNode,tn=!1;break t;case 3:case 4:ee=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(ee===null)throw Error(s(160));jg(f,y,c),ee=null,tn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Hg(n,t),n=n.sibling}var On=null;function Hg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(n,t),hn(t),l&4&&($i(3,t,t.return),ml(3,t),$i(5,t,t.return));break;case 1:cn(n,t),hn(t),l&512&&(ce||a===null||$n(a,a.return)),l&64&&Ci&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=On;if(cn(n,t),hn(t),l&512&&(ce||a===null||$n(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Oa]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Le(f,l,a),f[_e]=t,ue(f),l=f;break t;case"link":var y=Lp("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,a),c.head.appendChild(f);break;case"meta":if(y=Lp("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[_e]=t,ue(f),l=f}t.stateNode=l}else kp(c,t.type,t.stateNode);else t.stateNode=zp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?kp(c,t.type,t.stateNode):zp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&xh(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(n,t),hn(t),l&512&&(ce||a===null||$n(a,a.return)),a!==null&&l&4&&xh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(n,t),hn(t),l&512&&(ce||a===null||$n(a,a.return)),t.flags&32){c=t.stateNode;try{_n(c,"")}catch(j){$t(t,t.return,j)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,xh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Mh=!0);break;case 6:if(cn(n,t),hn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(j){$t(t,t.return,j)}}break;case 3:if(_o=null,c=On,On=po(n.containerInfo),cn(n,t),On=c,hn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Il(n.containerInfo)}catch(j){$t(t,t.return,j)}Mh&&(Mh=!1,Gg(t));break;case 4:l=On,On=po(t.stateNode.containerInfo),cn(n,t),hn(t),On=l;break;case 12:cn(n,t),hn(t);break;case 13:cn(n,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(jh=pn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uh(t,l)));break;case 22:c=t.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,k=Ci,G=ce;if(Ci=k||c,ce=G||w,cn(n,t),ce=G,Ci=k,hn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||w||Ci||ce||rr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(f=w.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=w.stateNode;var F=w.memoizedProps.style,P=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(j){$t(w,w.return,j)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(j){$t(w,w.return,j)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Uh(t,a))));break;case 19:cn(n,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uh(t,l)));break;case 30:break;case 21:break;default:cn(n,t),hn(t)}}function hn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(zg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=Ih(t);no(t,f,c);break;case 5:var y=a.stateNode;a.flags&32&&(_n(y,""),a.flags&=-33);var E=Ih(t);no(t,E,y);break;case 3:case 4:var w=a.stateNode.containerInfo,k=Ih(t);Oh(t,k,w);break;default:throw Error(s(161))}}catch(G){$t(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Gg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Gg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Pg(t,n.alternate,n),n=n.sibling}function rr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:$i(4,n,n.return),rr(n);break;case 1:$n(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Mg(n,n.return,a),rr(n);break;case 27:Sl(n.stateNode);case 26:case 5:$n(n,n.return),rr(n);break;case 22:n.memoizedState===null&&rr(n);break;case 30:rr(n);break;default:rr(n)}t=t.sibling}}function Wi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(c,f,a),ml(4,f);break;case 1:if(Wi(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){$t(l,l.return,k)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)vm(w[c],E)}catch(k){$t(l,l.return,k)}}a&&y&64&&Og(f),gl(f,f.return);break;case 27:Lg(f);case 26:case 5:Wi(c,f,a),a&&l===null&&y&4&&Ug(f),gl(f,f.return);break;case 12:Wi(c,f,a);break;case 13:Wi(c,f,a),a&&y&4&&qg(c,f);break;case 22:f.memoizedState===null&&Wi(c,f,a),gl(f,f.return);break;case 30:break;default:Wi(c,f,a)}n=n.sibling}}function zh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&tl(a))}function Lh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&tl(t))}function Jn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Qg(t,n,a,l),n=n.sibling}function Qg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,a,l),c&2048&&ml(9,n);break;case 1:Jn(t,n,a,l);break;case 3:Jn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&tl(t)));break;case 12:if(c&2048){Jn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){$t(n,n.return,w)}}else Jn(t,n,a,l);break;case 13:Jn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,a,l):pl(t,n):f._visibility&2?Jn(t,n,a,l):(f._visibility|=2,Kr(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&zh(y,n);break;case 24:Jn(t,n,a,l),c&2048&&Lh(n.alternate,n);break;default:Jn(t,n,a,l)}}function Kr(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=a,w=l,k=y.flags;switch(y.tag){case 0:case 11:case 15:Kr(f,y,E,w,c),ml(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Kr(f,y,E,w,c):pl(f,y):(G._visibility|=2,Kr(f,y,E,w,c)),c&&k&2048&&zh(y.alternate,y);break;case 24:Kr(f,y,E,w,c),c&&k&2048&&Lh(y.alternate,y);break;default:Kr(f,y,E,w,c)}n=n.sibling}}function pl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:pl(a,l),c&2048&&zh(l.alternate,l);break;case 24:pl(a,l),c&2048&&Lh(l.alternate,l);break;default:pl(a,l)}n=n.sibling}}var yl=8192;function Xr(t){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)Yg(t),t=t.sibling}function Yg(t){switch(t.tag){case 26:Xr(t),t.flags&yl&&t.memoizedState!==null&&vE(On,t.memoizedState,t.memoizedProps);break;case 5:Xr(t);break;case 3:case 4:var n=On;On=po(t.stateNode.containerInfo),Xr(t),On=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=yl,yl=16777216,Xr(t),yl=n):Xr(t));break;default:Xr(t)}}function Fg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function _l(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ne=l,Xg(l,t)}Fg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Kg(t),t=t.sibling}function Kg(t){switch(t.tag){case 0:case 11:case 15:_l(t),t.flags&2048&&$i(9,t,t.return);break;case 3:_l(t);break;case 12:_l(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,io(t)):_l(t);break;default:_l(t)}}function io(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ne=l,Xg(l,t)}Fg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:$i(8,n,n.return),io(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,io(n));break;default:io(n)}t=t.sibling}}function Xg(t,n){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:$i(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ne=l;else t:for(a=t;Ne!==null;){l=Ne;var c=l.sibling,f=l.return;if(Bg(l),l===a){Ne=null;break t}if(c!==null){c.return=f,Ne=c;break t}Ne=f}}}var U0={getCacheForType:function(t){var n=qe(Te),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},z0=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Wt=null,Ct=null,Mt=0,Qt=0,fn=null,ta=!1,Zr=!1,kh=!1,Vi=0,le=0,ea=0,sr=0,Ph=0,Cn=0,$r=0,vl=null,en=null,Bh=!1,jh=0,ao=1/0,ro=null,na=null,ze=0,ia=null,Jr=null,Wr=0,qh=0,Hh=null,Zg=null,El=0,Gh=null;function dn(){if((Gt&2)!==0&&Mt!==0)return Mt&-Mt;if(H.T!==null){var t=Br;return t!==0?t:$h()}return ki()}function $g(){Cn===0&&(Cn=(Mt&536870912)===0||Pt?Vs():536870912);var t=wn.current;return t!==null&&(t.flags|=32),Cn}function mn(t,n,a){(t===Wt&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(ts(t,0),aa(t,Mt,Cn,!1)),li(t,a),((Gt&2)===0||t!==Wt)&&(t===Wt&&((Gt&2)===0&&(sr|=a),le===4&&aa(t,Mt,Cn,!1)),Wn(t))}function Jg(t,n,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Ia(t,n),c=l?P0(t,n):Fh(t,n,!0),f=l;do{if(c===0){Zr&&!l&&aa(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!L0(a)){c=Fh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=vl;var w=E.current.memoizedState.isDehydrated;if(w&&(ts(E,y).flags|=256),y=Fh(E,y,!1),y!==2){if(kh&&!w){E.errorRecoveryDisabledLanes|=f,sr|=f,c=4;break t}f=en,en=c,f!==null&&(en===null?en=f:en.push.apply(en,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){ts(t,0),aa(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:aa(l,n,Cn,!ta);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=jh+300-pn(),10<c)){if(aa(l,n,Cn,!ta),yr(l,0,!0)!==0)break t;l.timeoutHandle=Cp(Wg.bind(null,l,a,en,ro,Bh,n,Cn,sr,$r,ta,f,2,-0,0),c);break t}Wg(l,a,en,ro,Bh,n,Cn,sr,$r,ta,f,0,-0,0)}}break}while(!0);Wn(t)}function Wg(t,n,a,l,c,f,y,E,w,k,G,F,P,j){if(t.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(Cl={stylesheets:null,count:0,unsuspend:_E},Yg(n),F=EE(),F!==null)){t.cancelPendingCommit=F(sp.bind(null,t,n,f,a,l,c,y,E,w,G,1,P,j)),aa(t,f,y,!k);return}sp(t,n,f,a,l,c,y,E,w)}function L0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!un(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function aa(t,n,a,l){n&=~Ph,n&=~sr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-je(c),y=1<<f;l[f]=-1,c&=~y}a!==0&&kn(t,a,n)}function so(){return(Gt&6)===0?(Tl(0),!1):!0}function Qh(){if(Ct!==null){if(Qt===0)var t=Ct.return;else t=Ct,Ti=tr=null,uh(t),Yr=null,hl=0,t=Ct;for(;t!==null;)Ig(t.alternate,t),t=t.return;Ct=null}}function ts(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,eE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Qh(),Wt=t,Ct=a=_i(t.current,null),Mt=n,Qt=0,fn=null,ta=!1,Zr=Ia(t,n),kh=!1,$r=Cn=Ph=sr=ea=le=0,en=vl=null,Bh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-je(l),f=1<<c;n|=t[c],l&=~f}return Vi=n,Du(),a}function tp(t,n){bt=null,H.H=Fu,n===nl||n===Lu?(n=ym(),Qt=3):n===mm?(n=ym(),Qt=4):Qt=n===_g?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fn=n,Ct===null&&(le=1,Ju(t,An(n,t.current)))}function ep(){var t=H.H;return H.H=Fu,t===null?Fu:t}function np(){var t=H.A;return H.A=U0,t}function Yh(){le=4,ta||(Mt&4194048)!==Mt&&wn.current!==null||(Zr=!0),(ea&134217727)===0&&(sr&134217727)===0||Wt===null||aa(Wt,Mt,Cn,!1)}function Fh(t,n,a){var l=Gt;Gt|=2;var c=ep(),f=np();(Wt!==t||Mt!==n)&&(ro=null,ts(t,n)),n=!1;var y=le;t:do try{if(Qt!==0&&Ct!==null){var E=Ct,w=fn;switch(Qt){case 8:Qh(),y=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var k=Qt;if(Qt=0,fn=null,es(t,E,w,k),a&&Zr){y=0;break t}break;default:k=Qt,Qt=0,fn=null,es(t,E,w,k)}}k0(),y=le;break}catch(G){tp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Ti=tr=null,Gt=l,H.H=c,H.A=f,Ct===null&&(Wt=null,Mt=0,Du()),y}function k0(){for(;Ct!==null;)ip(Ct)}function P0(t,n){var a=Gt;Gt|=2;var l=ep(),c=np();Wt!==t||Mt!==n?(ro=null,ao=pn()+500,ts(t,n)):Zr=Ia(t,n);t:do try{if(Qt!==0&&Ct!==null){n=Ct;var f=fn;e:switch(Qt){case 1:Qt=0,fn=null,es(t,n,f,1);break;case 2:case 9:if(gm(f)){Qt=0,fn=null,ap(n);break}n=function(){Qt!==2&&Qt!==9||Wt!==t||(Qt=7),Wn(t)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:gm(f)?(Qt=0,fn=null,ap(n)):(Qt=0,fn=null,es(t,n,f,7));break;case 5:var y=null;switch(Ct.tag){case 26:y=Ct.memoizedState;case 5:case 27:var E=Ct;if(!y||Pp(y)){Qt=0,fn=null;var w=E.sibling;if(w!==null)Ct=w;else{var k=E.return;k!==null?(Ct=k,lo(k)):Ct=null}break e}}Qt=0,fn=null,es(t,n,f,5);break;case 6:Qt=0,fn=null,es(t,n,f,6);break;case 8:Qh(),le=6;break t;default:throw Error(s(462))}}B0();break}catch(G){tp(t,G)}while(!0);return Ti=tr=null,H.H=l,H.A=c,Gt=a,Ct!==null?0:(Wt=null,Mt=0,Du(),le)}function B0(){for(;Ct!==null&&!Rs();)ip(Ct)}function ip(t){var n=Ng(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?lo(t):Ct=n}function ap(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Sg(a,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Sg(a,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:uh(n);default:Ig(a,n),n=Ct=rm(n,Vi),n=Ng(a,n,Vi)}t.memoizedProps=t.pendingProps,n===null?lo(t):Ct=n}function es(t,n,a,l){Ti=tr=null,uh(n),Yr=null,hl=0;var c=n.return;try{if(V0(t,c,n,a,Mt)){le=1,Ju(t,An(a,t.current)),Ct=null;return}}catch(f){if(c!==null)throw Ct=c,f;le=1,Ju(t,An(a,t.current)),Ct=null;return}n.flags&32768?(Pt||l===1?t=!0:Zr||(Mt&536870912)!==0?t=!1:(ta=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),rp(n,t)):lo(n)}function lo(t){var n=t;do{if((n.flags&32768)!==0){rp(n,ta);return}t=n.return;var a=x0(n.alternate,n,Vi);if(a!==null){Ct=a;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=t}while(n!==null);le===0&&(le=5)}function rp(t,n){do{var a=I0(t.alternate,t);if(a!==null){a.flags&=32767,Ct=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=a}while(t!==null);le=6,Ct=null}function sp(t,n,a,l,c,f,y,E,w){t.cancelPendingCommit=null;do uo();while(ze!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Lc,xs(t,a,f,y,E,w),t===Wt&&(Ct=Wt=null,Mt=0),Jr=n,ia=t,Wr=a,qh=f,Hh=c,Zg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,G0(Da,function(){return hp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=et.p,et.p=2,y=Gt,Gt|=4;try{O0(t,n,a)}finally{Gt=y,et.p=c,H.T=l}}ze=1,lp(),up(),op()}}function lp(){if(ze===1){ze=0;var t=ia,n=Jr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=Gt;Gt|=4;try{Hg(n,t);var f=sf,y=Xd(t.containerInfo),E=f.focusedElem,w=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Kd(E.ownerDocument.documentElement,E)){if(w!==null&&Ic(E)){var k=w.start,G=w.end;if(G===void 0&&(G=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(G,E.value.length);else{var F=E.ownerDocument||document,P=F&&F.defaultView||window;if(P.getSelection){var j=P.getSelection(),pt=E.textContent.length,ft=Math.min(w.start,pt),Zt=w.end===void 0?ft:Math.min(w.end,pt);!j.extend&&ft>Zt&&(y=Zt,Zt=ft,ft=y);var U=Fd(E,ft),x=Fd(E,Zt);if(U&&x&&(j.rangeCount!==1||j.anchorNode!==U.node||j.anchorOffset!==U.offset||j.focusNode!==x.node||j.focusOffset!==x.offset)){var L=F.createRange();L.setStart(U.node,U.offset),j.removeAllRanges(),ft>Zt?(j.addRange(L),j.extend(x.node,x.offset)):(L.setEnd(x.node,x.offset),j.addRange(L))}}}}for(F=[],j=E;j=j.parentNode;)j.nodeType===1&&F.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Q=F[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}To=!!rf,sf=rf=null}finally{Gt=c,et.p=l,H.T=a}}t.current=n,ze=2}}function up(){if(ze===2){ze=0;var t=ia,n=Jr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=Gt;Gt|=4;try{Pg(t,n.alternate,n)}finally{Gt=c,et.p=l,H.T=a}}ze=3}}function op(){if(ze===4||ze===3){ze=0,iu();var t=ia,n=Jr,a=Wr,l=Zg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,Jr=ia=null,cp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(na=null),_r(a),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}(Wr&3)!==0&&uo(),Wn(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===Gh?El++:(El=0,Gh=t):El=0,Tl(0)}}function cp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,tl(n)))}function uo(t){return lp(),up(),op(),hp()}function hp(){if(ze!==5)return!1;var t=ia,n=qh;qh=0;var a=_r(Wr),l=H.T,c=et.p;try{et.p=32>a?32:a,H.T=null,a=Hh,Hh=null;var f=ia,y=Wr;if(ze=0,Jr=ia=null,Wr=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,Kg(f.current),Qg(f,f.current,y,a),Gt=E,Tl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(re,f)}catch{}return!0}finally{et.p=c,H.T=l,cp(t,n)}}function fp(t,n,a){n=An(a,n),n=Ah(t.stateNode,n,2),t=Fi(t,n,2),t!==null&&(li(t,2),Wn(t))}function $t(t,n,a){if(t.tag===3)fp(t,t,a);else for(;n!==null;){if(n.tag===3){fp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(na===null||!na.has(l))){t=An(a,t),a=pg(2),l=Fi(n,a,2),l!==null&&(yg(a,l,n,t),li(l,2),Wn(l));break}}n=n.return}}function Kh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new z0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(kh=!0,c.add(a),t=j0.bind(null,t,n,a),n.then(t,t))}function j0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Wt===t&&(Mt&a)===a&&(le===4||le===3&&(Mt&62914560)===Mt&&300>pn()-jh?(Gt&2)===0&&ts(t,0):Ph|=a,$r===Mt&&($r=0)),Wn(t)}function dp(t,n){n===0&&(n=Ns()),t=zr(t,n),t!==null&&(li(t,n),Wn(t))}function q0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),dp(t,a)}function H0(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),dp(t,a)}function G0(t,n){return wa(t,n)}var oo=null,ns=null,Xh=!1,co=!1,Zh=!1,lr=0;function Wn(t){t!==ns&&t.next===null&&(ns===null?oo=ns=t:ns=ns.next=t),co=!0,Xh||(Xh=!0,Y0())}function Tl(t,n){if(!Zh&&co){Zh=!0;do for(var a=!1,l=oo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-je(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,yp(l,f))}else f=Mt,f=yr(l,l===Wt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ia(l,f)||(a=!0,yp(l,f));l=l.next}while(a);Zh=!1}}function Q0(){mp()}function mp(){co=Xh=!1;var t=0;lr!==0&&(tE()&&(t=lr),lr=0);for(var n=pn(),a=null,l=oo;l!==null;){var c=l.next,f=gp(l,n);f===0?(l.next=null,a===null?oo=c:a.next=c,c===null&&(ns=a)):(a=l,(t!==0||(f&3)!==0)&&(co=!0)),l=c}Tl(t)}function gp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-je(f),E=1<<y,w=c[y];w===-1?((E&a)===0||(E&l)!==0)&&(c[y]=Ds(E,n)):w<=n&&(t.expiredLanes|=E),f&=~E}if(n=Wt,a=Mt,a=yr(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ca(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ia(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Ca(l),_r(a)){case 2:case 8:a=gr;break;case 32:a=Da;break;case 268435456:a=pr;break;default:a=Da}return l=pp.bind(null,t),a=wa(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Ca(l),t.callbackPriority=2,t.callbackNode=null,2}function pp(t,n){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(uo()&&t.callbackNode!==a)return null;var l=Mt;return l=yr(t,t===Wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Jg(t,l,n),gp(t,pn()),t.callbackNode!=null&&t.callbackNode===a?pp.bind(null,t):null)}function yp(t,n){if(uo())return null;Jg(t,n,!0)}function Y0(){nE(function(){(Gt&6)!==0?wa(ws,Q0):mp()})}function $h(){return lr===0&&(lr=Vs()),lr}function _p(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sr(""+t)}function vp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function F0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=_p((c[de]||null).action),y=l.submitter;y&&(n=(n=y[de]||null)?_p(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Rr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(lr!==0){var w=y?vp(c,y):new FormData(c);yh(a,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=y?vp(c,y):new FormData(c),yh(a,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var Jh=0;Jh<zc.length;Jh++){var Wh=zc[Jh],K0=Wh.toLowerCase(),X0=Wh[0].toUpperCase()+Wh.slice(1);In(K0,"on"+X0)}In(Jd,"onAnimationEnd"),In(Wd,"onAnimationIteration"),In(tm,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(f0,"onTransitionRun"),In(d0,"onTransitionStart"),In(m0,"onTransitionCancel"),In(em,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function Ep(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],w=E.instance,k=E.currentTarget;if(E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(G){$u(G)}c.currentTarget=null,f=w}else for(y=0;y<l.length;y++){if(E=l[y],w=E.instance,k=E.currentTarget,E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(G){$u(G)}c.currentTarget=null,f=w}}}}function Dt(t,n){var a=n[Os];a===void 0&&(a=n[Os]=new Set);var l=t+"__bubble";a.has(l)||(Tp(n,t,2,!1),a.add(l))}function tf(t,n,a){var l=0;n&&(l|=4),Tp(a,t,l,n)}var ho="_reactListening"+Math.random().toString(36).slice(2);function ef(t){if(!t[ho]){t[ho]=!0,Ms.forEach(function(a){a!=="selectionchange"&&(Z0.has(a)||tf(a,!1,t),tf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ho]||(n[ho]=!0,tf("selectionchange",!1,n))}}function Tp(t,n,a,l){switch(Qp(n)){case 2:var c=bE;break;case 8:c=SE;break;default:c=pf}a=c.bind(null,n,a,t),c=void 0,!En||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function nf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var w=y.tag;if((w===3||w===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ui(E),y===null)return;if(w=y.tag,w===5||w===6||w===26||w===27){l=f=y;continue t}E=E.parentNode}}l=l.return}du(function(){var k=f,G=vn(a),F=[];t:{var P=nm.get(t);if(P!==void 0){var j=Rr,pt=t;switch(t){case"keypress":if(Gn(a)===0)break t;case"keydown":case"keyup":j=xr;break;case"focusin":pt="focus",j=Dr;break;case"focusout":pt="blur",j=Dr;break;case"beforeblur":case"afterblur":j=Dr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Tu;break;case Jd:case Wd:case tm:j=Vr;break;case em:j=bu;break;case"scroll":case"scrollend":j=mu;break;case"wheel":j=Ir;break;case"copy":case"cut":case"paste":j=Nr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Ys;break;case"toggle":case"beforetoggle":j=Ru}var ft=(n&4)!==0,Zt=!ft&&(t==="scroll"||t==="scrollend"),U=ft?P!==null?P+"Capture":null:P;ft=[];for(var x=k,L;x!==null;){var Q=x;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||U===null||(Q=Ba(x,U),Q!=null&&ft.push(bl(x,Q,L))),Zt)break;x=x.return}0<ft.length&&(P=new j(P,pt,null,a,G),F.push({event:P,listeners:ft}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",P&&a!==fi&&(pt=a.relatedTarget||a.fromElement)&&(ui(pt)||pt[yn]))break t;if((j||P)&&(P=G.window===G?G:(P=G.ownerDocument)?P.defaultView||P.parentWindow:window,j?(pt=a.relatedTarget||a.toElement,j=k,pt=pt?ui(pt):null,pt!==null&&(Zt=h(pt),ft=pt.tag,pt!==Zt||ft!==5&&ft!==27&&ft!==6)&&(pt=null)):(j=null,pt=k),j!==pt)){if(ft=Tn,Q="onMouseLeave",U="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(ft=Ys,Q="onPointerLeave",U="onPointerEnter",x="pointer"),Zt=j==null?P:Bn(j),L=pt==null?P:Bn(pt),P=new ft(Q,x+"leave",j,a,G),P.target=Zt,P.relatedTarget=L,Q=null,ui(G)===k&&(ft=new ft(U,x+"enter",pt,a,G),ft.target=L,ft.relatedTarget=Zt,Q=ft),Zt=Q,j&&pt)e:{for(ft=j,U=pt,x=0,L=ft;L;L=is(L))x++;for(L=0,Q=U;Q;Q=is(Q))L++;for(;0<x-L;)ft=is(ft),x--;for(;0<L-x;)U=is(U),L--;for(;x--;){if(ft===U||U!==null&&ft===U.alternate)break e;ft=is(ft),U=is(U)}ft=null}else ft=null;j!==null&&Ap(F,P,j,ft,!1),pt!==null&&Zt!==null&&Ap(F,Zt,pt,ft,!0)}}t:{if(P=k?Bn(k):window,j=P.nodeName&&P.nodeName.toLowerCase(),j==="select"||j==="input"&&P.type==="file")var rt=jd;else if(Ee(P))if(qd)rt=o0;else{rt=l0;var wt=s0}else j=P.nodeName,!j||j.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?k&&Ps(k.elementType)&&(rt=jd):rt=u0;if(rt&&(rt=rt(t,k))){yi(F,rt,a,G);break t}wt&&wt(t,P,k),t==="focusout"&&k&&P.type==="number"&&k.memoizedProps.value!=null&&qi(P,"number",P.value)}switch(wt=k?Bn(k):window,t){case"focusin":(Ee(wt)||wt.contentEditable==="true")&&(Or=wt,Oc=k,Xs=null);break;case"focusout":Xs=Oc=Or=null;break;case"mousedown":Mc=!0;break;case"contextmenu":case"mouseup":case"dragend":Mc=!1,Zd(F,a,G);break;case"selectionchange":if(h0)break;case"keydown":case"keyup":Zd(F,a,G)}var lt;if(Fn)t:{switch(t){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else It?q(t,a)&&(mt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(mt="onCompositionStart");mt&&(p&&a.locale!=="ko"&&(It||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&It&&(lt=js()):(Hn=G,Hi="value"in Hn?Hn.value:Hn.textContent,It=!0)),wt=fo(k,mt),0<wt.length&&(mt=new Gs(mt,t,null,a,G),F.push({event:mt,listeners:wt}),lt?mt.data=lt:(lt=nt(a),lt!==null&&(mt.data=lt)))),(lt=m?ve(t,a):Ot(t,a))&&(mt=fo(k,"onBeforeInput"),0<mt.length&&(wt=new Gs("onBeforeInput","beforeinput",null,a,G),F.push({event:wt,listeners:mt}),wt.data=lt)),F0(F,t,k,a,G)}Ep(F,n)})}function bl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function fo(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ba(t,a),c!=null&&l.unshift(bl(t,c,f)),c=Ba(t,n),c!=null&&l.push(bl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ap(t,n,a,l,c){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,w=E.alternate,k=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||k===null||(w=k,c?(k=Ba(a,f),k!=null&&y.unshift(bl(a,k,w))):c||(k=Ba(a,f),k!=null&&y.push(bl(a,k,w)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var $0=/\r\n?/g,J0=/\u0000|\uFFFD/g;function bp(t){return(typeof t=="string"?t:""+t).replace($0,`
`).replace(J0,"")}function Sp(t,n){return n=bp(n),bp(t)===n}function mo(){}function Xt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(t,""+l);break;case"className":jn(t,"class",l);break;case"tabIndex":jn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(t,a,l);break;case"style":ks(t,l,f);break;case"data":if(n!=="object"){jn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Sr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Xt(t,n,"name",c.name,c,null),Xt(t,n,"formEncType",c.formEncType,c,null),Xt(t,n,"formMethod",c.formMethod,c,null),Xt(t,n,"formTarget",c.formTarget,c,null)):(Xt(t,n,"encType",c.encType,c,null),Xt(t,n,"method",c.method,c,null),Xt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Sr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=mo);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Sr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),ji(t,"popover",l);break;case"xlinkActuate":Oe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Oe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Oe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Oe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Oe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Oe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ji(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wc.get(a)||a,ji(t,a,l))}}function af(t,n,a,l,c,f){switch(a){case"style":ks(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=mo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[de]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ji(t,a,l)}}}function Le(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,f,y,a,null)}}c&&Xt(t,n,"srcSet",a.srcSet,a,null),l&&Xt(t,n,"src",a.src,a,null);return;case"input":Dt("invalid",t);var E=f=y=c=null,w=null,k=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":w=G;break;case"defaultChecked":k=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Xt(t,n,l,G,a,null)}}La(t,f,E,w,k,y,c,!1),br(t);return;case"select":Dt("invalid",t),l=y=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Xt(t,n,c,E,a,null)}n=f,a=y,t.multiple=!!l,n!=null?hi(t,!!l,n,!1):a!=null&&hi(t,!!l,a,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Xt(t,n,y,E,a,null)}ka(t,l,c,f),br(t);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(t,n,w,l,a,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)Dt(Al[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,k,l,a,null)}return;default:if(Ps(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&af(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Xt(t,n,E,l,a,null))}function W0(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,w=null,k=null,G=null;for(j in a){var F=a[j];if(a.hasOwnProperty(j)&&F!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":w=F;default:l.hasOwnProperty(j)||Xt(t,n,j,null,l,F)}}for(var P in l){var j=l[P];if(F=a[P],l.hasOwnProperty(P)&&(j!=null||F!=null))switch(P){case"type":f=j;break;case"name":c=j;break;case"checked":k=j;break;case"defaultChecked":G=j;break;case"value":y=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:j!==F&&Xt(t,n,P,j,l,F)}}ln(t,y,E,w,k,G,f,c);return;case"select":j=y=E=P=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":j=w;default:l.hasOwnProperty(f)||Xt(t,n,f,null,l,w)}for(c in l)if(f=l[c],w=a[c],l.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==w&&Xt(t,n,c,f,l,w)}n=E,a=y,l=j,P!=null?hi(t,!!a,P,!1):!!l!=!!a&&(n!=null?hi(t,!!a,n,!0):hi(t,!!a,a?[]:"",!1));return;case"textarea":j=P=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=a[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":P=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Xt(t,n,y,c,l,f)}Ft(t,P,j);return;case"option":for(var pt in a)if(P=a[pt],a.hasOwnProperty(pt)&&P!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":t.selected=!1;break;default:Xt(t,n,pt,null,l,P)}for(w in l)if(P=l[w],j=a[w],l.hasOwnProperty(w)&&P!==j&&(P!=null||j!=null))switch(w){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Xt(t,n,w,P,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)P=a[ft],a.hasOwnProperty(ft)&&P!=null&&!l.hasOwnProperty(ft)&&Xt(t,n,ft,null,l,P);for(k in l)if(P=l[k],j=a[k],l.hasOwnProperty(k)&&P!==j&&(P!=null||j!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,n));break;default:Xt(t,n,k,P,l,j)}return;default:if(Ps(n)){for(var Zt in a)P=a[Zt],a.hasOwnProperty(Zt)&&P!==void 0&&!l.hasOwnProperty(Zt)&&af(t,n,Zt,void 0,l,P);for(G in l)P=l[G],j=a[G],!l.hasOwnProperty(G)||P===j||P===void 0&&j===void 0||af(t,n,G,P,l,j);return}}for(var U in a)P=a[U],a.hasOwnProperty(U)&&P!=null&&!l.hasOwnProperty(U)&&Xt(t,n,U,null,l,P);for(F in l)P=l[F],j=a[F],!l.hasOwnProperty(F)||P===j||P==null&&j==null||Xt(t,n,F,P,l,j)}var rf=null,sf=null;function go(t){return t.nodeType===9?t:t.ownerDocument}function Rp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function lf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var uf=null;function tE(){var t=window.event;return t&&t.type==="popstate"?t===uf?!1:(uf=t,!0):(uf=null,!1)}var Cp=typeof setTimeout=="function"?setTimeout:void 0,eE=typeof clearTimeout=="function"?clearTimeout:void 0,Dp=typeof Promise=="function"?Promise:void 0,nE=typeof queueMicrotask=="function"?queueMicrotask:typeof Dp<"u"?function(t){return Dp.resolve(null).then(t).catch(iE)}:Cp;function iE(t){setTimeout(function(){throw t})}function ra(t){return t==="head"}function Vp(t,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var y=t.ownerDocument;if(a&1&&Sl(y.documentElement),a&2&&Sl(y.body),a&4)for(a=y.head,Sl(a),y=a.firstChild;y;){var E=y.nextSibling,w=y.nodeName;y[Oa]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}if(c===0){t.removeChild(f),Il(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Il(n)}function of(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":of(a),Bi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function aE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Oa])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function rE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Mn(t.nextSibling),t===null))return null;return t}function cf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function sE(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var hf=null;function Np(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function xp(t,n,a){switch(n=go(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Sl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Bi(t)}var Dn=new Map,Ip=new Set;function po(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ni=et.d;et.d={f:lE,r:uE,D:oE,C:cE,L:hE,m:fE,X:mE,S:dE,M:gE};function lE(){var t=Ni.f(),n=so();return t||n}function uE(t){var n=Pn(t);n!==null&&n.tag===5&&n.type==="form"?Jm(n):Ni.r(t)}var as=typeof document>"u"?null:document;function Op(t,n,a){var l=as;if(l&&typeof n=="string"&&n){var c=me(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Ip.has(c)||(Ip.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),ue(n),l.head.appendChild(n)))}}function oE(t){Ni.D(t),Op("dns-prefetch",t,null)}function cE(t,n){Ni.C(t,n),Op("preconnect",t,n)}function hE(t,n,a){Ni.L(t,n,a);var l=as;if(l&&t&&n){var c='link[rel="preload"][as="'+me(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+me(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+me(a.imageSizes)+'"]')):c+='[href="'+me(t)+'"]';var f=c;switch(n){case"style":f=rs(t);break;case"script":f=ss(t)}Dn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Dn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Rl(f))||n==="script"&&l.querySelector(wl(f))||(n=l.createElement("link"),Le(n,"link",t),ue(n),l.head.appendChild(n)))}}function fE(t,n){Ni.m(t,n);var a=as;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+me(l)+'"][href="'+me(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ss(t)}if(!Dn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Dn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(f)))return}l=a.createElement("link"),Le(l,"link",t),ue(l),a.head.appendChild(l)}}}function dE(t,n,a){Ni.S(t,n,a);var l=as;if(l&&t){var c=Fe(l).hoistableStyles,f=rs(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Rl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Dn.get(f))&&ff(t,a);var w=y=l.createElement("link");ue(w),Le(w,"link",t),w._p=new Promise(function(k,G){w.onload=k,w.onerror=G}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,yo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function mE(t,n){Ni.X(t,n);var a=as;if(a&&t){var l=Fe(a).hoistableScripts,c=ss(t),f=l.get(c);f||(f=a.querySelector(wl(c)),f||(t=A({src:t,async:!0},n),(n=Dn.get(c))&&df(t,n),f=a.createElement("script"),ue(f),Le(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function gE(t,n){Ni.M(t,n);var a=as;if(a&&t){var l=Fe(a).hoistableScripts,c=ss(t),f=l.get(c);f||(f=a.querySelector(wl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Dn.get(c))&&df(t,n),f=a.createElement("script"),ue(f),Le(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Mp(t,n,a,l){var c=(c=_t.current)?po(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=rs(a.href),a=Fe(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=rs(a.href);var f=Fe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Rl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Dn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(t,a),f||pE(c,t,a,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ss(a),a=Fe(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function rs(t){return'href="'+me(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function Up(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function pE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",a),ue(n),t.head.appendChild(n))}function ss(t){return'[src="'+me(t)+'"]'}function wl(t){return"script[async]"+t}function zp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+me(a.href)+'"]');if(l)return n.instance=l,ue(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ue(l),Le(l,"style",c),yo(l,a.precedence,t),n.instance=l;case"stylesheet":c=rs(a.href);var f=t.querySelector(Rl(c));if(f)return n.state.loading|=4,n.instance=f,ue(f),f;l=Up(a),(c=Dn.get(c))&&ff(l,c),f=(t.ownerDocument||t).createElement("link"),ue(f);var y=f;return y._p=new Promise(function(E,w){y.onload=E,y.onerror=w}),Le(f,"link",l),n.state.loading|=4,yo(f,a.precedence,t),n.instance=f;case"script":return f=ss(a.src),(c=t.querySelector(wl(f)))?(n.instance=c,ue(c),c):(l=a,(c=Dn.get(f))&&(l=A({},a),df(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ue(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,yo(l,a.precedence,t));return n.instance}function yo(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function ff(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function df(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var _o=null;function Lp(t,n,a){if(_o===null){var l=new Map,c=_o=new Map;c.set(a,l)}else c=_o,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Oa]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function kp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function yE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Pp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Cl=null;function _E(){}function vE(t,n,a){if(Cl===null)throw Error(s(475));var l=Cl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=rs(a.href),f=t.querySelector(Rl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=vo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ue(f);return}f=t.ownerDocument||t,a=Up(a),(c=Dn.get(c))&&ff(a,c),f=f.createElement("link"),ue(f);var y=f;y._p=new Promise(function(E,w){y.onload=E,y.onerror=w}),Le(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=vo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function EE(){if(Cl===null)throw Error(s(475));var t=Cl;return t.stylesheets&&t.count===0&&mf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&mf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function vo(){if(this.count--,this.count===0){if(this.stylesheets)mf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Eo=null;function mf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Eo=new Map,n.forEach(TE,t),Eo=null,vo.call(t))}function TE(t,n){if(!(n.state.loading&4)){var a=Eo.get(t);if(a)var l=a.get(null);else{a=new Map,Eo.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,c),a.set(y,c),this.count++,l=vo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Dl={$$typeof:ct,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function AE(t,n,a,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Bp(t,n,a,l,c,f,y,E,w,k,G,F){return t=new AE(t,n,a,y,E,w,k,F),n=1,f===!0&&(n|=24),f=on(3,null,null,n),t.current=f,f.stateNode=t,n=Kc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Jc(f),t}function jp(t){return t?(t=Lr,t):Lr}function qp(t,n,a,l,c,f){c=jp(c),l.context===null?l.context=c:l.pendingContext=c,l=Yi(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Fi(t,l,n),a!==null&&(mn(a,t,n),al(a,t,n))}function Hp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function gf(t,n){Hp(t,n),(t=t.alternate)&&Hp(t,n)}function Gp(t){if(t.tag===13){var n=zr(t,67108864);n!==null&&mn(n,t,67108864),gf(t,67108864)}}var To=!0;function bE(t,n,a,l){var c=H.T;H.T=null;var f=et.p;try{et.p=2,pf(t,n,a,l)}finally{et.p=f,H.T=c}}function SE(t,n,a,l){var c=H.T;H.T=null;var f=et.p;try{et.p=8,pf(t,n,a,l)}finally{et.p=f,H.T=c}}function pf(t,n,a,l){if(To){var c=yf(l);if(c===null)nf(t,n,l,Ao,a),Yp(t,l);else if(wE(c,t,n,a,l))l.stopPropagation();else if(Yp(t,l),n&4&&-1<RE.indexOf(t)){for(;c!==null;){var f=Pn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Vn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var w=1<<31-je(y);E.entanglements[1]|=w,y&=~w}Wn(f),(Gt&6)===0&&(ao=pn()+500,Tl(0))}}break;case 13:E=zr(f,2),E!==null&&mn(E,f,2),so(),gf(f,2)}if(f=yf(l),f===null&&nf(t,n,l,Ao,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else nf(t,n,l,null,a)}}function yf(t){return t=vn(t),_f(t)}var Ao=null;function _f(t){if(Ao=null,t=ui(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ao=t,null}function Qp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ec()){case ws:return 2;case gr:return 8;case Da:case Tc:return 32;case pr:return 268435456;default:return 32}default:return 32}}var vf=!1,sa=null,la=null,ua=null,Vl=new Map,Nl=new Map,oa=[],RE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yp(t,n){switch(t){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":la=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":Vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(n.pointerId)}}function xl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Pn(n),n!==null&&Gp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function wE(t,n,a,l,c){switch(n){case"focusin":return sa=xl(sa,t,n,a,l,c),!0;case"dragenter":return la=xl(la,t,n,a,l,c),!0;case"mouseover":return ua=xl(ua,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Vl.set(f,xl(Vl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Nl.set(f,xl(Nl.get(f)||null,t,n,a,l,c)),!0}return!1}function Fp(t){var n=ui(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,su(t.priority,function(){if(a.tag===13){var l=dn();l=Li(l);var c=zr(a,l);c!==null&&mn(c,a,l),gf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=yf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);fi=l,a.target.dispatchEvent(l),fi=null}else return n=Pn(a),n!==null&&Gp(n),t.blockedOn=a,!1;n.shift()}return!0}function Kp(t,n,a){bo(t)&&a.delete(n)}function CE(){vf=!1,sa!==null&&bo(sa)&&(sa=null),la!==null&&bo(la)&&(la=null),ua!==null&&bo(ua)&&(ua=null),Vl.forEach(Kp),Nl.forEach(Kp)}function So(t,n){t.blockedOn===n&&(t.blockedOn=null,vf||(vf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,CE)))}var Ro=null;function Xp(t){Ro!==t&&(Ro=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ro===t&&(Ro=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(_f(l||a)===null)continue;break}var f=Pn(a);f!==null&&(t.splice(n,3),n-=3,yh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Il(t){function n(w){return So(w,t)}sa!==null&&So(sa,t),la!==null&&So(la,t),ua!==null&&So(ua,t),Vl.forEach(n),Nl.forEach(n);for(var a=0;a<oa.length;a++){var l=oa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<oa.length&&(a=oa[0],a.blockedOn===null);)Fp(a),a.blockedOn===null&&oa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],y=c[de]||null;if(typeof f=="function")y||Xp(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[de]||null)E=y.formAction;else if(_f(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Xp(a)}}}function Ef(t){this._internalRoot=t}wo.prototype.render=Ef.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=dn();qp(a,l,t,n,null,null)},wo.prototype.unmount=Ef.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;qp(t.current,2,null,t,null,null),so(),n[yn]=null}};function wo(t){this._internalRoot=t}wo.prototype.unstable_scheduleHydration=function(t){if(t){var n=ki();t={blockedOn:null,target:t,priority:n};for(var a=0;a<oa.length&&n!==0&&n<oa[a].priority;a++);oa.splice(a,0,t),a===0&&Fp(t)}};var Zp=e.version;if(Zp!=="19.1.0")throw Error(s(527,Zp,"19.1.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var DE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Co.isDisabled&&Co.supportsFiber)try{re=Co.inject(DE),Ht=Co}catch{}}return Ml.createRoot=function(t,n){if(!u(t))throw Error(s(299));var a=!1,l="",c=fg,f=dg,y=mg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Bp(t,1,!1,null,null,a,l,c,f,y,E,null),t[yn]=n.current,ef(t),new Ef(n)},Ml.hydrateRoot=function(t,n,a){if(!u(t))throw Error(s(299));var l=!1,c="",f=fg,y=dg,E=mg,w=null,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(k=a.formState)),n=Bp(t,1,!0,n,a??null,l,c,f,y,E,w,k),n.context=jp(null),a=n.current,l=dn(),l=Li(l),c=Yi(l),c.callback=null,Fi(a,c,l),a=l,n.current.lanes=a,li(n,a),Wn(n),t[yn]=n.current,ef(t),new wo(n)},Ml.version="19.1.0",Ml}var sy;function kE(){if(sy)return bf.exports;sy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),bf.exports=LE(),bf.exports}var PE=kE();const BE=r=>{r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};function jE(){const[r,e]=he.useState(JSON.parse(localStorage.getItem("tododarkmode"))||!1),i=()=>{e(!r)};return he.useEffect(()=>{BE(r),localStorage.setItem("tododarkmode",JSON.stringify(r))},[r]),Y.jsxs("div",{className:"flex justify-between items-center border-b border-gray-400 p-5 dark:border-gray-500",children:[Y.jsx("h3",{className:"text-2xl font-bold",children:"TodoList"}),Y.jsx("button",{className:"text-3xl cursor-pointer",onClick:i,children:Y.jsx("ion-icon",{name:r?"sunny":"moon"})})]})}const qE=()=>{};var ly={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let u=r.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},HE=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const u=r[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const h=r[i++];e[s++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=r[i++],d=r[i++],g=r[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},y_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<r.length;u+=3){const h=r[u],d=u+1<r.length,g=d?r[u+1]:0,v=u+2<r.length,_=v?r[u+2]:0,A=h>>2,S=(h&3)<<4|g>>4;let D=(g&15)<<2|_>>6,B=_&63;v||(B=64,d||(D=64)),s.push(i[A],i[S],i[D],i[B])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(p_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):HE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<r.length;){const h=i[r.charAt(u++)],g=u<r.length?i[r.charAt(u)]:0;++u;const _=u<r.length?i[r.charAt(u)]:64;++u;const S=u<r.length?i[r.charAt(u)]:64;if(++u,h==null||g==null||_==null||S==null)throw new GE;const D=h<<2|g>>4;if(s.push(D),_!==64){const B=g<<4&240|_>>2;if(s.push(B),S!==64){const X=_<<6&192|S;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class GE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QE=function(r){const e=p_(r);return y_.encodeByteArray(e,!0)},Bo=function(r){return QE(r).replace(/\./g,"")},YE=function(r){try{return y_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=()=>FE().__FIREBASE_DEFAULTS__,XE=()=>{if(typeof process>"u"||typeof ly>"u")return;const r=ly.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ZE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&YE(r[1]);return e&&JSON.parse(e)},rd=()=>{try{return qE()||KE()||XE()||ZE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},$E=r=>{var e,i;return(i=(e=rd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},JE=r=>{const e=$E(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},__=()=>{var r;return(r=rd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(r){return r.endsWith(".cloudworkstations.dev")}async function tT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Bo(JSON.stringify(i)),Bo(JSON.stringify(d)),""].join(".")}const Pl={};function nT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Pl))Pl[e]?r.emulator.push(e):r.prod.push(e);return r}function iT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let uy=!1;function v_(r,e){if(typeof window>"u"||typeof document>"u"||!sd(window.location.host)||Pl[r]===e||Pl[r]||uy)return;Pl[r]=e;function i(D){return`__firebase__banner__${D}`}const s="__firebase__banner",h=nT().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function v(D,B){D.setAttribute("width","24"),D.setAttribute("id",B),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{uy=!0,d()},D}function A(D,B){D.setAttribute("id",B),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=iT(s),B=i("text"),X=document.getElementById(B)||document.createElement("span"),tt=i("learnmore"),J=document.getElementById(tt)||document.createElement("a"),Et=i("preprendIcon"),dt=document.getElementById(Et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ct=D.element;g(ct),A(J,tt);const xt=_();v(dt,Et),ct.append(dt,X,J,xt),document.body.appendChild(ct)}h?(X.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rT(){var r;const e=(r=rd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sT(){return!rT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lT(){try{return typeof indexedDB=="object"}catch{return!1}}function uT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="FirebaseError";class Es extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=oT,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,E_.prototype.create)}}class E_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?cT(h,s):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new Es(u,g,s)}}function cT(r,e){return r.replace(hT,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const hT=/\{\$([^}]+)}/g;function jo(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const h=r[u],d=e[u];if(oy(h)&&oy(d)){if(!jo(h,d))return!1}else if(h!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function oy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(r){return r&&r._delegate?r._delegate:r}class Ql{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new WE;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mT(e))try{this.getOrInitializeService({instanceIdentifier:ur})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});s.resolve(h)}catch{}}}}clearInstance(e=ur){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ur){return this.instances.has(e)}getOptions(e=ur){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(u)}return u}onInit(e,i){var s;const u=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(u))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:dT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ur){return this.component?this.component.multipleInstances?e:ur:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dT(r){return r===ur?void 0:r}function mT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new fT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(zt||(zt={}));const pT={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},yT=zt.INFO,_T={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},vT=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),u=_T[e];if(u)console[u](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class T_{constructor(e){this.name=e,this._logLevel=yT,this._logHandler=vT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}}const ET=(r,e)=>e.some(i=>r instanceof i);let cy,hy;function TT(){return cy||(cy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AT(){return hy||(hy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A_=new WeakMap,Uf=new WeakMap,b_=new WeakMap,Cf=new WeakMap,ld=new WeakMap;function bT(r){const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(fa(r.result)),u()},d=()=>{s(r.error),u()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&A_.set(i,r)}).catch(()=>{}),ld.set(e,r),e}function ST(r){if(Uf.has(r))return;const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Uf.set(r,e)}let zf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Uf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||b_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return fa(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function RT(r){zf=r(zf)}function wT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Df(this),e,...i);return b_.set(s,e.sort?e.sort():[e]),fa(s)}:AT().includes(r)?function(...e){return r.apply(Df(this),e),fa(A_.get(this))}:function(...e){return fa(r.apply(Df(this),e))}}function CT(r){return typeof r=="function"?wT(r):(r instanceof IDBTransaction&&ST(r),ET(r,TT())?new Proxy(r,zf):r)}function fa(r){if(r instanceof IDBRequest)return bT(r);if(Cf.has(r))return Cf.get(r);const e=CT(r);return e!==r&&(Cf.set(r,e),ld.set(e,r)),e}const Df=r=>ld.get(r);function DT(r,e,{blocked:i,upgrade:s,blocking:u,terminated:h}={}){const d=indexedDB.open(r,e),g=fa(d);return s&&d.addEventListener("upgradeneeded",v=>{s(fa(d.result),v.oldVersion,v.newVersion,fa(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const VT=["get","getKey","getAll","getAllKeys","count"],NT=["put","add","delete","clear"],Vf=new Map;function fy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Vf.get(e))return Vf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=NT.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||VT.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),u&&v.done]))[0]};return Vf.set(e,h),h}RT(r=>({...r,get:(e,i,s)=>fy(e,i)||r.get(e,i,s),has:(e,i)=>!!fy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(IT(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function IT(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lf="@firebase/app",dy="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new T_("@firebase/app"),OT="@firebase/app-compat",MT="@firebase/analytics-compat",UT="@firebase/analytics",zT="@firebase/app-check-compat",LT="@firebase/app-check",kT="@firebase/auth",PT="@firebase/auth-compat",BT="@firebase/database",jT="@firebase/data-connect",qT="@firebase/database-compat",HT="@firebase/functions",GT="@firebase/functions-compat",QT="@firebase/installations",YT="@firebase/installations-compat",FT="@firebase/messaging",KT="@firebase/messaging-compat",XT="@firebase/performance",ZT="@firebase/performance-compat",$T="@firebase/remote-config",JT="@firebase/remote-config-compat",WT="@firebase/storage",t1="@firebase/storage-compat",e1="@firebase/firestore",n1="@firebase/ai",i1="@firebase/firestore-compat",a1="firebase",r1="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="[DEFAULT]",s1={[Lf]:"fire-core",[OT]:"fire-core-compat",[UT]:"fire-analytics",[MT]:"fire-analytics-compat",[LT]:"fire-app-check",[zT]:"fire-app-check-compat",[kT]:"fire-auth",[PT]:"fire-auth-compat",[BT]:"fire-rtdb",[jT]:"fire-data-connect",[qT]:"fire-rtdb-compat",[HT]:"fire-fn",[GT]:"fire-fn-compat",[QT]:"fire-iid",[YT]:"fire-iid-compat",[FT]:"fire-fcm",[KT]:"fire-fcm-compat",[XT]:"fire-perf",[ZT]:"fire-perf-compat",[$T]:"fire-rc",[JT]:"fire-rc-compat",[WT]:"fire-gcs",[t1]:"fire-gcs-compat",[e1]:"fire-fst",[i1]:"fire-fst-compat",[n1]:"fire-vertex","fire-js":"fire-js",[a1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new Map,l1=new Map,Pf=new Map;function my(r,e){try{r.container.addComponent(e)}catch(i){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ho(r){const e=r.name;if(Pf.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;Pf.set(e,r);for(const i of qo.values())my(i,r);for(const i of l1.values())my(i,r);return!0}function u1(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function o1(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},da=new E_("app","Firebase",c1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ql("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw da.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=r1;function S_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:kf,automaticDataCollectionEnabled:!0},e),u=s.name;if(typeof u!="string"||!u)throw da.create("bad-app-name",{appName:String(u)});if(i||(i=__()),!i)throw da.create("no-options");const h=qo.get(u);if(h){if(jo(i,h.options)&&jo(s,h.config))return h;throw da.create("duplicate-app",{appName:u})}const d=new gT(u);for(const v of Pf.values())d.addComponent(v);const g=new h1(i,s,d);return qo.set(u,g),g}function d1(r=kf){const e=qo.get(r);if(!e&&r===kf&&__())return S_();if(!e)throw da.create("no-app",{appName:r});return e}function hs(r,e,i){var s;let u=(s=s1[r])!==null&&s!==void 0?s:r;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(g.join(" "));return}Ho(new Ql(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="firebase-heartbeat-database",g1=1,Yl="firebase-heartbeat-store";let Nf=null;function R_(){return Nf||(Nf=DT(m1,g1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Yl)}catch(i){console.warn(i)}}}}).catch(r=>{throw da.create("idb-open",{originalErrorMessage:r.message})})),Nf}async function p1(r){try{const i=(await R_()).transaction(Yl),s=await i.objectStore(Yl).get(w_(r));return await i.done,s}catch(e){if(e instanceof Es)Oi.warn(e.message);else{const i=da.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(i.message)}}}async function gy(r,e){try{const s=(await R_()).transaction(Yl,"readwrite");await s.objectStore(Yl).put(e,w_(r)),await s.done}catch(i){if(i instanceof Es)Oi.warn(i.message);else{const s=da.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Oi.warn(s.message)}}}function w_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=1024,_1=30;class v1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new T1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=py();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>_1){const d=A1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Oi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=py(),{heartbeatsToSend:s,unsentEntries:u}=E1(this._heartbeatsCache.heartbeats),h=Bo(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Oi.warn(i),""}}}function py(){return new Date().toISOString().substring(0,10)}function E1(r,e=y1){const i=[];let s=r.slice();for(const u of r){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),yy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),yy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class T1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lT()?uT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await p1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return gy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return gy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function yy(r){return Bo(JSON.stringify({version:2,heartbeats:r})).length}function A1(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(r){Ho(new Ql("platform-logger",e=>new xT(e),"PRIVATE")),Ho(new Ql("heartbeat",e=>new v1(e),"PRIVATE")),hs(Lf,dy,r),hs(Lf,dy,"esm2017"),hs("fire-js","")}b1("");var S1="firebase",R1="11.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hs(S1,R1,"app");var _y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ma,C_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,b){function C(){}C.prototype=b.prototype,M.D=b.prototype,M.prototype=new C,M.prototype.constructor=M,M.C=function(I,V,O){for(var R=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)R[Yt-2]=arguments[Yt];return b.prototype[V].apply(I,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(M,b,C){C||(C=0);var I=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)I[V]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(V=0;16>V;++V)I[V]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=M.g[0],C=M.g[1],V=M.g[2];var O=M.g[3],R=b+(O^C&(V^O))+I[0]+3614090360&4294967295;b=C+(R<<7&4294967295|R>>>25),R=O+(V^b&(C^V))+I[1]+3905402710&4294967295,O=b+(R<<12&4294967295|R>>>20),R=V+(C^O&(b^C))+I[2]+606105819&4294967295,V=O+(R<<17&4294967295|R>>>15),R=C+(b^V&(O^b))+I[3]+3250441966&4294967295,C=V+(R<<22&4294967295|R>>>10),R=b+(O^C&(V^O))+I[4]+4118548399&4294967295,b=C+(R<<7&4294967295|R>>>25),R=O+(V^b&(C^V))+I[5]+1200080426&4294967295,O=b+(R<<12&4294967295|R>>>20),R=V+(C^O&(b^C))+I[6]+2821735955&4294967295,V=O+(R<<17&4294967295|R>>>15),R=C+(b^V&(O^b))+I[7]+4249261313&4294967295,C=V+(R<<22&4294967295|R>>>10),R=b+(O^C&(V^O))+I[8]+1770035416&4294967295,b=C+(R<<7&4294967295|R>>>25),R=O+(V^b&(C^V))+I[9]+2336552879&4294967295,O=b+(R<<12&4294967295|R>>>20),R=V+(C^O&(b^C))+I[10]+4294925233&4294967295,V=O+(R<<17&4294967295|R>>>15),R=C+(b^V&(O^b))+I[11]+2304563134&4294967295,C=V+(R<<22&4294967295|R>>>10),R=b+(O^C&(V^O))+I[12]+1804603682&4294967295,b=C+(R<<7&4294967295|R>>>25),R=O+(V^b&(C^V))+I[13]+4254626195&4294967295,O=b+(R<<12&4294967295|R>>>20),R=V+(C^O&(b^C))+I[14]+2792965006&4294967295,V=O+(R<<17&4294967295|R>>>15),R=C+(b^V&(O^b))+I[15]+1236535329&4294967295,C=V+(R<<22&4294967295|R>>>10),R=b+(V^O&(C^V))+I[1]+4129170786&4294967295,b=C+(R<<5&4294967295|R>>>27),R=O+(C^V&(b^C))+I[6]+3225465664&4294967295,O=b+(R<<9&4294967295|R>>>23),R=V+(b^C&(O^b))+I[11]+643717713&4294967295,V=O+(R<<14&4294967295|R>>>18),R=C+(O^b&(V^O))+I[0]+3921069994&4294967295,C=V+(R<<20&4294967295|R>>>12),R=b+(V^O&(C^V))+I[5]+3593408605&4294967295,b=C+(R<<5&4294967295|R>>>27),R=O+(C^V&(b^C))+I[10]+38016083&4294967295,O=b+(R<<9&4294967295|R>>>23),R=V+(b^C&(O^b))+I[15]+3634488961&4294967295,V=O+(R<<14&4294967295|R>>>18),R=C+(O^b&(V^O))+I[4]+3889429448&4294967295,C=V+(R<<20&4294967295|R>>>12),R=b+(V^O&(C^V))+I[9]+568446438&4294967295,b=C+(R<<5&4294967295|R>>>27),R=O+(C^V&(b^C))+I[14]+3275163606&4294967295,O=b+(R<<9&4294967295|R>>>23),R=V+(b^C&(O^b))+I[3]+4107603335&4294967295,V=O+(R<<14&4294967295|R>>>18),R=C+(O^b&(V^O))+I[8]+1163531501&4294967295,C=V+(R<<20&4294967295|R>>>12),R=b+(V^O&(C^V))+I[13]+2850285829&4294967295,b=C+(R<<5&4294967295|R>>>27),R=O+(C^V&(b^C))+I[2]+4243563512&4294967295,O=b+(R<<9&4294967295|R>>>23),R=V+(b^C&(O^b))+I[7]+1735328473&4294967295,V=O+(R<<14&4294967295|R>>>18),R=C+(O^b&(V^O))+I[12]+2368359562&4294967295,C=V+(R<<20&4294967295|R>>>12),R=b+(C^V^O)+I[5]+4294588738&4294967295,b=C+(R<<4&4294967295|R>>>28),R=O+(b^C^V)+I[8]+2272392833&4294967295,O=b+(R<<11&4294967295|R>>>21),R=V+(O^b^C)+I[11]+1839030562&4294967295,V=O+(R<<16&4294967295|R>>>16),R=C+(V^O^b)+I[14]+4259657740&4294967295,C=V+(R<<23&4294967295|R>>>9),R=b+(C^V^O)+I[1]+2763975236&4294967295,b=C+(R<<4&4294967295|R>>>28),R=O+(b^C^V)+I[4]+1272893353&4294967295,O=b+(R<<11&4294967295|R>>>21),R=V+(O^b^C)+I[7]+4139469664&4294967295,V=O+(R<<16&4294967295|R>>>16),R=C+(V^O^b)+I[10]+3200236656&4294967295,C=V+(R<<23&4294967295|R>>>9),R=b+(C^V^O)+I[13]+681279174&4294967295,b=C+(R<<4&4294967295|R>>>28),R=O+(b^C^V)+I[0]+3936430074&4294967295,O=b+(R<<11&4294967295|R>>>21),R=V+(O^b^C)+I[3]+3572445317&4294967295,V=O+(R<<16&4294967295|R>>>16),R=C+(V^O^b)+I[6]+76029189&4294967295,C=V+(R<<23&4294967295|R>>>9),R=b+(C^V^O)+I[9]+3654602809&4294967295,b=C+(R<<4&4294967295|R>>>28),R=O+(b^C^V)+I[12]+3873151461&4294967295,O=b+(R<<11&4294967295|R>>>21),R=V+(O^b^C)+I[15]+530742520&4294967295,V=O+(R<<16&4294967295|R>>>16),R=C+(V^O^b)+I[2]+3299628645&4294967295,C=V+(R<<23&4294967295|R>>>9),R=b+(V^(C|~O))+I[0]+4096336452&4294967295,b=C+(R<<6&4294967295|R>>>26),R=O+(C^(b|~V))+I[7]+1126891415&4294967295,O=b+(R<<10&4294967295|R>>>22),R=V+(b^(O|~C))+I[14]+2878612391&4294967295,V=O+(R<<15&4294967295|R>>>17),R=C+(O^(V|~b))+I[5]+4237533241&4294967295,C=V+(R<<21&4294967295|R>>>11),R=b+(V^(C|~O))+I[12]+1700485571&4294967295,b=C+(R<<6&4294967295|R>>>26),R=O+(C^(b|~V))+I[3]+2399980690&4294967295,O=b+(R<<10&4294967295|R>>>22),R=V+(b^(O|~C))+I[10]+4293915773&4294967295,V=O+(R<<15&4294967295|R>>>17),R=C+(O^(V|~b))+I[1]+2240044497&4294967295,C=V+(R<<21&4294967295|R>>>11),R=b+(V^(C|~O))+I[8]+1873313359&4294967295,b=C+(R<<6&4294967295|R>>>26),R=O+(C^(b|~V))+I[15]+4264355552&4294967295,O=b+(R<<10&4294967295|R>>>22),R=V+(b^(O|~C))+I[6]+2734768916&4294967295,V=O+(R<<15&4294967295|R>>>17),R=C+(O^(V|~b))+I[13]+1309151649&4294967295,C=V+(R<<21&4294967295|R>>>11),R=b+(V^(C|~O))+I[4]+4149444226&4294967295,b=C+(R<<6&4294967295|R>>>26),R=O+(C^(b|~V))+I[11]+3174756917&4294967295,O=b+(R<<10&4294967295|R>>>22),R=V+(b^(O|~C))+I[2]+718787259&4294967295,V=O+(R<<15&4294967295|R>>>17),R=C+(O^(V|~b))+I[9]+3951481745&4294967295,M.g[0]=M.g[0]+b&4294967295,M.g[1]=M.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+O&4294967295}s.prototype.u=function(M,b){b===void 0&&(b=M.length);for(var C=b-this.blockSize,I=this.B,V=this.h,O=0;O<b;){if(V==0)for(;O<=C;)u(this,M,O),O+=this.blockSize;if(typeof M=="string"){for(;O<b;)if(I[V++]=M.charCodeAt(O++),V==this.blockSize){u(this,I),V=0;break}}else for(;O<b;)if(I[V++]=M[O++],V==this.blockSize){u(this,I),V=0;break}}this.h=V,this.o+=b},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var b=1;b<M.length-8;++b)M[b]=0;var C=8*this.o;for(b=M.length-8;b<M.length;++b)M[b]=C&255,C/=256;for(this.u(M),M=Array(16),b=C=0;4>b;++b)for(var I=0;32>I;I+=8)M[C++]=this.g[b]>>>I&255;return M};function h(M,b){var C=g;return Object.prototype.hasOwnProperty.call(C,M)?C[M]:C[M]=b(M)}function d(M,b){this.h=b;for(var C=[],I=!0,V=M.length-1;0<=V;V--){var O=M[V]|0;I&&O==b||(C[V]=O,I=!1)}this.g=C}var g={};function v(M){return-128<=M&&128>M?h(M,function(b){return new d([b|0],0>b?-1:0)}):new d([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return S;if(0>M)return J(_(-M));for(var b=[],C=1,I=0;M>=C;I++)b[I]=M/C|0,C*=4294967296;return new d(b,0)}function A(M,b){if(M.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(M.charAt(0)=="-")return J(A(M.substring(1),b));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=_(Math.pow(b,8)),I=S,V=0;V<M.length;V+=8){var O=Math.min(8,M.length-V),R=parseInt(M.substring(V,V+O),b);8>O?(O=_(Math.pow(b,O)),I=I.j(O).add(_(R))):(I=I.j(C),I=I.add(_(R)))}return I}var S=v(0),D=v(1),B=v(16777216);r=d.prototype,r.m=function(){if(tt(this))return-J(this).m();for(var M=0,b=1,C=0;C<this.g.length;C++){var I=this.i(C);M+=(0<=I?I:4294967296+I)*b,b*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(X(this))return"0";if(tt(this))return"-"+J(this).toString(M);for(var b=_(Math.pow(M,6)),C=this,I="";;){var V=xt(C,b).g;C=Et(C,V.j(b));var O=((0<C.g.length?C.g[0]:C.h)>>>0).toString(M);if(C=V,X(C))return O+I;for(;6>O.length;)O="0"+O;I=O+I}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function X(M){if(M.h!=0)return!1;for(var b=0;b<M.g.length;b++)if(M.g[b]!=0)return!1;return!0}function tt(M){return M.h==-1}r.l=function(M){return M=Et(this,M),tt(M)?-1:X(M)?0:1};function J(M){for(var b=M.g.length,C=[],I=0;I<b;I++)C[I]=~M.g[I];return new d(C,~M.h).add(D)}r.abs=function(){return tt(this)?J(this):this},r.add=function(M){for(var b=Math.max(this.g.length,M.g.length),C=[],I=0,V=0;V<=b;V++){var O=I+(this.i(V)&65535)+(M.i(V)&65535),R=(O>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);I=R>>>16,O&=65535,R&=65535,C[V]=R<<16|O}return new d(C,C[C.length-1]&-2147483648?-1:0)};function Et(M,b){return M.add(J(b))}r.j=function(M){if(X(this)||X(M))return S;if(tt(this))return tt(M)?J(this).j(J(M)):J(J(this).j(M));if(tt(M))return J(this.j(J(M)));if(0>this.l(B)&&0>M.l(B))return _(this.m()*M.m());for(var b=this.g.length+M.g.length,C=[],I=0;I<2*b;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(var V=0;V<M.g.length;V++){var O=this.i(I)>>>16,R=this.i(I)&65535,Yt=M.i(V)>>>16,Bt=M.i(V)&65535;C[2*I+2*V]+=R*Bt,dt(C,2*I+2*V),C[2*I+2*V+1]+=O*Bt,dt(C,2*I+2*V+1),C[2*I+2*V+1]+=R*Yt,dt(C,2*I+2*V+1),C[2*I+2*V+2]+=O*Yt,dt(C,2*I+2*V+2)}for(I=0;I<b;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=b;I<2*b;I++)C[I]=0;return new d(C,0)};function dt(M,b){for(;(M[b]&65535)!=M[b];)M[b+1]+=M[b]>>>16,M[b]&=65535,b++}function ct(M,b){this.g=M,this.h=b}function xt(M,b){if(X(b))throw Error("division by zero");if(X(M))return new ct(S,S);if(tt(M))return b=xt(J(M),b),new ct(J(b.g),J(b.h));if(tt(b))return b=xt(M,J(b)),new ct(J(b.g),b.h);if(30<M.g.length){if(tt(M)||tt(b))throw Error("slowDivide_ only works with positive integers.");for(var C=D,I=b;0>=I.l(M);)C=yt(C),I=yt(I);var V=Vt(C,1),O=Vt(I,1);for(I=Vt(I,2),C=Vt(C,2);!X(I);){var R=O.add(I);0>=R.l(M)&&(V=V.add(C),O=R),I=Vt(I,1),C=Vt(C,1)}return b=Et(M,V.j(b)),new ct(V,b)}for(V=S;0<=M.l(b);){for(C=Math.max(1,Math.floor(M.m()/b.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),O=_(C),R=O.j(b);tt(R)||0<R.l(M);)C-=I,O=_(C),R=O.j(b);X(O)&&(O=D),V=V.add(O),M=Et(M,R)}return new ct(V,M)}r.A=function(M){return xt(this,M).h},r.and=function(M){for(var b=Math.max(this.g.length,M.g.length),C=[],I=0;I<b;I++)C[I]=this.i(I)&M.i(I);return new d(C,this.h&M.h)},r.or=function(M){for(var b=Math.max(this.g.length,M.g.length),C=[],I=0;I<b;I++)C[I]=this.i(I)|M.i(I);return new d(C,this.h|M.h)},r.xor=function(M){for(var b=Math.max(this.g.length,M.g.length),C=[],I=0;I<b;I++)C[I]=this.i(I)^M.i(I);return new d(C,this.h^M.h)};function yt(M){for(var b=M.g.length+1,C=[],I=0;I<b;I++)C[I]=M.i(I)<<1|M.i(I-1)>>>31;return new d(C,M.h)}function Vt(M,b){var C=b>>5;b%=32;for(var I=M.g.length-C,V=[],O=0;O<I;O++)V[O]=0<b?M.i(O+C)>>>b|M.i(O+C+1)<<32-b:M.i(O+C);return new d(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,C_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,ma=d}).apply(typeof _y<"u"?_y:typeof self<"u"?self:typeof window<"u"?window:{});var Do=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var D_,Ul,V_,Mo,Bf,N_,x_,I_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Do=="object"&&Do];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var p=s;o=o.split(".");for(var T=0;T<o.length-1;T++){var z=o[T];if(!(z in p))break t;p=p[z]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,z={next:function(){if(!T&&p<o.length){var q=p++;return{value:m(q,o[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function _(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,p){return o.call.apply(o.bind,arguments)}function S(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,T),o.apply(m,z)}}return function(){return o.apply(m,arguments)}}function D(o,m,p){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:S,D.apply(null,arguments)}function B(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function X(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,z,q){for(var nt=Array(arguments.length-2),It=2;It<arguments.length;It++)nt[It-2]=arguments[It];return m.prototype[z].apply(T,nt)}}function tt(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function J(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(v(T)){const z=o.length||0,q=T.length||0;o.length=z+q;for(let nt=0;nt<q;nt++)o[z+nt]=T[nt]}else o.push(T)}}class Et{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(o){return/^[\s\xa0]*$/.test(o)}function ct(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function xt(o){return xt[" "](o),o}xt[" "]=function(){};var yt=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function Vt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function M(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function b(o){const m={};for(const p in o)m[p]=o[p];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(o,m){let p,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(p in T)o[p]=T[p];for(let q=0;q<C.length;q++)p=C[q],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function V(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function O(o){g.setTimeout(()=>{throw o},0)}function R(){var o=kt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Yt{constructor(){this.h=this.g=null}add(m,p){const T=Bt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var Bt=new Et(()=>new H,o=>o.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,st=!1,kt=new Yt,N=()=>{const o=g.Promise.resolve(void 0);et=()=>{o.then(Z)}};var Z=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(p){O(p)}var m=Bt;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}st=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function Rt(o,m){if(W.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(yt){t:{try{xt(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:_t[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Rt.aa.h.call(this)}}X(Rt,W);var _t={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function Ln(o,m,p,T,z){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=z,this.key=++Jt,this.da=this.fa=!1}function zi(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ri(o){this.src=o,this.g={},this.h=0}ri.prototype.add=function(o,m,p,T,z){var q=o.toString();o=this.g[q],o||(o=this.g[q]=[],this.h++);var nt=wa(o,m,T,z);return-1<nt?(m=o[nt],p||(m.fa=!1)):(m=new Ln(m,this.src,q,!!T,z),m.fa=p,o.push(m)),m};function Ra(o,m){var p=m.type;if(p in o.g){var T=o.g[p],z=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=z)&&Array.prototype.splice.call(T,z,1),q&&(zi(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function wa(o,m,p,T){for(var z=0;z<o.length;++z){var q=o[z];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return z}return-1}var Ca="closure_lm_"+(1e6*Math.random()|0),Rs={};function iu(o,m,p,T,z){if(Array.isArray(m)){for(var q=0;q<m.length;q++)iu(o,m[q],p,T,z);return null}return p=au(p),o&&o[we]?o.K(m,p,_(T)?!!T.capture:!1,z):pn(o,m,p,!1,T,z)}function pn(o,m,p,T,z,q){if(!m)throw Error("Invalid event type");var nt=_(z)?!!z.capture:!!z,It=pr(o);if(It||(o[Ca]=It=new ri(o)),p=It.add(m,p,T,nt,q),p.proxy)return p;if(T=Ec(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)ot||(z=nt),z===void 0&&(z=!1),o.addEventListener(m.toString(),T,z);else if(o.attachEvent)o.attachEvent(Da(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Ec(){function o(p){return m.call(o.src,o.listener,p)}const m=Tc;return o}function ws(o,m,p,T,z){if(Array.isArray(m))for(var q=0;q<m.length;q++)ws(o,m[q],p,T,z);else T=_(T)?!!T.capture:!!T,p=au(p),o&&o[we]?(o=o.i,m=String(m).toString(),m in o.g&&(q=o.g[m],p=wa(q,p,T,z),-1<p&&(zi(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete o.g[m],o.h--)))):o&&(o=pr(o))&&(m=o.g[m.toString()],o=-1,m&&(o=wa(m,p,T,z)),(p=-1<o?m[o]:null)&&gr(p))}function gr(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[we])Ra(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Da(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=pr(m))?(Ra(p,o),p.h==0&&(p.src=null,m[Ca]=null)):zi(o)}}}function Da(o){return o in Rs?Rs[o]:Rs[o]="on"+o}function Tc(o,m){if(o.da)o=!0;else{m=new Rt(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&gr(o),o=p.call(T,m)}return o}function pr(o){return o=o[Ca],o instanceof ri?o:null}var Cs="__closure_events_fn_"+(1e9*Math.random()>>>0);function au(o){return typeof o=="function"?o:(o[Cs]||(o[Cs]=function(m){return o.handleEvent(m)}),o[Cs])}function re(){it.call(this),this.i=new ri(this),this.M=this,this.F=null}X(re,it),re.prototype[we]=!0,re.prototype.removeEventListener=function(o,m,p,T){ws(this,o,m,p,T)};function Ht(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new W(m,o);else if(m instanceof W)m.target=m.target||o;else{var z=m;m=new W(T,o),I(m,z)}if(z=!0,p)for(var q=p.length-1;0<=q;q--){var nt=m.g=p[q];z=sn(nt,T,!0,m)&&z}if(nt=m.g=o,z=sn(nt,T,!0,m)&&z,z=sn(nt,T,!1,m)&&z,p)for(q=0;q<p.length;q++)nt=m.g=p[q],z=sn(nt,T,!1,m)&&z}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)zi(p[T]);delete o.g[m],o.h--}}this.F=null},re.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},re.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function sn(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,q=0;q<m.length;++q){var nt=m[q];if(nt&&!nt.da&&nt.capture==p){var It=nt.listener,ve=nt.ha||nt.src;nt.fa&&Ra(o.i,nt),z=It.call(ve,T)!==!1&&z}}return z&&!T.defaultPrevented}function je(o,m,p){if(typeof o=="function")p&&(o=D(o,p));else if(o&&typeof o.handleEvent=="function")o=D(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function ru(o){o.g=je(()=>{o.g=null,o.i&&(o.i=!1,ru(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Ac extends it{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ru(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Va(o){it.call(this),this.h=o,this.g={}}X(Va,it);var Na=[];function xa(o){Vt(o.g,function(m,p){this.g.hasOwnProperty(p)&&gr(m)},o),o.g={}}Va.prototype.N=function(){Va.aa.N.call(this),xa(this)},Va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=g.JSON.stringify,yr=g.JSON.parse,Ia=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Ds(){}Ds.prototype.h=null;function Vs(o){return o.h||(o.h=o.i())}function Ns(){}var si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function li(){W.call(this,"d")}X(li,W);function xs(){W.call(this,"c")}X(xs,W);var kn={},Is=null;function Li(){return Is=Is||new re}kn.La="serverreachability";function _r(o){W.call(this,kn.La,o)}X(_r,W);function ki(o){const m=Li();Ht(m,new _r(m))}kn.STAT_EVENT="statevent";function su(o,m){W.call(this,kn.STAT_EVENT,o),this.stat=m}X(su,W);function te(o){const m=Li();Ht(m,new su(m,o))}kn.Ma="timingevent";function _e(o,m){W.call(this,kn.Ma,o),this.size=m}X(_e,W);function de(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function Os(o,m,p,T,z,q){o.info(function(){if(o.g)if(q)for(var nt="",It=q.split("&"),ve=0;ve<It.length;ve++){var Ot=It[ve].split("=");if(1<Ot.length){var De=Ot[0];Ot=Ot[1];var Ee=De.split("_");nt=2<=Ee.length&&Ee[1]=="type"?nt+(De+"="+Ot+"&"):nt+(De+"=redacted&")}}else nt=null;else nt=q;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+p+`
`+nt})}function bc(o,m,p,T,z,q,nt){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+p+`
`+q+" "+nt})}function Pi(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Oa(o,p)+(T?" "+T:"")})}function lu(o,m){o.info(function(){return"TIMEOUT: "+m})}yn.prototype.info=function(){};function Oa(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var z=T[1];if(Array.isArray(z)&&!(1>z.length)){var q=z[0];if(q!="noop"&&q!="stop"&&q!="close")for(var nt=1;nt<z.length;nt++)z[nt]=""}}}}return Vn(p)}catch{return m}}var Bi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pn;function Bn(){}X(Bn,Ds),Bn.prototype.g=function(){return new XMLHttpRequest},Bn.prototype.i=function(){return{}},Pn=new Bn;function Fe(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new Va(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var Ms={},vr={};function Nn(o,m,p){o.L=1,o.v=ka(ln(m)),o.m=p,o.P=!0,oi(o,null)}function oi(o,m){o.F=Date.now(),Ma(o),o.A=ln(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Bs(p.i,"t",T),o.C=0,p=o.j.J,o.h=new ue,o.g=bu(o.j,p?m:null,!o.m),0<o.O&&(o.M=new Ac(D(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var z="readystatechange";Array.isArray(z)||(z&&(Na[0]=z.toString()),z=Na);for(var q=0;q<z.length;q++){var nt=iu(p,z[q],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=o.H?b(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),ki(),Os(o.i,o.u,o.A,o.l,o.R,o.m)}Fe.prototype.ca=function(o){o=o.target;const m=this.M;m&&Tn(o)==3?m.j():this.Y(o)},Fe.prototype.Y=function(o){try{if(o==this.g)t:{const Ee=Tn(this.g);var m=this.g.Ba();const yi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||gu(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=yi?ki(3):ki(2)),ji(this);var p=this.g.Z();this.X=p;e:if(uu(this)){var T=gu(this.g);o="";var z=T.length,q=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oe(this),jn(this);var nt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(q&&m==z-1)});T.length=0,this.h.g+=o,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=p==200,bc(this.i,this.u,this.A,this.l,this.R,Ee,p),this.o){if(this.T&&!this.K){e:{if(this.g){var It,ve=this.g;if((It=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(It)){var Ot=It;break e}}Ot=null}if(p=Ot)Pi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ua(this,p);else{this.o=!1,this.s=3,te(12),Oe(this),jn(this);break t}}if(this.P){p=!0;let Me;for(;!this.J&&this.C<nt.length;)if(Me=ou(this,nt),Me==vr){Ee==4&&(this.s=4,te(14),p=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Ms){this.s=4,te(15),Pi(this.i,this.l,nt,"[Invalid Chunk]"),p=!1;break}else Pi(this.i,this.l,Me,null),Ua(this,Me);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||nt.length!=0||this.h.h||(this.s=1,te(16),p=!1),this.o=this.o&&p,!p)Pi(this.i,this.l,nt,"[Invalid Chunked Response]"),Oe(this),jn(this);else if(0<nt.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),Ya(De),De.M=!0,te(11))}}else Pi(this.i,this.l,nt,null),Ua(this,nt);Ee==4&&Oe(this),this.o&&!this.J&&(Ee==4?Eu(this.j,this):(this.o=!1,Ma(this)))}else Dc(this.g),p==400&&0<nt.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Oe(this),jn(this)}}}catch{}finally{}};function uu(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function ou(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?vr:(p=Number(m.substring(p,T)),isNaN(p)?Ms:(T+=1,T+p>m.length?vr:(m=m.slice(T,T+p),o.C=T+p,m)))}Fe.prototype.cancel=function(){this.J=!0,Oe(this)};function Ma(o){o.S=Date.now()+o.I,cu(o,o.I)}function cu(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=de(D(o.ba,o),m)}function ji(o){o.B&&(g.clearTimeout(o.B),o.B=null)}Fe.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(lu(this.i,this.A),this.L!=2&&(ki(),te(17)),Oe(this),this.s=2,jn(this)):cu(this,this.S-o)};function jn(o){o.j.G==0||o.J||Eu(o.j,o)}function Oe(o){ji(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,xa(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Ua(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Us(p.h,o))){if(!o.K&&Us(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)xr(p),Vr(p);else break t;Qs(p),te(18)}}else p.za=z[1],0<p.za-p.T&&37500>z[2]&&p.F&&p.v==0&&!p.C&&(p.C=de(D(p.Za,p),6e3));if(1>=Tr(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else pi(p,11)}else if((o.K||p.g==o)&&xr(p),!dt(m))for(z=p.Da.g.parse(m),m=0;m<z.length;m++){let Ot=z[m];if(p.T=Ot[0],Ot=Ot[1],p.G==2)if(Ot[0]=="c"){p.K=Ot[1],p.ia=Ot[2];const De=Ot[3];De!=null&&(p.la=De,p.j.info("VER="+p.la));const Ee=Ot[4];Ee!=null&&(p.Aa=Ee,p.j.info("SVER="+p.Aa));const yi=Ot[5];yi!=null&&typeof yi=="number"&&0<yi&&(T=1.5*yi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Me=o.g;if(Me){const Kn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var q=T.h;q.g||Kn.indexOf("spdy")==-1&&Kn.indexOf("quic")==-1&&Kn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ar(q,q.h),q.h=null))}if(T.D){const Fs=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Fs&&(T.ya=Fs,Ft(T.I,T.D,Fs))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var nt=o;if(T.qa=Au(T,T.J?T.ia:null,T.W),nt.K){Ke(T.h,nt);var It=nt,ve=T.L;ve&&(It.I=ve),It.B&&(ji(It),Ma(It)),T.g=nt}else _u(T);0<p.i.length&&Nr(p)}else Ot[0]!="stop"&&Ot[0]!="close"||pi(p,7);else p.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?pi(p,7):Hs(p):Ot[0]!="noop"&&p.l&&p.l.ta(Ot),p.v=0)}}ki(4)}catch{}}var hu=class{constructor(o,m){this.g=o,this.map=m}};function ci(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Er(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Tr(o){return o.h?1:o.g?o.g.size:0}function Us(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Ar(o,m){o.g?o.g.add(m):o.h=m}function Ke(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}ci.prototype.cancel=function(){if(this.i=zs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function zs(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return tt(o.i)}function Sc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(v(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function br(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(v(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function Ls(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(v(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=br(o),T=Sc(o),z=T.length,q=0;q<z;q++)m.call(void 0,T[q],p&&p[q],o)}var za=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rc(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),z=null;if(0<=T){var q=o[p].substring(0,T);z=o[p].substring(T+1)}else q=o[p];m(q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function me(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof me){this.h=o.h,La(this,o.j),this.o=o.o,this.g=o.g,qi(this,o.s),this.l=o.l;var m=o.i,p=new fi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),hi(this,p),this.m=o.m}else o&&(m=String(o).match(za))?(this.h=!1,La(this,m[1]||"",!0),this.o=_n(m[2]||""),this.g=_n(m[3]||"",!0),qi(this,m[4]),this.l=_n(m[5]||"",!0),hi(this,m[6]||"",!0),this.m=_n(m[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}me.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Pa(m,ks,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Pa(m,ks,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Pa(p,p.charAt(0)=="/"?wc:Ps,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Pa(p,Sr)),o.join("")};function ln(o){return new me(o)}function La(o,m,p){o.j=p?_n(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function qi(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function hi(o,m,p){m instanceof fi?(o.i=m,du(o.i,o.h)):(p||(m=Pa(m,Cc)),o.i=new fi(m,o.h))}function Ft(o,m,p){o.i.set(m,p)}function ka(o){return Ft(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function _n(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Pa(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,fu),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function fu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var ks=/[#\/\?@]/g,Ps=/[#\?:]/g,wc=/[#\?]/g,Cc=/[#\?@]/g,Sr=/#/g;function fi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function vn(o){o.g||(o.g=new Map,o.h=0,o.i&&Rc(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=fi.prototype,r.add=function(o,m){vn(this),this.i=null,o=qn(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function di(o,m){vn(o),m=qn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function mi(o,m){return vn(o),m=qn(o,m),o.g.has(m)}r.forEach=function(o,m){vn(this),this.g.forEach(function(p,T){p.forEach(function(z){o.call(m,z,T,this)},this)},this)},r.na=function(){vn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const z=o[T];for(let q=0;q<z.length;q++)p.push(m[T])}return p},r.V=function(o){vn(this);let m=[];if(typeof o=="string")mi(this,o)&&(m=m.concat(this.g.get(qn(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},r.set=function(o,m){return vn(this),this.i=null,o=qn(this,o),mi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},r.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Bs(o,m,p){di(o,m),0<p.length&&(o.i=null,o.g.set(qn(o,m),tt(p)),o.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),nt=this.V(T);for(T=0;T<nt.length;T++){var z=q;nt[T]!==""&&(z+="="+encodeURIComponent(String(nt[T]))),o.push(z)}}return this.i=o.join("&")};function qn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function du(o,m){m&&!o.j&&(vn(o),o.i=null,o.g.forEach(function(p,T){var z=T.toLowerCase();T!=z&&(di(this,T),Bs(this,z,p))},o)),o.j=m}function Ba(o,m){const p=new yn;if(g.Image){const T=new Image;T.onload=B(En,p,"TestLoadImage: loaded",!0,m,T),T.onerror=B(En,p,"TestLoadImage: error",!1,m,T),T.onabort=B(En,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=B(En,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function xn(o,m){const p=new yn,T=new AbortController,z=setTimeout(()=>{T.abort(),En(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(q=>{clearTimeout(z),q.ok?En(p,"TestPingServer: ok",!0,m):En(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),En(p,"TestPingServer: error",!1,m)})}function En(o,m,p,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(p)}catch{}}function ja(){this.g=new Ia}function Hn(o,m,p){const T=p||"";try{Ls(o,function(z,q){let nt=z;_(z)&&(nt=Vn(z)),m.push(T+q+"="+encodeURIComponent(nt))})}catch(z){throw m.push(T+"type="+encodeURIComponent("_badmap")),z}}function Hi(o){this.l=o.Ub||null,this.j=o.eb||!1}X(Hi,Ds),Hi.prototype.g=function(){return new gi(this.l,this.j)},Hi.prototype.i=function(o){return function(){return o}}({});function gi(o,m){re.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(gi,re),r=gi.prototype,r.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Qn(this)},r.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},r.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;js(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function js(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}r.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Gn(this):Qn(this),this.readyState==3&&js(this)}},r.Ra=function(o){this.g&&(this.response=this.responseText=o,Gn(this))},r.Qa=function(o){this.g&&(this.response=o,Gn(this))},r.ga=function(){this.g&&Gn(this)};function Gn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Qn(o)}r.setRequestHeader=function(o,m){this.u.append(o,m)},r.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Qn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function qs(o){let m="";return Vt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ce(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=qs(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Ft(o,m,p))}function jt(o){re.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(jt,re);var Rr=/^https?$/i,qa=["POST","PUT"];r=jt.prototype,r.Ha=function(o){this.J=o},r.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pn.g(),this.v=this.o?Vs(this.o):Vs(Pn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(q){mu(this,q);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)p.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),z=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(qa,m,void 0))||T||z||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of p)this.g.setRequestHeader(q,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ha(this),this.u=!0,this.g.send(o),this.u=!1}catch(q){mu(this,q)}};function mu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,wr(o),Yn(o)}function wr(o){o.A||(o.A=!0,Ht(o,"complete"),Ht(o,"error"))}r.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Ht(this,"complete"),Ht(this,"abort"),Yn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),jt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Cr(this):this.bb())},r.bb=function(){Cr(this)};function Cr(o){if(o.h&&typeof d<"u"&&(!o.v[1]||Tn(o)!=4||o.Z()!=2)){if(o.u&&Tn(o)==4)je(o.Ea,0,o);else if(Ht(o,"readystatechange"),Tn(o)==4){o.h=!1;try{const nt=o.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=nt===0){var z=String(o.D).match(za)[1]||null;!z&&g.self&&g.self.location&&(z=g.self.location.protocol.slice(0,-1)),T=!Rr.test(z?z.toLowerCase():"")}p=T}if(p)Ht(o,"complete"),Ht(o,"success");else{o.m=6;try{var q=2<Tn(o)?o.g.statusText:""}catch{q=""}o.l=q+" ["+o.Z()+"]",wr(o)}}finally{Yn(o)}}}}function Yn(o,m){if(o.g){Ha(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Ht(o,"ready");try{p.onreadystatechange=T}catch{}}}function Ha(o){o.I&&(g.clearTimeout(o.I),o.I=null)}r.isActive=function(){return!!this.g};function Tn(o){return o.g?o.g.readyState:0}r.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),yr(m)}};function gu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Dc(o){const m={};o=(o.g&&2<=Tn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(dt(o[T]))continue;var p=V(o[T]);const z=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[z]||[];m[z]=q,q.push(p)}M(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ga(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Dr(o){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ga("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ga("baseRetryDelayMs",5e3,o),this.cb=Ga("retryDelaySeedMs",1e4,o),this.Wa=Ga("forwardChannelMaxRetries",2,o),this.wa=Ga("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new ci(o&&o.concurrentRequestLimit),this.Da=new ja,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Dr.prototype,r.la=8,r.G=1,r.connect=function(o,m,p,T){te(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Au(this,null,this.W),Nr(this)};function Hs(o){if(pu(o),o.G==3){var m=o.U++,p=ln(o.I);if(Ft(p,"SID",o.K),Ft(p,"RID",m),Ft(p,"TYPE","terminate"),Qa(o,p),m=new Fe(o,o.j,m),m.L=2,m.v=ka(ln(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=bu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ma(m)}Tu(o)}function Vr(o){o.g&&(Ya(o),o.g.cancel(),o.g=null)}function pu(o){Vr(o),o.u&&(g.clearTimeout(o.u),o.u=null),xr(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Nr(o){if(!Er(o.h)&&!o.s){o.s=!0;var m=o.Ga;et||N(),st||(et(),st=!0),kt.add(m,o),o.B=0}}function Vc(o,m){return Tr(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=de(D(o.Ga,o,m),Ys(o,o.B)),o.B++,!0)}r.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const z=new Fe(this,this.j,o);let q=this.o;if(this.S&&(q?(q=b(q),I(q,this.S)):q=this.S),this.m!==null||this.O||(z.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=yu(this,z,m),p=ln(this.I),Ft(p,"RID",o),Ft(p,"CVER",22),this.D&&Ft(p,"X-HTTP-Session-Id",this.D),Qa(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(qs(q)))+"&"+m:this.m&&Ce(p,this.m,q)),Ar(this.h,z),this.Ua&&Ft(p,"TYPE","init"),this.P?(Ft(p,"$req",m),Ft(p,"SID","null"),z.T=!0,Nn(z,p,null)):Nn(z,p,m),this.G=2}}else this.G==3&&(o?Gs(this,o):this.i.length==0||Er(this.h)||Gs(this))};function Gs(o,m){var p;m?p=m.l:p=o.U++;const T=ln(o.I);Ft(T,"SID",o.K),Ft(T,"RID",p),Ft(T,"AID",o.T),Qa(o,T),o.m&&o.o&&Ce(T,o.m,o.o),p=new Fe(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=yu(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Ar(o.h,p),Nn(p,T,m)}function Qa(o,m){o.H&&Vt(o.H,function(p,T){Ft(m,T,p)}),o.l&&Ls({},function(p,T){Ft(m,T,p)})}function yu(o,m,p){p=Math.min(o.i.length,p);var T=o.l?D(o.l.Na,o.l,o):null;t:{var z=o.i;let q=-1;for(;;){const nt=["count="+p];q==-1?0<p?(q=z[0].g,nt.push("ofs="+q)):q=0:nt.push("ofs="+q);let It=!0;for(let ve=0;ve<p;ve++){let Ot=z[ve].g;const De=z[ve].map;if(Ot-=q,0>Ot)q=Math.max(0,z[ve].g-100),It=!1;else try{Hn(De,nt,"req"+Ot+"_")}catch{T&&T(De)}}if(It){T=nt.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function _u(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;et||N(),st||(et(),st=!0),kt.add(m,o),o.v=0}}function Qs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=de(D(o.Fa,o),Ys(o,o.v)),o.v++,!0)}r.Fa=function(){if(this.u=null,vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=de(D(this.ab,this),o)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Vr(this),vu(this))};function Ya(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function vu(o){o.g=new Fe(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=ln(o.qa);Ft(m,"RID","rpc"),Ft(m,"SID",o.K),Ft(m,"AID",o.T),Ft(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Ft(m,"TO",o.ja),Ft(m,"TYPE","xmlhttp"),Qa(o,m),o.m&&o.o&&Ce(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=ka(ln(m)),p.m=null,p.P=!0,oi(p,o)}r.Za=function(){this.C!=null&&(this.C=null,Vr(this),Qs(this),te(19))};function xr(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function Eu(o,m){var p=null;if(o.g==m){xr(o),Ya(o),o.g=null;var T=2}else if(Us(o.h,m))p=m.D,Ke(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var z=o.B;T=Li(),Ht(T,new _e(T,p)),Nr(o)}else _u(o);else if(z=m.s,z==3||z==0&&0<m.X||!(T==1&&Vc(o,m)||T==2&&Qs(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),z){case 1:pi(o,5);break;case 4:pi(o,10);break;case 3:pi(o,6);break;default:pi(o,2)}}}function Ys(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function pi(o,m){if(o.j.info("Error code "+m),m==2){var p=D(o.fb,o),T=o.Xa;const z=!T;T=new me(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||La(T,"https"),ka(T),z?Ba(T.toString(),p):xn(T.toString(),p)}else te(2);o.G=0,o.l&&o.l.sa(m),Tu(o),pu(o)}r.fb=function(o){o?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function Tu(o){if(o.G=0,o.ka=[],o.l){const m=zs(o.h);(m.length!=0||o.i.length!=0)&&(J(o.ka,m),J(o.ka,o.i),o.h.i.length=0,tt(o.i),o.i.length=0),o.l.ra()}}function Au(o,m,p){var T=p instanceof me?ln(p):new me(p);if(T.g!="")m&&(T.g=m+"."+T.g),qi(T,T.s);else{var z=g.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var q=new me(null);T&&La(q,T),m&&(q.g=m),z&&qi(q,z),p&&(q.l=p),T=q}return p=o.D,m=o.ya,p&&m&&Ft(T,p,m),Ft(T,"VER",o.la),Qa(o,T),T}function bu(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new jt(new Hi({eb:p})):new jt(o.pa),m.Ha(o.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}r=Su.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ir(){}Ir.prototype.g=function(o,m){return new Xe(o,m)};function Xe(o,m){re.call(this),this.g=new Dr(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!dt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Fn(this)}X(Xe,re),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){Hs(this.g)},Xe.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=Vn(o),o=p);m.i.push(new hu(m.Ya++,o)),m.G==3&&Nr(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,Hs(this.g),delete this.g,Xe.aa.N.call(this)};function Ru(o){li.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}X(Ru,li);function wu(){xs.call(this),this.status=1}X(wu,xs);function Fn(o){this.g=o}X(Fn,Su),Fn.prototype.ua=function(){Ht(this.g,"a")},Fn.prototype.ta=function(o){Ht(this.g,new Ru(o))},Fn.prototype.sa=function(o){Ht(this.g,new wu)},Fn.prototype.ra=function(){Ht(this.g,"b")},Ir.prototype.createWebChannel=Ir.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,I_=function(){return new Ir},x_=function(){return Li()},N_=kn,Bf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bi.NO_ERROR=0,Bi.TIMEOUT=8,Bi.HTTP_ERROR=6,Mo=Bi,ui.COMPLETE="complete",V_=ui,Ns.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",re.prototype.listen=re.prototype.K,Ul=Ns,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,D_=jt}).apply(typeof Do<"u"?Do:typeof self<"u"?self:typeof window<"u"?window:{});const vy="@firebase/firestore",Ey="4.7.15";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ts="11.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new T_("@firebase/firestore");function ls(){return cr.logLevel}function at(r,...e){if(cr.logLevel<=zt.DEBUG){const i=e.map(ud);cr.debug(`Firestore (${Ts}): ${r}`,...i)}}function Mi(r,...e){if(cr.logLevel<=zt.ERROR){const i=e.map(ud);cr.error(`Firestore (${Ts}): ${r}`,...i)}}function ds(r,...e){if(cr.logLevel<=zt.WARN){const i=e.map(ud);cr.warn(`Firestore (${Ts}): ${r}`,...i)}}function ud(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,O_(r,s,i)}function O_(r,e,i){let s=`FIRESTORE (${Ts}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Mi(s),new Error(s)}function qt(r,e,i,s){let u="Unexpected state";typeof i=="string"?u=i:s=i,r||O_(e,u,s)}function Tt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Es{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class C1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class D1{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let s=this.i;const u=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new ga;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ga,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await u(this.currentUser)})},g=v=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ga)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new M_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}}class V1{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class N1{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new V1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ty{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,o1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const s=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const u=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ty(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ty(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=I1(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<i&&(s+=e.charAt(u[h]%62))}return s}}function St(r,e){return r<e?-1:r>e?1:0}function jf(r,e){let i=0;for(;i<r.length&&i<e.length;){const s=r.codePointAt(i),u=e.codePointAt(i);if(s!==u){if(s<128&&u<128)return St(s,u);{const h=U_(),d=O1(h.encode(Ay(r,i)),h.encode(Ay(e,i)));return d!==0?d:St(s,u)}}i+=s>65535?2:1}return St(r.length,e.length)}function Ay(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function O1(r,e){for(let i=0;i<r.length&&i<e.length;++i)if(r[i]!==e[i])return St(r[i],e[i]);return St(r.length,e.length)}function ms(r,e,i){return r.length===e.length&&r.every((s,u)=>i(s,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=-62135596800,Sy=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Sy);return new Se(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<by)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sy}_compareTo(e){return this.seconds===e.seconds?St(this.nanoseconds,e.nanoseconds):St(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-by;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(e){return new vt(e)}static min(){return new vt(new Se(0,0))}static max(){return new vt(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="__name__";class ti{constructor(e,i,s){i===void 0?i=0:i>e.length&&gt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&gt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const h=ti.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return St(e.length,i.length)}static compareSegments(e,i){const s=ti.isNumericId(e),u=ti.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?ti.extractNumericId(e).compare(ti.extractNumericId(i)):jf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ma.fromString(e.substring(4,e.length-2))}}class ne extends ti{construct(e,i,s){return new ne(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ut($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new ne(i)}static emptyPath(){return new ne([])}}const M1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends ti{construct(e,i,s){return new Pe(e,i,s)}static isValidIdentifier(e){return M1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ry}static keyField(){return new Pe([Ry])}static fromServerFormat(e){const i=[];let s="",u=0;const h=()=>{if(s.length===0)throw new ut($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new ut($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ut($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(s+=g,u++):(h(),u++)}if(h(),d)throw new ut($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht(ne.fromString(e))}static fromName(e){return new ht(ne.fromString(e).popFirst(5))}static empty(){return new ht(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ne.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new ne(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=-1;function U1(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,u=vt.fromTimestamp(s===1e9?new Se(i+1,0):new Se(i,s));return new ya(u,ht.empty(),e)}function z1(r){return new ya(r.readTime,r.key,Fl)}class ya{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new ya(vt.min(),ht.empty(),Fl)}static max(){return new ya(vt.max(),ht.empty(),Fl)}}function L1(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ht.comparator(r.documentKey,e.documentKey),i!==0?i:St(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class P1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function As(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==k1)throw r;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):K.reject(i)}static resolve(e){return new K((i,s)=>{i(e)})}static reject(e){return new K((i,s)=>{s(e)})}static waitFor(e){return new K((i,s)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},v=>s(v))}),d=!0,h===u&&i()})}static or(e){let i=K.resolve(!1);for(const s of e)i=i.next(u=>u?K.resolve(u):s());return i}static forEach(e,i){const s=[];return e.forEach((u,h)=>{s.push(i.call(this,u,h))}),this.waitFor(s)}static mapArray(e,i){return new K((s,u)=>{const h=e.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(A=>{d[_]=A,++g,g===h&&s(d)},A=>u(A))}})}static doWhile(e,i){return new K((s,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):s()};h()})}}function B1(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function bs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>i.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}nc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=-1;function ic(r){return r==null}function Go(r){return r===0&&1/r==-1/0}function j1(r){return typeof r=="number"&&Number.isInteger(r)&&!Go(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="";function q1(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=wy(e)),e=H1(r.get(i),e);return wy(e)}function H1(r,e){let i=e;const s=r.length;for(let u=0;u<s;u++){const h=r.charAt(u);switch(h){case"\0":i+="";break;case L_:i+="";break;default:i+=h}}return i}function wy(r){return r+L_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function ba(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function k_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,i){this.comparator=e,this.root=i||ke.EMPTY}insert(e,i){return new ae(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vo(this.root,e,this.comparator,!0)}}class Vo{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,i,s,u,h){this.key=e,this.value=i,this.color=s??ke.RED,this.left=u??ke.EMPTY,this.right=h??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,h){return new ke(e??this.key,i??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const h=s(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,s),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ke.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gt(27949);return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(e,i,s,u,h){return this}insert(e,i,s){return new ke(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Dy(this.data.getIterator())}getIteratorFrom(e){return new Dy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Re(this.comparator);return i.data=e,i}}class Dy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new gn([])}unionWith(e){let i=new Re(Pe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new gn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ms(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new P_("Invalid base64 string: "+h):h}}(e);return new Be(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return St(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const G1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _a(r){if(qt(!!r,39018),typeof r=="string"){let e=0;const i=G1.exec(r);if(qt(!!i,46558,{timestamp:r}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:fe(r.seconds),nanos:fe(r.nanos)}}function fe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function va(r){return typeof r=="string"?Be.fromBase64String(r):Be.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="server_timestamp",j_="__type__",q_="__previous_value__",H_="__local_write_time__";function cd(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[j_])===null||i===void 0?void 0:i.stringValue)===B_}function ac(r){const e=r.mapValue.fields[q_];return cd(e)?ac(e):e}function Kl(r){const e=_a(r.mapValue.fields[H_].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,i,s,u,h,d,g,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Qo="(default)";class Xl{constructor(e,i){this.projectId=e,this.database=i||Qo}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===Qo}isEqual(e){return e instanceof Xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="__type__",Y1="__max__",No={mapValue:{}},Q_="__vector__",Yo="value";function Ea(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?cd(r)?4:K1(r)?9007199254740991:F1(r)?10:11:gt(28295,{value:r})}function ii(r,e){if(r===e)return!0;const i=Ea(r);if(i!==Ea(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Kl(r).isEqual(Kl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=_a(u.timestampValue),g=_a(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(u,h){return va(u.bytesValue).isEqual(va(h.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(u,h){return fe(u.geoPointValue.latitude)===fe(h.geoPointValue.latitude)&&fe(u.geoPointValue.longitude)===fe(h.geoPointValue.longitude)}(r,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return fe(u.integerValue)===fe(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=fe(u.doubleValue),g=fe(h.doubleValue);return d===g?Go(d)===Go(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return ms(r.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(Cy(d)!==Cy(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!ii(d[v],g[v])))return!1;return!0}(r,e);default:return gt(52216,{left:r})}}function Zl(r,e){return(r.values||[]).find(i=>ii(i,e))!==void 0}function gs(r,e){if(r===e)return 0;const i=Ea(r),s=Ea(e);if(i!==s)return St(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return St(r.booleanValue,e.booleanValue);case 2:return function(h,d){const g=fe(h.integerValue||h.doubleValue),v=fe(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(r,e);case 3:return Vy(r.timestampValue,e.timestampValue);case 4:return Vy(Kl(r),Kl(e));case 5:return jf(r.stringValue,e.stringValue);case 6:return function(h,d){const g=va(h),v=va(d);return g.compareTo(v)}(r.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const A=St(g[_],v[_]);if(A!==0)return A}return St(g.length,v.length)}(r.referenceValue,e.referenceValue);case 8:return function(h,d){const g=St(fe(h.latitude),fe(d.latitude));return g!==0?g:St(fe(h.longitude),fe(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Ny(r.arrayValue,e.arrayValue);case 10:return function(h,d){var g,v,_,A;const S=h.fields||{},D=d.fields||{},B=(g=S[Yo])===null||g===void 0?void 0:g.arrayValue,X=(v=D[Yo])===null||v===void 0?void 0:v.arrayValue,tt=St(((_=B==null?void 0:B.values)===null||_===void 0?void 0:_.length)||0,((A=X==null?void 0:X.values)===null||A===void 0?void 0:A.length)||0);return tt!==0?tt:Ny(B,X)}(r.mapValue,e.mapValue);case 11:return function(h,d){if(h===No.mapValue&&d===No.mapValue)return 0;if(h===No.mapValue)return 1;if(d===No.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let S=0;S<v.length&&S<A.length;++S){const D=jf(v[S],A[S]);if(D!==0)return D;const B=gs(g[v[S]],_[A[S]]);if(B!==0)return B}return St(v.length,A.length)}(r.mapValue,e.mapValue);default:throw gt(23264,{Pe:i})}}function Vy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return St(r,e);const i=_a(r),s=_a(e),u=St(i.seconds,s.seconds);return u!==0?u:St(i.nanos,s.nanos)}function Ny(r,e){const i=r.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const h=gs(i[u],s[u]);if(h)return h}return St(i.length,s.length)}function ps(r){return qf(r)}function qf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=_a(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return va(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return ht.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",u=!0;for(const h of i.values||[])u?u=!1:s+=",",s+=qf(h);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of s)h?h=!1:u+=",",u+=`${d}:${qf(i.fields[d])}`;return u+"}"}(r.mapValue):gt(61005,{value:r})}function Uo(r){switch(Ea(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ac(r);return e?16+Uo(e):16;case 5:return 2*r.stringValue.length;case 6:return va(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((u,h)=>u+Uo(h),0)}(r.arrayValue);case 10:case 11:return function(s){let u=0;return ba(s.fields,(h,d)=>{u+=h.length+Uo(d)}),u}(r.mapValue);default:throw gt(13486,{value:r})}}function Hf(r){return!!r&&"integerValue"in r}function hd(r){return!!r&&"arrayValue"in r}function xy(r){return!!r&&"nullValue"in r}function Iy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function zo(r){return!!r&&"mapValue"in r}function F1(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[G_])===null||i===void 0?void 0:i.stringValue)===Q_}function Bl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ba(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Bl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Bl(r.arrayValue.values[i]);return e}return Object.assign({},r)}function K1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Y1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!zo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(i)}setAll(e){let i=Pe.emptyPath(),s={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,s,u),s={},u=[],i=g.popLast()}d?s[g.lastSegment()]=Bl(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,u)}delete(e){const i=this.field(e.popLast());zo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];zo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){ba(i,(u,h)=>e[u]=h);for(const u of s)delete e[u]}clone(){return new rn(Bl(this.value))}}function Y_(r){const e=[];return ba(r.fields,(i,s)=>{const u=new Pe([i]);if(zo(s)){const h=Y_(s.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,s,u,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ye(e,0,vt.min(),vt.min(),vt.min(),rn.empty(),0)}static newFoundDocument(e,i,s,u){return new Ye(e,1,i,vt.min(),s,u,0)}static newNoDocument(e,i){return new Ye(e,2,i,vt.min(),vt.min(),rn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,vt.min(),vt.min(),rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,i){this.position=e,this.inclusive=i}}function Oy(r,e,i){let s=0;for(let u=0;u<r.position.length;u++){const h=e[u],d=r.position[u];if(h.field.isKeyField()?s=ht.comparator(ht.fromName(d.referenceValue),i.key):s=gs(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function My(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ii(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,i="asc"){this.field=e,this.dir=i}}function X1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{}class be extends F_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new $1(e,i,s):i==="array-contains"?new tA(e,s):i==="in"?new eA(e,s):i==="not-in"?new nA(e,s):i==="array-contains-any"?new iA(e,s):new be(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new J1(e,s):new W1(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(gs(i,this.value)):i!==null&&Ea(this.value)===Ea(i)&&this.matchesComparison(gs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends F_{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new ai(e,i)}matches(e){return K_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function K_(r){return r.op==="and"}function X_(r){return Z1(r)&&K_(r)}function Z1(r){for(const e of r.filters)if(e instanceof ai)return!1;return!0}function Gf(r){if(r instanceof be)return r.field.canonicalString()+r.op.toString()+ps(r.value);if(X_(r))return r.filters.map(e=>Gf(e)).join(",");{const e=r.filters.map(i=>Gf(i)).join(",");return`${r.op}(${e})`}}function Z_(r,e){return r instanceof be?function(s,u){return u instanceof be&&s.op===u.op&&s.field.isEqual(u.field)&&ii(s.value,u.value)}(r,e):r instanceof ai?function(s,u){return u instanceof ai&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce((h,d,g)=>h&&Z_(d,u.filters[g]),!0):!1}(r,e):void gt(19439)}function $_(r){return r instanceof be?function(i){return`${i.field.canonicalString()} ${i.op} ${ps(i.value)}`}(r):r instanceof ai?function(i){return i.op.toString()+" {"+i.getFilters().map($_).join(" ,")+"}"}(r):"Filter"}class $1 extends be{constructor(e,i,s){super(e,i,s),this.key=ht.fromName(s.referenceValue)}matches(e){const i=ht.comparator(e.key,this.key);return this.matchesComparison(i)}}class J1 extends be{constructor(e,i){super(e,"in",i),this.keys=J_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class W1 extends be{constructor(e,i){super(e,"not-in",i),this.keys=J_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function J_(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ht.fromName(s.referenceValue))}class tA extends be{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return hd(i)&&Zl(i.arrayValue,this.value)}}class eA extends be{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Zl(this.value.arrayValue,i)}}class nA extends be{constructor(e,i){super(e,"not-in",i)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Zl(this.value.arrayValue,i)}}class iA extends be{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!hd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Zl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,i=null,s=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.Ie=null}}function Uy(r,e=null,i=[],s=[],u=null,h=null,d=null){return new aA(r,e,i,s,u,h,d)}function fd(r){const e=Tt(r);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Gf(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),ic(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>ps(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>ps(s)).join(",")),e.Ie=i}return e.Ie}function dd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!X1(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Z_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!My(r.startAt,e.startAt)&&My(r.endAt,e.endAt)}function Qf(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i=null,s=[],u=[],h=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function rA(r,e,i,s,u,h,d,g){return new rc(r,e,i,s,u,h,d,g)}function sc(r){return new rc(r)}function zy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function sA(r){return r.collectionGroup!==null}function jl(r){const e=Tt(r);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Re(Pe.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new Ko(h,s))}),i.has(Pe.keyField().canonicalString())||e.Ee.push(new Ko(Pe.keyField(),s))}return e.Ee}function ei(r){const e=Tt(r);return e.de||(e.de=lA(e,jl(r))),e.de}function lA(r,e){if(r.limitType==="F")return Uy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Ko(u.field,h)});const i=r.endAt?new Fo(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Fo(r.startAt.position,r.startAt.inclusive):null;return Uy(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Yf(r,e,i){return new rc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function lc(r,e){return dd(ei(r),ei(e))&&r.limitType===e.limitType}function W_(r){return`${fd(ei(r))}|lt:${r.limitType}`}function us(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>$_(u)).join(", ")}]`),ic(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>ps(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>ps(u)).join(",")),`Target(${s})`}(ei(r))}; limitType=${r.limitType})`}function uc(r,e){return e.isFoundDocument()&&function(s,u){const h=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ht.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(r,e)&&function(s,u){for(const h of jl(s))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(r,e)&&function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0}(r,e)&&function(s,u){return!(s.startAt&&!function(d,g,v){const _=Oy(d,g,v);return d.inclusive?_<=0:_<0}(s.startAt,jl(s),u)||s.endAt&&!function(d,g,v){const _=Oy(d,g,v);return d.inclusive?_>=0:_>0}(s.endAt,jl(s),u))}(r,e)}function uA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function tv(r){return(e,i)=>{let s=!1;for(const u of jl(r)){const h=oA(u,e,i);if(h!==0)return h;s=s||u.field.isKeyField()}return 0}}function oA(r,e,i){const s=r.field.isKeyField()?ht.comparator(e.key,i.key):function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?gs(v,_):gt(42886)}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,h]of s)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){ba(this.inner,(i,s)=>{for(const[u,h]of s)e(u,h)})}isEmpty(){return k_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=new ae(ht.comparator);function Ui(){return cA}const ev=new ae(ht.comparator);function zl(...r){let e=ev;for(const i of r)e=e.insert(i.key,i);return e}function nv(r){let e=ev;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function or(){return ql()}function iv(){return ql()}function ql(){return new dr(r=>r.toString(),(r,e)=>r.isEqual(e))}const hA=new ae(ht.comparator),fA=new Re(ht.comparator);function Nt(...r){let e=fA;for(const i of r)e=e.add(i);return e}const dA=new Re(St);function mA(){return dA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Go(e)?"-0":e}}function av(r){return{integerValue:""+r}}function gA(r,e){return j1(e)?av(e):md(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this._=void 0}}function pA(r,e,i){return r instanceof Xo?function(u,h){const d={fields:{[j_]:{stringValue:B_},[H_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&cd(h)&&(h=ac(h)),h&&(d.fields[q_]=h),{mapValue:d}}(i,e):r instanceof $l?sv(r,e):r instanceof Jl?lv(r,e):function(u,h){const d=rv(u,h),g=Ly(d)+Ly(u.Re);return Hf(d)&&Hf(u.Re)?av(g):md(u.serializer,g)}(r,e)}function yA(r,e,i){return r instanceof $l?sv(r,e):r instanceof Jl?lv(r,e):i}function rv(r,e){return r instanceof Zo?function(s){return Hf(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class Xo extends oc{}class $l extends oc{constructor(e){super(),this.elements=e}}function sv(r,e){const i=uv(e);for(const s of r.elements)i.some(u=>ii(u,s))||i.push(s);return{arrayValue:{values:i}}}class Jl extends oc{constructor(e){super(),this.elements=e}}function lv(r,e){let i=uv(e);for(const s of r.elements)i=i.filter(u=>!ii(u,s));return{arrayValue:{values:i}}}class Zo extends oc{constructor(e,i){super(),this.serializer=e,this.Re=i}}function Ly(r){return fe(r.integerValue||r.doubleValue)}function uv(r){return hd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function _A(r,e){return r.field.isEqual(e.field)&&function(s,u){return s instanceof $l&&u instanceof $l||s instanceof Jl&&u instanceof Jl?ms(s.elements,u.elements,ii):s instanceof Zo&&u instanceof Zo?ii(s.Re,u.Re):s instanceof Xo&&u instanceof Xo}(r.transform,e.transform)}class vA{constructor(e,i){this.version=e,this.transformResults=i}}class Un{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lo(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class cc{}function ov(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new gd(r.key,Un.none()):new Wl(r.key,r.data,Un.none());{const i=r.data,s=rn.empty();let u=new Re(Pe.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),u=u.add(h)}return new Sa(r.key,s,new gn(u.toArray()),Un.none())}}function EA(r,e,i){r instanceof Wl?function(u,h,d){const g=u.value.clone(),v=Py(u.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,i):r instanceof Sa?function(u,h,d){if(!Lo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Py(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(cv(u)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(r,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Hl(r,e,i,s){return r instanceof Wl?function(h,d,g,v){if(!Lo(h.precondition,d))return g;const _=h.value.clone(),A=By(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(r,e,i,s):r instanceof Sa?function(h,d,g,v){if(!Lo(h.precondition,d))return g;const _=By(h.fieldTransforms,v,d),A=d.data;return A.setAll(cv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(S=>S.field))}(r,e,i,s):function(h,d,g){return Lo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,i)}function TA(r,e){let i=null;for(const s of r.fieldTransforms){const u=e.data.field(s.field),h=rv(s.transform,u||null);h!=null&&(i===null&&(i=rn.empty()),i.set(s.field,h))}return i||null}function ky(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&ms(s,u,(h,d)=>_A(h,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Wl extends cc{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Sa extends cc{constructor(e,i,s,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function cv(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function Py(r,e,i){const s=new Map;qt(r.length===i.length,32656,{Ve:i.length,me:r.length});for(let u=0;u<i.length;u++){const h=r[u],d=h.transform,g=e.data.field(h.field);s.set(h.field,yA(d,g,i[u]))}return s}function By(r,e,i){const s=new Map;for(const u of r){const h=u.transform,d=i.data.field(u.field);s.set(u.field,pA(h,d,e))}return s}class gd extends cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AA extends cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&EA(h,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Hl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Hl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=iv();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const v=ov(d,g);v!==null&&s.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(vt.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Nt())}isEqual(e){return this.batchId===e.batchId&&ms(this.mutations,e.mutations,(i,s)=>ky(i,s))&&ms(this.baseMutations,e.baseMutations,(i,s)=>ky(i,s))}}class pd{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){qt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let u=function(){return hA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,s[d].version);return new pd(e,i,s,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,Ut;function wA(r){switch(r){case $.OK:return gt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function hv(r){if(r===void 0)return Mi("GRPC error has no .code"),$.UNKNOWN;switch(r){case ye.OK:return $.OK;case ye.CANCELLED:return $.CANCELLED;case ye.UNKNOWN:return $.UNKNOWN;case ye.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ye.INTERNAL:return $.INTERNAL;case ye.UNAVAILABLE:return $.UNAVAILABLE;case ye.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ye.NOT_FOUND:return $.NOT_FOUND;case ye.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ye.ABORTED:return $.ABORTED;case ye.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ye.DATA_LOSS:return $.DATA_LOSS;default:return gt(39323,{code:r})}}(Ut=ye||(ye={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=new ma([4294967295,4294967295],0);function jy(r){const e=U_().encode(r),i=new C_;return i.update(e),new Uint8Array(i.digest())}function qy(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new ma([i,s],0),new ma([u,h],0)]}class yd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Ll(`Invalid padding: ${i}`);if(s<0)throw new Ll(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=ma.fromNumber(this.pe)}we(e,i,s){let u=e.add(i.multiply(ma.fromNumber(s)));return u.compare(CA)===1&&(u=new ma([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=jy(e),[s,u]=qy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,u,h);if(!this.Se(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new yd(h,u,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const i=jy(e),[s,u]=qy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,u,h);this.be(d)}}be(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i,s,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new hc(vt.min(),u,new ae(St),Ui(),Nt())}}class tu{constructor(e,i,s,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new tu(s,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,i,s,u){this.De=e,this.removedTargetIds=i,this.key=s,this.ve=u}}class fv{constructor(e,i){this.targetId=e,this.Ce=i}}class dv{constructor(e,i,s=Be.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class Hy{constructor(){this.Fe=0,this.Me=Gy(),this.xe=Be.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Nt(),i=Nt(),s=Nt();return this.Me.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:gt(38017,{changeType:h})}}),new tu(this.xe,this.Oe,e,i,s)}Qe(){this.Ne=!1,this.Me=Gy()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class DA{constructor(e){this.ze=e,this.je=new Map,this.He=Ui(),this.Je=xo(),this.Ye=xo(),this.Ze=new ae(St)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const s=this.rt(i);switch(e.state){case 0:this.it(i)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(e.resumeToken));break;default:gt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((s,u)=>{this.it(u)&&i(u)})}ot(e){const i=e.targetId,s=e.Ce.count,u=this._t(i);if(u){const h=u.target;if(Qf(h))if(s===0){const d=new ht(h.path);this.tt(i,d,Ye.newNoDocument(d,vt.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this.ut(i);if(d!==s){const g=this.ct(e),v=g?this.lt(g,e,d):1;if(v!==0){this.st(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=va(s).toUint8Array()}catch(v){if(v instanceof P_)return ds("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new yd(d,u,h)}catch(v){return ds(v instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.pe===0?null:g}lt(e,i,s){return i.Ce.count===s-this.Tt(e,i.targetId)?0:2}Tt(e,i){const s=this.ze.getRemoteKeysForTarget(i);let u=0;return s.forEach(h=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.tt(i,h,null),u++)}),u}It(e){const i=new Map;this.je.forEach((h,d)=>{const g=this._t(d);if(g){if(h.current&&Qf(g.target)){const v=new ht(g.target.path);this.Et(v).has(d)||this.dt(d,v)||this.tt(d,v,Ye.newNoDocument(v,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let s=Nt();this.Ye.forEach((h,d)=>{let g=!0;d.forEachWhile(v=>{const _=this._t(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const u=new hc(e,i,this.Ze,this.He,s);return this.He=Ui(),this.Je=xo(),this.Ye=xo(),this.Ze=new ae(St),u}et(e,i){if(!this.it(e))return;const s=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,s){if(!this.it(e))return;const u=this.rt(e);this.dt(e,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),s&&(this.He=this.He.insert(i,s))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new Hy,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new Re(St),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new Re(St),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||at("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Hy),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function xo(){return new ae(ht.comparator)}function Gy(){return new ae(ht.comparator)}const VA={asc:"ASCENDING",desc:"DESCENDING"},NA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xA={and:"AND",or:"OR"};class IA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Ff(r,e){return r.useProto3Json||ic(e)?e:{value:e}}function $o(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function OA(r,e){return $o(r,e.toTimestamp())}function ni(r){return qt(!!r,49232),vt.fromTimestamp(function(i){const s=_a(i);return new Se(s.seconds,s.nanos)}(r))}function _d(r,e){return Kf(r,e).canonicalString()}function Kf(r,e){const i=function(u){return new ne(["projects",u.projectId,"databases",u.database])}(r).child("documents");return e===void 0?i:i.child(e)}function gv(r){const e=ne.fromString(r);return qt(Ev(e),10190,{key:e.toString()}),e}function Xf(r,e){return _d(r.databaseId,e.path)}function xf(r,e){const i=gv(e);if(i.get(1)!==r.databaseId.projectId)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ht(yv(i))}function pv(r,e){return _d(r.databaseId,e)}function MA(r){const e=gv(r);return e.length===4?ne.emptyPath():yv(e)}function Zf(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function yv(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Qy(r,e,i){return{name:Xf(r,e),fields:i.value.mapValue.fields}}function UA(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Be.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Be.fromUint8Array(A||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const A=_.code===void 0?$.UNKNOWN:hv(_.code);return new ut(A,_.message||"")}(d);i=new dv(s,u,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=xf(r,s.document.name),h=ni(s.document.updateTime),d=s.document.createTime?ni(s.document.createTime):vt.min(),g=new rn({mapValue:{fields:s.document.fields}}),v=Ye.newFoundDocument(u,h,d,g),_=s.targetIds||[],A=s.removedTargetIds||[];i=new ko(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=xf(r,s.document),h=s.readTime?ni(s.readTime):vt.min(),d=Ye.newNoDocument(u,h),g=s.removedTargetIds||[];i=new ko([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=xf(r,s.document),h=s.removedTargetIds||[];i=new ko([],h,u,null)}else{if(!("filter"in e))return gt(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:h}=s,d=new RA(u,h),g=s.targetId;i=new fv(g,d)}}return i}function zA(r,e){let i;if(e instanceof Wl)i={update:Qy(r,e.key,e.value)};else if(e instanceof gd)i={delete:Xf(r,e.key)};else if(e instanceof Sa)i={update:Qy(r,e.key,e.data),updateMask:QA(e.fieldMask)};else{if(!(e instanceof AA))return gt(16599,{ft:e.type});i={verify:Xf(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof Xo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof $l)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Jl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Zo)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw gt(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:OA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:gt(27497)}(r,e.precondition)),i}function LA(r,e){return r&&r.length>0?(qt(e!==void 0,14353),r.map(i=>function(u,h){let d=u.updateTime?ni(u.updateTime):ni(h);return d.isEqual(vt.min())&&(d=ni(h)),new vA(d,u.transformResults||[])}(i,e))):[]}function kA(r,e){return{documents:[pv(r,e.path)]}}function PA(r,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=pv(r,u);const h=function(_){if(_.length!==0)return vv(ai.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(A=>function(D){return{field:os(D.field),direction:qA(D.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Ff(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{gt:i,parent:u}}function BA(r){let e=MA(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){qt(s===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(S){const D=_v(S);return D instanceof ai&&X_(D)?D.getFilters():[D]}(i.where));let d=[];i.orderBy&&(d=function(S){return S.map(D=>function(X){return new Ko(cs(X.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(D))}(i.orderBy));let g=null;i.limit&&(g=function(S){let D;return D=typeof S=="object"?S.value:S,ic(D)?null:D}(i.limit));let v=null;i.startAt&&(v=function(S){const D=!!S.before,B=S.values||[];return new Fo(B,D)}(i.startAt));let _=null;return i.endAt&&(_=function(S){const D=!S.before,B=S.values||[];return new Fo(B,D)}(i.endAt)),rA(e,u,d,h,g,"F",v,_)}function jA(r,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function _v(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=cs(i.unaryFilter.field);return be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=cs(i.unaryFilter.field);return be.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=cs(i.unaryFilter.field);return be.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=cs(i.unaryFilter.field);return be.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}}(r):r.fieldFilter!==void 0?function(i){return be.create(cs(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return ai.create(i.compositeFilter.filters.map(s=>_v(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return gt(1026)}}(i.compositeFilter.op))}(r):gt(30097,{filter:r})}function qA(r){return VA[r]}function HA(r){return NA[r]}function GA(r){return xA[r]}function os(r){return{fieldPath:r.canonicalString()}}function cs(r){return Pe.fromServerFormat(r.fieldPath)}function vv(r){return r instanceof be?function(i){if(i.op==="=="){if(Iy(i.value))return{unaryFilter:{field:os(i.field),op:"IS_NAN"}};if(xy(i.value))return{unaryFilter:{field:os(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Iy(i.value))return{unaryFilter:{field:os(i.field),op:"IS_NOT_NAN"}};if(xy(i.value))return{unaryFilter:{field:os(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:os(i.field),op:HA(i.op),value:i.value}}}(r):r instanceof ai?function(i){const s=i.getFilters().map(u=>vv(u));return s.length===1?s[0]:{compositeFilter:{op:GA(i.op),filters:s}}}(r):gt(54877,{filter:r})}function QA(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Ev(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,i,s,u,h=vt.min(),d=vt.min(),g=Be.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new ha(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this.wt=e}}function FA(r){const e=BA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Yf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.Cn=new XA}addToCollectionParentIndex(e,i){return this.Cn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(ya.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(ya.min())}updateCollectionGroup(e,i,s){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class XA{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new Re(ne.comparator),h=!u.has(s);return this.index[i]=u.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Re(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Tv=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(Tv,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ys(0)}static lr(){return new ys(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="LruGarbageCollector",ZA=1048576;function Ky([r,e],[i,s]){const u=St(r,i);return u===0?St(e,s):u}class $A{constructor(e){this.Er=e,this.buffer=new Re(Ky),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Ky(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class JA{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){at(Fy,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){bs(i)?at(Fy,"Ignoring IndexedDB error during garbage collection: ",i):await As(i)}await this.mr(3e5)})}}class WA{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return K.resolve(nc.le);const s=new $A(i);return this.gr.forEachTarget(e,u=>s.Rr(u.sequenceNumber)).next(()=>this.gr.yr(e,u=>s.Rr(u))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.gr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Yy)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yy):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let s,u,h,d,g,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),u=this.params.maximumSequenceNumbersToCollect):u=S,d=Date.now(),this.nthSequenceNumber(e,u))).next(S=>(s=S,g=Date.now(),this.removeTargets(e,s,i))).next(S=>(h=S,v=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(_=Date.now(),ls()<=zt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${S} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:S})))}}function tb(r,e){return new WA(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(){this.changes=new dr(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?K.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(s!==null&&Hl(s.mutation,u,gn.empty(),Se.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Nt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Nt()){const u=or();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,s).next(h=>{let d=zl();return h.forEach((g,v)=>{d=d.insert(g,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=or();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Nt()))}populateOverlays(e,i,s){const u=[];return s.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,u){let h=Ui();const d=ql(),g=function(){return ql()}();return i.forEach((v,_)=>{const A=s.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof Sa)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Hl(A.mutation,_,A.mutation.getFieldMask(),Se.now())):d.set(_.key,gn.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,A)=>d.set(_,A)),i.forEach((_,A)=>{var S;return g.set(_,new nb(A,(S=d.get(_))!==null&&S!==void 0?S:null))}),g))}recalculateAndSaveOverlays(e,i){const s=ql();let u=new ae((d,g)=>d-g),h=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let A=s.get(v)||gn.empty();A=g.applyToLocalView(_,A),s.set(v,A);const S=(u.get(g.batchId)||Nt()).add(v);u=u.insert(g.batchId,S)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,A=v.value,S=iv();A.forEach(D=>{if(!h.has(D)){const B=ov(i.get(D),s.get(D));B!==null&&S.set(D,B),h=h.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return K.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,u){return function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):sA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-h.size):K.resolve(or());let g=Fl,v=h;return d.next(_=>K.forEach(_,(A,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),h.get(A)?K.resolve():this.remoteDocumentCache.getEntry(e,A).next(D=>{v=v.insert(A,D)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,Nt())).next(A=>({batchId:g,changes:nv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ht(i)).next(s=>{let u=zl();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const h=i.collectionGroup;let d=zl();return this.indexManager.getCollectionParents(e,h).next(g=>K.forEach(g,v=>{const _=function(S,D){return new rc(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,u).next(A=>{A.forEach((S,D)=>{d=d.insert(S,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,u))).next(d=>{h.forEach((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ye.newInvalidDocument(A)))});let g=zl();return d.forEach((v,_)=>{const A=h.get(v);A!==void 0&&Hl(A.mutation,_,gn.empty(),Se.now()),uc(i,_)&&(g=g.insert(v,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return K.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ni(u.createTime)}}(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(u){return{name:u.name,query:FA(u.bundledQuery),readTime:ni(u.readTime)}}(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(){this.overlays=new ae(ht.comparator),this.Qr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const s=or();return K.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&s.set(u,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((u,h)=>{this.bt(e,i,h)}),K.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.Qr.get(s);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(s)),K.resolve()}getOverlaysForCollection(e,i,s){const u=or(),h=i.length+1,d=new ht(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&u.set(v.getKey(),v)}return K.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let h=new ae((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=h.get(_.largestBatchId);A===null&&(A=or(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=or(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=u)););return K.resolve(g)}bt(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.Qr.get(u.largestBatchId).delete(s.key);this.Qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new SA(i,s));let h=this.Qr.get(i);h===void 0&&(h=Nt(),this.Qr.set(i,h)),this.Qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(){this.$r=new Re(Ie.Ur),this.Kr=new Re(Ie.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const s=new Ie(e,i);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.zr(new Ie(e,i))}jr(e,i){e.forEach(s=>this.removeReference(s,i))}Hr(e){const i=new ht(new ne([])),s=new Ie(i,e),u=new Ie(i,e+1),h=[];return this.Kr.forEachInRange([s,u],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new ht(new ne([])),s=new Ie(i,e),u=new Ie(i,e+1);let h=Nt();return this.Kr.forEachInRange([s,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ie(e,0),s=this.$r.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ie{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return ht.comparator(e.key,i.key)||St(e.Zr,i.Zr)}static Wr(e,i){return St(e.Zr,i.Zr)||ht.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new Re(Ie.Ur)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new bA(h,i,s,u);this.mutationQueue.push(d);for(const g of u)this.Xr=this.Xr.add(new Ie(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,i){return K.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.ti(s),h=u<0?0:u;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?od:this.nr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ie(i,0),u=new Ie(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([s,u],d=>{const g=this.ei(d.Zr);h.push(g)}),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Re(St);return i.forEach(u=>{const h=new Ie(u,0),d=new Ie(u,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],g=>{s=s.add(g.Zr)})}),K.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let h=s;ht.isDocumentKey(h)||(h=h.child(""));const d=new Ie(new ht(h),0);let g=new Re(St);return this.Xr.forEachWhile(v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===u&&(g=g.add(v.Zr)),!0)},d),K.resolve(this.ni(g))}ni(e){const i=[];return e.forEach(s=>{const u=this.ei(s);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){qt(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return K.forEach(i.mutations,u=>{const h=new Ie(u.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,i){const s=new Ie(i,0),u=this.Xr.firstAfterOrEqual(s);return K.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.ii=e,this.docs=function(){return new ae(ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),h=u?u.size:0,d=this.ii(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return K.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let s=Ui();return i.forEach(u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():Ye.newInvalidDocument(u))}),K.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let h=Ui();const d=i.path,g=new ht(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||L1(z1(A),s)<=0||(u.has(A.key)||uc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(e,i,s,u){gt(9500)}si(e,i){return K.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new ob(this)}getSize(e){return K.resolve(this.size)}}class ob extends eb{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.Br.addEntry(e,u)):this.Br.removeEntry(s)}),K.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this.persistence=e,this.oi=new dr(i=>fd(i),dd),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this._i=0,this.ai=new vd,this.targetCount=0,this.ui=ys.cr()}forEachTarget(e,i){return this.oi.forEach((s,u)=>i(u)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this._i&&(this._i=i),K.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new ys(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.Tr(i),K.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,s){let u=0;const h=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),K.waitFor(h).next(()=>u)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const s=this.oi.get(i)||null;return K.resolve(s)}addMatchingKeys(e,i,s){return this.ai.Gr(i,s),K.resolve()}removeMatchingKeys(e,i,s){this.ai.jr(i,s);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),K.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),K.resolve()}getMatchingKeysForTargetId(e,i){const s=this.ai.Yr(i);return K.resolve(s)}containsKey(e,i){return K.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,i){this.ci={},this.overlays={},this.li=new nc(0),this.hi=!1,this.hi=!0,this.Pi=new sb,this.referenceDelegate=e(this),this.Ti=new cb(this),this.indexManager=new KA,this.remoteDocumentCache=function(u){return new ub(u)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new YA(i),this.Ei=new ab(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new rb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ci[e.toKey()];return s||(s=new lb(i,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,s){at("MemoryPersistence","Starting transaction:",e);const u=new hb(this.li.next());return this.referenceDelegate.di(),s(u).next(h=>this.referenceDelegate.Ai(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ri(e,i){return K.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,i)))}}class hb extends P1{constructor(e){super(),this.currentSequenceNumber=e}}class Ed{constructor(e){this.persistence=e,this.Vi=new vd,this.mi=null}static fi(e){return new Ed(e)}get gi(){if(this.mi)return this.mi;throw gt(60996)}addReference(e,i,s){return this.Vi.addReference(s,i),this.gi.delete(s.toString()),K.resolve()}removeReference(e,i,s){return this.Vi.removeReference(s,i),this.gi.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),K.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(u=>this.gi.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.gi.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.gi,s=>{const u=ht.fromPath(s);return this.pi(e,u).next(h=>{h||i.removeEntry(u,vt.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(s=>{s?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return K.or([()=>K.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class Jo{constructor(e,i){this.persistence=e,this.yi=new dr(s=>q1(s.path),(s,u)=>s.isEqual(u)),this.garbageCollector=tb(this,i)}static fi(e,i){return new Jo(e,i)}di(){}Ai(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(u=>s+u))}Sr(e){let i=0;return this.yr(e,s=>{i++}).next(()=>i)}yr(e,i){return K.forEach(this.yi,(s,u)=>this.Dr(e,s,u).next(h=>h?K.resolve():i(u)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.si(e,d=>this.Dr(e,d,i).next(g=>{g||(s++,h.removeEntry(d,vt.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.yi.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,i,s){return this.yi.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),K.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Uo(e.data.value)),i}Dr(e,i,s){return K.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.yi.get(i);return K.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.ds=s,this.As=u}static Rs(e,i){let s=Nt(),u=Nt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Td(e,i.fromCache,s,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return sT()?8:B1(aT())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,s,u){const h={result:null};return this.ws(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.Ss(e,i,u,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new fb;return this.bs(e,i,d).next(g=>{if(h.result=g,this.fs)return this.Ds(e,i,d,g.size)})}).next(()=>h.result)}Ds(e,i,s,u){return s.documentReadCount<this.gs?(ls()<=zt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",us(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),K.resolve()):(ls()<=zt.DEBUG&&at("QueryEngine","Query:",us(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.ps*u?(ls()<=zt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",us(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):K.resolve())}ws(e,i){if(zy(i))return K.resolve(null);let s=ei(i);return this.indexManager.getIndexType(e,s).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Yf(i,null,"F"),s=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Nt(...h);return this.ys.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(v=>{const _=this.vs(i,g);return this.Cs(i,_,d,v.readTime)?this.ws(e,Yf(i,null,"F")):this.Fs(e,_,i,v)}))})))}Ss(e,i,s,u){return zy(i)||u.isEqual(vt.min())?K.resolve(null):this.ys.getDocuments(e,s).next(h=>{const d=this.vs(i,h);return this.Cs(i,d,s,u)?K.resolve(null):(ls()<=zt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),us(i)),this.Fs(e,d,i,U1(u,Fl)).next(g=>g))})}vs(e,i){let s=new Re(tv(e));return i.forEach((u,h)=>{uc(e,h)&&(s=s.add(h))}),s}Cs(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}bs(e,i,s){return ls()<=zt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",us(i)),this.ys.getDocumentsMatchingQuery(e,i,ya.min(),s)}Fs(e,i,s,u){return this.ys.getDocumentsMatchingQuery(e,s,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="LocalStore",mb=3e8;class gb{constructor(e,i,s,u){this.persistence=e,this.Ms=i,this.serializer=u,this.xs=new ae(St),this.Os=new dr(h=>fd(h),dd),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ib(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function pb(r,e,i,s){return new gb(r,e,i,s)}async function bv(r,e){const i=Tt(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(h=>(u=h,i.Ls(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let v=Nt();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){g.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next(_=>({ks:_,removedBatchIds:d,addedBatchIds:g}))})})}function yb(r,e){const i=Tt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(g,v,_,A){const S=_.batch,D=S.keys();let B=K.resolve();return D.forEach(X=>{B=B.next(()=>A.getEntry(v,X)).next(tt=>{const J=_.docVersions.get(X);qt(J!==null,48541),tt.version.compareTo(J)<0&&(S.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),A.addEntry(tt)))})}),B.next(()=>g.mutationQueue.removeMutationBatch(v,S))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let v=Nt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(s,u))})}function Sv(r){const e=Tt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function _b(r,e){const i=Tt(r),s=e.snapshotVersion;let u=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Bs.newChangeBuffer({trackRemovals:!0});u=i.xs;const g=[];e.targetChanges.forEach((A,S)=>{const D=u.get(S);if(!D)return;g.push(i.Ti.removeMatchingKeys(h,A.removedDocuments,S).next(()=>i.Ti.addMatchingKeys(h,A.addedDocuments,S)));let B=D.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(S)!==null?B=B.withResumeToken(Be.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(A.resumeToken,s)),u=u.insert(S,B),function(tt,J,Et){return tt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=mb?!0:Et.addedDocuments.size+Et.modifiedDocuments.size+Et.removedDocuments.size>0}(D,B,A)&&g.push(i.Ti.updateTargetData(h,B))});let v=Ui(),_=Nt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(vb(h,d,e.documentUpdates).next(A=>{v=A.qs,_=A.Qs})),!s.isEqual(vt.min())){const A=i.Ti.getLastRemoteSnapshotVersion(h).next(S=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(A)}return K.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.xs=u,h))}function vb(r,e,i){let s=Nt(),u=Nt();return i.forEach(h=>s=s.add(h)),e.getEntries(r,s).next(h=>{let d=Ui();return i.forEach((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(g)),v.isNoDocument()&&v.version.isEqual(vt.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):at(Ad,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)}),{qs:d,Qs:u}})}function Eb(r,e){const i=Tt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=od),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Tb(r,e){const i=Tt(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Ti.getTargetData(s,e).next(h=>h?(u=h,K.resolve(u)):i.Ti.allocateTargetId(s).next(d=>(u=new ha(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Ti.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.xs.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.xs=i.xs.insert(s.targetId,s),i.Os.set(e,s.targetId)),s})}async function $f(r,e,i){const s=Tt(r),u=s.xs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!bs(d))throw d;at(Ad,`Failed to update sequence numbers for target ${e}: ${d}`)}s.xs=s.xs.remove(e),s.Os.delete(u.target)}function Xy(r,e,i){const s=Tt(r);let u=vt.min(),h=Nt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,A){const S=Tt(v),D=S.Os.get(A);return D!==void 0?K.resolve(S.xs.get(D)):S.Ti.getTargetData(_,A)}(s,d,ei(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(d,g.targetId).next(v=>{h=v})}).next(()=>s.Ms.getDocumentsMatchingQuery(d,e,i?u:vt.min(),i?h:Nt())).next(g=>(Ab(s,uA(e),g),{documents:g,$s:h})))}function Ab(r,e,i){let s=r.Ns.get(e)||vt.min();i.forEach((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),r.Ns.set(e,s)}class Zy{constructor(){this.activeTargetIds=mA()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bb{constructor(){this.xo=new Zy,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,s){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Zy,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="ConnectivityMonitor";class Jy{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){at($y,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){at($y,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io=null;function Jf(){return Io===null?Io=function(){return 268435456+Math.round(2147483648*Math.random())}():Io++,"0x"+Io.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="RestConnection",Rb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wb{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${s}/databases/${u}`,this.Go=this.databaseId.database===Qo?`project_id=${s}`:`project_id=${s}&database_id=${u}`}zo(e,i,s,u,h){const d=Jf(),g=this.jo(e,i.toUriEncodedString());at(If,`Sending RPC '${e}' ${d}:`,g,s);const v={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(v,u,h);const{host:_}=new URL(g),A=sd(_);return this.Jo(e,g,v,s,A).then(S=>(at(If,`Received RPC '${e}' ${d}: `,S),S),S=>{throw ds(If,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",s),S})}Yo(e,i,s,u,h,d){return this.zo(e,i,s,u,h)}Ho(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ts}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),s&&s.headers.forEach((u,h)=>e[h]=u)}jo(e,i){const s=Rb[e];return`${this.Ko}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class Db extends wb{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,u,h){const d=Jf();return new Promise((g,v)=>{const _=new D_;_.setWithCredentials(!0),_.listenOnce(V_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Mo.NO_ERROR:const S=_.getResponseJson();at(Ge,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case Mo.TIMEOUT:at(Ge,`RPC '${e}' ${d} timed out`),v(new ut($.DEADLINE_EXCEEDED,"Request time out"));break;case Mo.HTTP_ERROR:const D=_.getStatus();if(at(Ge,`RPC '${e}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const X=B==null?void 0:B.error;if(X&&X.status&&X.message){const tt=function(Et){const dt=Et.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(dt)>=0?dt:$.UNKNOWN}(X.status);v(new ut(tt,X.message))}else v(new ut($.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ut($.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(Ge,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(u);at(Ge,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,s,15)})}T_(e,i,s){const u=Jf(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=I_(),g=x_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Ho(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const A=h.join("");at(Ge,`Creating RPC '${e}' stream ${u}: ${A}`,v);const S=d.createWebChannel(A,v);let D=!1,B=!1;const X=new Cb({Zo:J=>{B?at(Ge,`Not sending because RPC '${e}' stream ${u} is closed:`,J):(D||(at(Ge,`Opening RPC '${e}' stream ${u} transport.`),S.open(),D=!0),at(Ge,`RPC '${e}' stream ${u} sending:`,J),S.send(J))},Xo:()=>S.close()}),tt=(J,Et,dt)=>{J.listen(Et,ct=>{try{dt(ct)}catch(xt){setTimeout(()=>{throw xt},0)}})};return tt(S,Ul.EventType.OPEN,()=>{B||(at(Ge,`RPC '${e}' stream ${u} transport opened.`),X.__())}),tt(S,Ul.EventType.CLOSE,()=>{B||(B=!0,at(Ge,`RPC '${e}' stream ${u} transport closed`),X.u_())}),tt(S,Ul.EventType.ERROR,J=>{B||(B=!0,ds(Ge,`RPC '${e}' stream ${u} transport errored. Name:`,J.name,"Message:",J.message),X.u_(new ut($.UNAVAILABLE,"The operation could not be completed")))}),tt(S,Ul.EventType.MESSAGE,J=>{var Et;if(!B){const dt=J.data[0];qt(!!dt,16349);const ct=dt,xt=(ct==null?void 0:ct.error)||((Et=ct[0])===null||Et===void 0?void 0:Et.error);if(xt){at(Ge,`RPC '${e}' stream ${u} received error:`,xt);const yt=xt.status;let Vt=function(C){const I=ye[C];if(I!==void 0)return hv(I)}(yt),M=xt.message;Vt===void 0&&(Vt=$.INTERNAL,M="Unknown error status: "+yt+" with message "+xt.message),B=!0,X.u_(new ut(Vt,M)),S.close()}else at(Ge,`RPC '${e}' stream ${u} received:`,dt),X.c_(dt)}}),tt(g,N_.STAT_EVENT,J=>{J.stat===Bf.PROXY?at(Ge,`RPC '${e}' stream ${u} detected buffering proxy`):J.stat===Bf.NOPROXY&&at(Ge,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{X.a_()},0),X}}function Of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(r){return new IA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,i,s=1e3,u=1.5,h=6e4){this.xi=e,this.timerId=i,this.I_=s,this.E_=u,this.d_=h,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const i=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),u=Math.max(0,i-s);u>0&&at("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.A_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,u,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="PersistentStream";class wv{constructor(e,i,s,u,h,d,g,v){this.xi=e,this.y_=s,this.w_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Rv(e,i)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,i){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Mi(i.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),i=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.S_===i&&this.K_(s,u)},s=>{e(()=>{const u=new ut($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(u)})})}K_(e,i){const s=this.U_(this.S_);this.stream=this.G_(e,i),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(u=>{s(()=>this.W_(u))}),this.stream.onMessage(u=>{s(()=>++this.v_==1?this.z_(u):this.onNext(u))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return at(Wy,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return i=>{this.xi.enqueueAndForget(()=>this.S_===e?i():(at(Wy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vb extends wv{constructor(e,i,s,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}G_(e,i){return this.connection.T_("Listen",e,i)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const i=UA(this.serializer,e),s=function(h){if(!("targetChange"in h))return vt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?ni(d.readTime):vt.min()}(e);return this.listener.j_(i,s)}H_(e){const i={};i.database=Zf(this.serializer),i.addTarget=function(h,d){let g;const v=d.target;if(g=Qf(v)?{documents:kA(h,v)}:{query:PA(h,v).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=mv(h,d.resumeToken);const _=Ff(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=$o(h,d.snapshotVersion.toTimestamp());const _=Ff(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const s=jA(this.serializer,e);s&&(i.labels=s),this.L_(i)}J_(e){const i={};i.database=Zf(this.serializer),i.removeTarget=e,this.L_(i)}}class Nb extends wv{constructor(e,i,s,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,i){return this.connection.T_("Write",e,i)}z_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const i=LA(e.writeResults,e.commitTime),s=ni(e.commitTime);return this.listener.ea(s,i)}ta(){const e={};e.database=Zf(this.serializer),this.L_(e)}Z_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>zA(this.serializer,s))};this.L_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{}class Ib extends xb{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.na=!1}ra(){if(this.na)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,s,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(e,Kf(i,s),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut($.UNKNOWN,h.toString())})}Yo(e,i,s,u,h){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(e,Kf(i,s),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut($.UNKNOWN,d.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class Ob{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Mi(i),this.oa=!1):at("OnlineStateTracker",i)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="RemoteStore";class Mb{constructor(e,i,s,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=h,this.Ea.No(d=>{s.enqueueAndForget(async()=>{mr(this)&&(at(hr,"Restarting streams for network reachability change."),await async function(v){const _=Tt(v);_.Ta.add(4),await eu(_),_.da.set("Unknown"),_.Ta.delete(4),await dc(_)}(this))})}),this.da=new Ob(s,u)}}async function dc(r){if(mr(r))for(const e of r.Ia)await e(!0)}async function eu(r){for(const e of r.Ia)await e(!1)}function Cv(r,e){const i=Tt(r);i.Pa.has(e.targetId)||(i.Pa.set(e.targetId,e),wd(i)?Rd(i):Ss(i).M_()&&Sd(i,e))}function bd(r,e){const i=Tt(r),s=Ss(i);i.Pa.delete(e),s.M_()&&Dv(i,e),i.Pa.size===0&&(s.M_()?s.N_():mr(i)&&i.da.set("Unknown"))}function Sd(r,e){if(r.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ss(r).H_(e)}function Dv(r,e){r.Aa.Ke(e),Ss(r).J_(e)}function Rd(r){r.Aa=new DA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Pa.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),Ss(r).start(),r.da._a()}function wd(r){return mr(r)&&!Ss(r).F_()&&r.Pa.size>0}function mr(r){return Tt(r).Ta.size===0}function Vv(r){r.Aa=void 0}async function Ub(r){r.da.set("Online")}async function zb(r){r.Pa.forEach((e,i)=>{Sd(r,e)})}async function Lb(r,e){Vv(r),wd(r)?(r.da.ca(e),Rd(r)):r.da.set("Unknown")}async function kb(r,e,i){if(r.da.set("Online"),e instanceof dv&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u.Pa.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.Pa.delete(g),u.Aa.removeTarget(g))}(r,e)}catch(s){at(hr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Wo(r,s)}else if(e instanceof ko?r.Aa.Xe(e):e instanceof fv?r.Aa.ot(e):r.Aa.nt(e),!i.isEqual(vt.min()))try{const s=await Sv(r.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.Aa.It(d);return g.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Pa.get(_);A&&h.Pa.set(_,A.withResumeToken(v.resumeToken,d))}}),g.targetMismatches.forEach((v,_)=>{const A=h.Pa.get(v);if(!A)return;h.Pa.set(v,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),Dv(h,v);const S=new ha(A.target,v,_,A.sequenceNumber);Sd(h,S)}),h.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(s){at(hr,"Failed to raise snapshot:",s),await Wo(r,s)}}async function Wo(r,e,i){if(!bs(e))throw e;r.Ta.add(1),await eu(r),r.da.set("Offline"),i||(i=()=>Sv(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{at(hr,"Retrying IndexedDB access"),await i(),r.Ta.delete(1),await dc(r)})}function Nv(r,e){return e().catch(i=>Wo(r,i,e))}async function mc(r){const e=Tt(r),i=Ta(e);let s=e.ha.length>0?e.ha[e.ha.length-1].batchId:od;for(;Pb(e);)try{const u=await Eb(e.localStore,s);if(u===null){e.ha.length===0&&i.N_();break}s=u.batchId,Bb(e,u)}catch(u){await Wo(e,u)}xv(e)&&Iv(e)}function Pb(r){return mr(r)&&r.ha.length<10}function Bb(r,e){r.ha.push(e);const i=Ta(r);i.M_()&&i.Y_&&i.Z_(e.mutations)}function xv(r){return mr(r)&&!Ta(r).F_()&&r.ha.length>0}function Iv(r){Ta(r).start()}async function jb(r){Ta(r).ta()}async function qb(r){const e=Ta(r);for(const i of r.ha)e.Z_(i.mutations)}async function Hb(r,e,i){const s=r.ha.shift(),u=pd.from(s,e,i);await Nv(r,()=>r.remoteSyncer.applySuccessfulWrite(u)),await mc(r)}async function Gb(r,e){e&&Ta(r).Y_&&await async function(s,u){if(function(d){return wA(d)&&d!==$.ABORTED}(u.code)){const h=s.ha.shift();Ta(s).O_(),await Nv(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,u)),await mc(s)}}(r,e),xv(r)&&Iv(r)}async function t_(r,e){const i=Tt(r);i.asyncQueue.verifyOperationInProgress(),at(hr,"RemoteStore received new credentials");const s=mr(i);i.Ta.add(3),await eu(i),s&&i.da.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ta.delete(3),await dc(i)}async function Qb(r,e){const i=Tt(r);e?(i.Ta.delete(2),await dc(i)):e||(i.Ta.add(2),await eu(i),i.da.set("Unknown"))}function Ss(r){return r.Ra||(r.Ra=function(i,s,u){const h=Tt(i);return h.ra(),new Vb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(r.datastore,r.asyncQueue,{e_:Ub.bind(null,r),n_:zb.bind(null,r),i_:Lb.bind(null,r),j_:kb.bind(null,r)}),r.Ia.push(async e=>{e?(r.Ra.O_(),wd(r)?Rd(r):r.da.set("Unknown")):(await r.Ra.stop(),Vv(r))})),r.Ra}function Ta(r){return r.Va||(r.Va=function(i,s,u){const h=Tt(i);return h.ra(),new Nb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:jb.bind(null,r),i_:Gb.bind(null,r),X_:qb.bind(null,r),ea:Hb.bind(null,r)}),r.Ia.push(async e=>{e?(r.Va.O_(),await mc(r)):(await r.Va.stop(),r.ha.length>0&&(at(hr,`Stopping write stream with ${r.ha.length} pending writes`),r.ha=[]))})),r.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,i,s,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,h){const d=Date.now()+s,g=new Cd(e,i,d,u,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dd(r,e){if(Mi("AsyncQueue",`${e}: ${r}`),bs(r))return new ut($.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{static emptySet(e){return new fs(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ht.comparator(i.key,s.key):(i,s)=>ht.comparator(i.key,s.key),this.keyedMap=zl(),this.sortedSet=new ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof fs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new fs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(){this.ma=new ae(ht.comparator)}track(e){const i=e.doc.key,s=this.ma.get(i);s?e.type!==0&&s.type===3?this.ma=this.ma.insert(i,e):e.type===3&&s.type!==1?this.ma=this.ma.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ma=this.ma.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ma=this.ma.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ma=this.ma.remove(i):e.type===1&&s.type===2?this.ma=this.ma.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ma=this.ma.insert(i,{type:2,doc:e.doc}):gt(63341,{Vt:e,fa:s}):this.ma=this.ma.insert(i,e)}ga(){const e=[];return this.ma.inorderTraversal((i,s)=>{e.push(s)}),e}}class _s{constructor(e,i,s,u,h,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new _s(e,i,fs.emptySet(i),d,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class Fb{constructor(){this.queries=n_(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(i,s){const u=Tt(i),h=u.queries;u.queries=n_(),h.forEach((d,g)=>{for(const v of g.ya)v.onError(s)})})(this,new ut($.ABORTED,"Firestore shutting down"))}}function n_(){return new dr(r=>W_(r),lc)}async function Ov(r,e){const i=Tt(r);let s=3;const u=e.query;let h=i.queries.get(u);h?!h.wa()&&e.Sa()&&(s=2):(h=new Yb,s=e.Sa()?0:1);try{switch(s){case 0:h.pa=await i.onListen(u,!0);break;case 1:h.pa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=Dd(d,`Initialization of query '${us(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.ya.push(e),e.Da(i.onlineState),h.pa&&e.va(h.pa)&&Vd(i)}async function Mv(r,e){const i=Tt(r),s=e.query;let u=3;const h=i.queries.get(s);if(h){const d=h.ya.indexOf(e);d>=0&&(h.ya.splice(d,1),h.ya.length===0?u=e.Sa()?0:1:!h.wa()&&e.Sa()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Kb(r,e){const i=Tt(r);let s=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.ya)g.va(u)&&(s=!0);d.pa=u}}s&&Vd(i)}function Xb(r,e,i){const s=Tt(r),u=s.queries.get(e);if(u)for(const h of u.ya)h.onError(i);s.queries.delete(e)}function Vd(r){r.ba.forEach(e=>{e.next()})}var Wf,i_;(i_=Wf||(Wf={})).Ca="default",i_.Cache="cache";class Uv{constructor(e,i,s){this.query=e,this.Fa=i,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new _s(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),i=!0):this.Na(e,this.onlineState)&&(this.Ba(e),i=!0),this.xa=e,i}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let i=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),i=!0),i}Na(e,i){if(!e.fromCache||!this.Sa())return!0;const s=i!=="Offline";return(!this.options.La||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const i=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ba(e){e=_s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Wf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e){this.key=e}}class Lv{constructor(e){this.key=e}}class Zb{constructor(e,i){this.query=e,this.Ga=i,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Nt(),this.mutatedKeys=Nt(),this.Ha=tv(e),this.Ja=new fs(this.Ha)}get Ya(){return this.Ga}Za(e,i){const s=i?i.Xa:new e_,u=i?i.Ja:this.Ja;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,S)=>{const D=u.get(A),B=uc(this.query,S)?S:null,X=!!D&&this.mutatedKeys.has(D.key),tt=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let J=!1;D&&B?D.data.isEqual(B.data)?X!==tt&&(s.track({type:3,doc:B}),J=!0):this.eu(D,B)||(s.track({type:2,doc:B}),J=!0,(v&&this.Ha(B,v)>0||_&&this.Ha(B,_)<0)&&(g=!0)):!D&&B?(s.track({type:0,doc:B}),J=!0):D&&!B&&(s.track({type:1,doc:D}),J=!0,(v||_)&&(g=!0)),J&&(B?(d=d.add(B),h=tt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{Ja:d,Xa:s,Cs:g,mutatedKeys:h}}eu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const h=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const d=e.Xa.ga();d.sort((A,S)=>function(B,X){const tt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:J})}};return tt(B)-tt(X)}(A.type,S.type)||this.Ha(A.doc,S.doc)),this.tu(s),u=u!=null&&u;const g=i&&!u?this.nu():[],v=this.ja.size===0&&this.current&&!u?1:0,_=v!==this.za;return this.za=v,d.length!==0||_?{snapshot:new _s(this.query,e.Ja,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:g}:{ru:g}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new e_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(i=>this.Ga=this.Ga.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ga=this.Ga.delete(i)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Nt(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const i=[];return e.forEach(s=>{this.ja.has(s)||i.push(new Lv(s))}),this.ja.forEach(s=>{e.has(s)||i.push(new zv(s))}),i}su(e){this.Ga=e.$s,this.ja=Nt();const i=this.Za(e.documents);return this.applyChanges(i,!0)}ou(){return _s.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Nd="SyncEngine";class $b{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Jb{constructor(e){this.key=e,this._u=!1}}class Wb{constructor(e,i,s,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.au={},this.uu=new dr(g=>W_(g),lc),this.cu=new Map,this.lu=new Set,this.hu=new ae(ht.comparator),this.Pu=new Map,this.Tu=new vd,this.Iu={},this.Eu=new Map,this.du=ys.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function tS(r,e,i=!0){const s=Hv(r);let u;const h=s.uu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.ou()):u=await kv(s,e,i,!0),u}async function eS(r,e){const i=Hv(r);await kv(i,e,!0,!1)}async function kv(r,e,i,s){const u=await Tb(r.localStore,ei(e)),h=u.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await nS(r,e,h,d==="current",u.resumeToken)),r.isPrimaryClient&&i&&Cv(r.remoteStore,u),g}async function nS(r,e,i,s,u){r.Ru=(S,D,B)=>async function(tt,J,Et,dt){let ct=J.view.Za(Et);ct.Cs&&(ct=await Xy(tt.localStore,J.query,!1).then(({documents:M})=>J.view.Za(M,ct)));const xt=dt&&dt.targetChanges.get(J.targetId),yt=dt&&dt.targetMismatches.get(J.targetId)!=null,Vt=J.view.applyChanges(ct,tt.isPrimaryClient,xt,yt);return r_(tt,J.targetId,Vt.ru),Vt.snapshot}(r,S,D,B);const h=await Xy(r.localStore,e,!0),d=new Zb(e,h.$s),g=d.Za(h.documents),v=tu.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",u),_=d.applyChanges(g,r.isPrimaryClient,v);r_(r,i,_.ru);const A=new $b(e,i,d);return r.uu.set(e,A),r.cu.has(i)?r.cu.get(i).push(e):r.cu.set(i,[e]),_.snapshot}async function iS(r,e,i){const s=Tt(r),u=s.uu.get(e),h=s.cu.get(u.targetId);if(h.length>1)return s.cu.set(u.targetId,h.filter(d=>!lc(d,e))),void s.uu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await $f(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&bd(s.remoteStore,u.targetId),td(s,u.targetId)}).catch(As)):(td(s,u.targetId),await $f(s.localStore,u.targetId,!0))}async function aS(r,e){const i=Tt(r),s=i.uu.get(e),u=i.cu.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),bd(i.remoteStore,s.targetId))}async function rS(r,e,i){const s=fS(r);try{const u=await function(d,g){const v=Tt(d),_=Se.now(),A=g.reduce((B,X)=>B.add(X.key),Nt());let S,D;return v.persistence.runTransaction("Locally write mutations","readwrite",B=>{let X=Ui(),tt=Nt();return v.Bs.getEntries(B,A).next(J=>{X=J,X.forEach((Et,dt)=>{dt.isValidDocument()||(tt=tt.add(Et))})}).next(()=>v.localDocuments.getOverlayedDocuments(B,X)).next(J=>{S=J;const Et=[];for(const dt of g){const ct=TA(dt,S.get(dt.key).overlayedDocument);ct!=null&&Et.push(new Sa(dt.key,ct,Y_(ct.value.mapValue),Un.exists(!0)))}return v.mutationQueue.addMutationBatch(B,_,Et,g)}).next(J=>{D=J;const Et=J.applyToLocalDocumentSet(S,tt);return v.documentOverlayCache.saveOverlays(B,J.batchId,Et)})}).then(()=>({batchId:D.batchId,changes:nv(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(d,g,v){let _=d.Iu[d.currentUser.toKey()];_||(_=new ae(St)),_=_.insert(g,v),d.Iu[d.currentUser.toKey()]=_}(s,u.batchId,i),await nu(s,u.changes),await mc(s.remoteStore)}catch(u){const h=Dd(u,"Failed to persist write");i.reject(h)}}async function Pv(r,e){const i=Tt(r);try{const s=await _b(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Pu.get(h);d&&(qt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d._u=!0:u.modifiedDocuments.size>0?qt(d._u,14607):u.removedDocuments.size>0&&(qt(d._u,42227),d._u=!1))}),await nu(i,s,e)}catch(s){await As(s)}}function a_(r,e,i){const s=Tt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.uu.forEach((h,d)=>{const g=d.view.Da(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const v=Tt(d);v.onlineState=g;let _=!1;v.queries.forEach((A,S)=>{for(const D of S.ya)D.Da(g)&&(_=!0)}),_&&Vd(v)}(s.eventManager,e),u.length&&s.au.j_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function sS(r,e,i){const s=Tt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s.Pu.get(e),h=u&&u.key;if(h){let d=new ae(ht.comparator);d=d.insert(h,Ye.newNoDocument(h,vt.min()));const g=Nt().add(h),v=new hc(vt.min(),new Map,new ae(St),d,g);await Pv(s,v),s.hu=s.hu.remove(h),s.Pu.delete(e),xd(s)}else await $f(s.localStore,e,!1).then(()=>td(s,e,i)).catch(As)}async function lS(r,e){const i=Tt(r),s=e.batch.batchId;try{const u=await yb(i.localStore,e);jv(i,s,null),Bv(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await nu(i,u)}catch(u){await As(u)}}async function uS(r,e,i){const s=Tt(r);try{const u=await function(d,g){const v=Tt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return v.mutationQueue.lookupMutationBatch(_,g).next(S=>(qt(S!==null,37113),A=S.keys(),v.mutationQueue.removeMutationBatch(_,S))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>v.localDocuments.getDocuments(_,A))})}(s.localStore,e);jv(s,e,i),Bv(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await nu(s,u)}catch(u){await As(u)}}function Bv(r,e){(r.Eu.get(e)||[]).forEach(i=>{i.resolve()}),r.Eu.delete(e)}function jv(r,e,i){const s=Tt(r);let u=s.Iu[s.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),s.Iu[s.currentUser.toKey()]=u}}function td(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.cu.get(e))r.uu.delete(s),i&&r.au.Vu(s,i);r.cu.delete(e),r.isPrimaryClient&&r.Tu.Hr(e).forEach(s=>{r.Tu.containsKey(s)||qv(r,s)})}function qv(r,e){r.lu.delete(e.path.canonicalString());const i=r.hu.get(e);i!==null&&(bd(r.remoteStore,i),r.hu=r.hu.remove(e),r.Pu.delete(i),xd(r))}function r_(r,e,i){for(const s of i)s instanceof zv?(r.Tu.addReference(s.key,e),oS(r,s)):s instanceof Lv?(at(Nd,"Document no longer in limbo: "+s.key),r.Tu.removeReference(s.key,e),r.Tu.containsKey(s.key)||qv(r,s.key)):gt(19791,{mu:s})}function oS(r,e){const i=e.key,s=i.path.canonicalString();r.hu.get(i)||r.lu.has(s)||(at(Nd,"New document in limbo: "+i),r.lu.add(s),xd(r))}function xd(r){for(;r.lu.size>0&&r.hu.size<r.maxConcurrentLimboResolutions;){const e=r.lu.values().next().value;r.lu.delete(e);const i=new ht(ne.fromString(e)),s=r.du.next();r.Pu.set(s,new Jb(i)),r.hu=r.hu.insert(i,s),Cv(r.remoteStore,new ha(ei(sc(i.path)),s,"TargetPurposeLimboResolution",nc.le))}}async function nu(r,e,i){const s=Tt(r),u=[],h=[],d=[];s.uu.isEmpty()||(s.uu.forEach((g,v)=>{d.push(s.Ru(v,e,i).then(_=>{var A;if((_||i)&&s.isPrimaryClient){const S=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){u.push(_);const S=Td.Rs(v.targetId,_);h.push(S)}}))}),await Promise.all(d),s.au.j_(u),await async function(v,_){const A=Tt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>K.forEach(_,D=>K.forEach(D.ds,B=>A.persistence.referenceDelegate.addReference(S,D.targetId,B)).next(()=>K.forEach(D.As,B=>A.persistence.referenceDelegate.removeReference(S,D.targetId,B)))))}catch(S){if(!bs(S))throw S;at(Ad,"Failed to update sequence numbers: "+S)}for(const S of _){const D=S.targetId;if(!S.fromCache){const B=A.xs.get(D),X=B.snapshotVersion,tt=B.withLastLimboFreeSnapshotVersion(X);A.xs=A.xs.insert(D,tt)}}}(s.localStore,h))}async function cS(r,e){const i=Tt(r);if(!i.currentUser.isEqual(e)){at(Nd,"User change. New user:",e.toKey());const s=await bv(i.localStore,e);i.currentUser=e,function(h,d){h.Eu.forEach(g=>{g.forEach(v=>{v.reject(new ut($.CANCELLED,d))})}),h.Eu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await nu(i,s.ks)}}function hS(r,e){const i=Tt(r),s=i.Pu.get(e);if(s&&s._u)return Nt().add(s.key);{let u=Nt();const h=i.cu.get(e);if(!h)return u;for(const d of h){const g=i.uu.get(d);u=u.unionWith(g.view.Ya)}return u}}function Hv(r){const e=Tt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sS.bind(null,e),e.au.j_=Kb.bind(null,e.eventManager),e.au.Vu=Xb.bind(null,e.eventManager),e}function fS(r){const e=Tt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uS.bind(null,e),e}class tc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fc(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,i){return null}bu(e,i){return null}wu(e){return pb(this.persistence,new db,e.initialUser,this.serializer)}yu(e){return new Av(Ed.fi,this.serializer)}pu(e){return new bb}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tc.provider={build:()=>new tc};class dS extends tc{constructor(e){super(),this.cacheSizeBytes=e}Su(e,i){qt(this.persistence.referenceDelegate instanceof Jo,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new JA(s,e.asyncQueue,i)}yu(e){const i=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new Av(s=>Jo.fi(s,i),this.serializer)}}class ed{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>a_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=cS.bind(null,this.syncEngine),await Qb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Fb}()}createDatastore(e){const i=fc(e.databaseInfo.databaseId),s=function(h){return new Db(h)}(e.databaseInfo);return function(h,d,g,v){return new Ib(h,d,g,v)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,u,h,d,g){return new Mb(s,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>a_(this.syncEngine,i,0),function(){return Jy.C()?new Jy:new Sb}())}createSyncEngine(e,i){return function(u,h,d,g,v,_,A){const S=new Wb(u,h,d,g,v,_);return A&&(S.Au=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=Tt(u);at(hr,"RemoteStore shutting down."),h.Ta.add(5),await eu(h),h.Ea.shutdown(),h.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}ed.provider={build:()=>new ed};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="FirestoreClient";class mS{constructor(e,i,s,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Qe.UNAUTHENTICATED,this.clientId=z_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{at(Aa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(at(Aa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ga;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Dd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Mf(r,e){r.asyncQueue.verifyOperationInProgress(),at(Aa,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async u=>{s.isEqual(u)||(await bv(e.localStore,u),s=u)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function s_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await gS(r);at(Aa,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>t_(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,u)=>t_(e.remoteStore,u)),r._onlineComponents=e}async function gS(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(Aa,"Using user provided OfflineComponentProvider");try{await Mf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===$.FAILED_PRECONDITION||u.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;ds("Error using user provided cache. Falling back to memory cache: "+i),await Mf(r,new tc)}}else at(Aa,"Using default OfflineComponentProvider"),await Mf(r,new dS(void 0));return r._offlineComponents}async function Qv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(Aa,"Using user provided OnlineComponentProvider"),await s_(r,r._uninitializedComponentsProvider._online)):(at(Aa,"Using default OnlineComponentProvider"),await s_(r,new ed))),r._onlineComponents}function pS(r){return Qv(r).then(e=>e.syncEngine)}async function nd(r){const e=await Qv(r),i=e.eventManager;return i.onListen=tS.bind(null,e.syncEngine),i.onUnlisten=iS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=eS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=aS.bind(null,e.syncEngine),i}function yS(r,e,i={}){const s=new ga;return r.asyncQueue.enqueueAndForget(async()=>function(h,d,g,v,_){const A=new Gv({next:D=>{A.Cu(),d.enqueueAndForget(()=>Mv(h,S));const B=D.docs.has(g);!B&&D.fromCache?_.reject(new ut($.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&D.fromCache&&v&&v.source==="server"?_.reject(new ut($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),S=new Uv(sc(g.path),A,{includeMetadataChanges:!0,La:!0});return Ov(h,S)}(await nd(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(r,e,i){if(!i)throw new ut($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function _S(r,e,i,s){if(e===!0&&s===!0)throw new ut($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function u_(r){if(!ht.isDocumentKey(r))throw new ut($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function o_(r){if(ht.isDocumentKey(r))throw new ut($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Id(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function zn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ut($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Id(r);throw new ut($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="firestore.googleapis.com",c_=!0;class h_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ut($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Kv,this.ssl=c_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:c_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Tv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZA)throw new ut($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_S("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yv((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,u){return s.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gc{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new w1;switch(s.type){case"firstParty":return new N1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,v_("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=l_.get(i);s&&(at("ComponentProvider","Removing Datastore"),l_.delete(i),s.terminate())}(this),Promise.resolve()}}function vS(r,e,i,s={}){var u;r=zn(r,gc);const h=sd(e),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),v=`${e}:${i}`;d.host!==Kv&&d.host!==v&&ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:v,ssl:h,emulatorOptions:s});if(!jo(_,g)&&(r._setSettings(_),h&&(tT(`https://${v}`),v_("Firestore",!0)),s.mockUserToken)){let A,S;if(typeof s.mockUserToken=="string")A=s.mockUserToken,S=Qe.MOCK_USER;else{A=eT(s.mockUserToken,(u=r._app)===null||u===void 0?void 0:u.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new ut($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Qe(D)}r._authCredentials=new C1(new M_(A,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new pc(this.firestore,e,this._query)}}class Je{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Je(this.firestore,e,this._key)}}class pa extends pc{constructor(e,i,s){super(e,i,sc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Je(this.firestore,null,new ht(e))}withConverter(e){return new pa(this.firestore,e,this._path)}}function ES(r,e,...i){if(r=Ii(r),Fv("collection","path",e),r instanceof gc){const s=ne.fromString(e,...i);return o_(s),new pa(r,null,s)}{if(!(r instanceof Je||r instanceof pa))throw new ut($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(e,...i));return o_(s),new pa(r.firestore,null,s)}}function nn(r,e,...i){if(r=Ii(r),arguments.length===1&&(e=z_.newId()),Fv("doc","path",e),r instanceof gc){const s=ne.fromString(e,...i);return u_(s),new Je(r,null,new ht(s))}{if(!(r instanceof Je||r instanceof pa))throw new ut($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(e,...i));return u_(s),new Je(r.firestore,r instanceof pa?r.converter:null,new ht(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="AsyncQueue";class d_{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Rv(this,"async_queue_retry"),this.ec=()=>{const s=Of();s&&at(f_,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=e;const i=Of();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const i=Of();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const i=new ga;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!bs(e))throw e;at(f_,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const i=this.tc.then(()=>(this.Yu=!0,e().catch(s=>{throw this.Ju=s,this.Yu=!1,Mi("INTERNAL UNHANDLED ERROR: ",m_(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=i,i}enqueueAfterDelay(e,i,s){this.nc(),this.Xu.indexOf(e)>-1&&(i=0);const u=Cd.createAndSchedule(this,e,i,s,h=>this.oc(h));return this.Hu.push(u),u}nc(){this.Ju&&gt(47125,{_c:m_(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const i of this.Hu)if(i.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Hu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const i=this.Hu.indexOf(e);this.Hu.splice(i,1)}}function m_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(r){return function(i,s){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of s)if(h in u&&typeof u[h]=="function")return!0;return!1}(r,["next","error","complete"])}class fr extends gc{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new d_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new d_(e),this._firestoreClient=void 0,await e}}}function TS(r,e){const i=typeof r=="object"?r:d1(),s=typeof r=="string"?r:Qo,u=u1(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=JE("firestore");h&&vS(u,...h)}return u}function Od(r){if(r._terminated)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||AS(r),r._firestoreClient}function AS(r){var e,i,s;const u=r._freezeSettings(),h=function(g,v,_,A){return new Q1(g,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Yv(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,u);r._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=u.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),r._firestoreClient=new mS(r._authCredentials,r._appCheckCredentials,r._queue,h,r._componentsProvider&&function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vs(Be.fromBase64String(e))}catch(i){throw new ut($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new vs(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return St(this._lat,e._lat)||St(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,u){if(s.length!==u.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=/^__.*__$/;class SS{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Sa(e,this.data,this.fieldMask,i,this.fieldTransforms):new Wl(e,this.data,i,this.fieldTransforms)}}class Xv{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Sa(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Zv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{hc:r})}}class Ld{constructor(e,i,s,u,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,h===void 0&&this.Pc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Ld(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.Tc({path:s,Ec:!1});return u.dc(e),u}Ac(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.Tc({path:s,Ec:!1});return u.Pc(),u}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return ec(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(Zv(this.hc)&&bS.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class RS{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||fc(e)}gc(e,i,s,u=!1){return new Ld({hc:e,methodName:i,fc:s,path:Pe.emptyPath(),Ec:!1,mc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $v(r){const e=r._freezeSettings(),i=fc(r._databaseId);return new RS(r._databaseId,!!e.ignoreUndefinedProperties,i)}function wS(r,e,i,s,u,h={}){const d=r.gc(h.merge||h.mergeFields?2:0,e,i,u);kd("Data must be an object, but it was:",d,s);const g=Jv(s,d);let v,_;if(h.merge)v=new gn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const S of h.mergeFields){const D=id(e,S,i);if(!d.contains(D))throw new ut($.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);t0(A,D)||A.push(D)}v=new gn(A),_=d.fieldTransforms.filter(S=>v.covers(S.field))}else v=null,_=d.fieldTransforms;return new SS(new rn(g),v,_)}class _c extends Md{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _c}}function CS(r,e,i,s){const u=r.gc(1,e,i);kd("Data must be an object, but it was:",u,s);const h=[],d=rn.empty();ba(s,(v,_)=>{const A=Pd(e,v,i);_=Ii(_);const S=u.Ac(A);if(_ instanceof _c)h.push(A);else{const D=vc(_,S);D!=null&&(h.push(A),d.set(A,D))}});const g=new gn(h);return new Xv(d,g,u.fieldTransforms)}function DS(r,e,i,s,u,h){const d=r.gc(1,e,i),g=[id(e,s,i)],v=[u];if(h.length%2!=0)throw new ut($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<h.length;D+=2)g.push(id(e,h[D])),v.push(h[D+1]);const _=[],A=rn.empty();for(let D=g.length-1;D>=0;--D)if(!t0(_,g[D])){const B=g[D];let X=v[D];X=Ii(X);const tt=d.Ac(B);if(X instanceof _c)_.push(B);else{const J=vc(X,tt);J!=null&&(_.push(B),A.set(B,J))}}const S=new gn(_);return new Xv(A,S,d.fieldTransforms)}function vc(r,e){if(Wv(r=Ii(r)))return kd("Unsupported field value:",e,r),Jv(r,e);if(r instanceof Md)return function(s,u){if(!Zv(u.hc))throw u.Vc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Vc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(s,u){const h=[];let d=0;for(const g of s){let v=vc(g,u.Rc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}}(r,e)}return function(s,u){if((s=Ii(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return gA(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Se.fromDate(s);return{timestampValue:$o(u.serializer,h)}}if(s instanceof Se){const h=new Se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$o(u.serializer,h)}}if(s instanceof Ud)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof vs)return{bytesValue:mv(u.serializer,s._byteString)};if(s instanceof Je){const h=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw u.Vc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:_d(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof zd)return function(d,g){return{mapValue:{fields:{[G_]:{stringValue:Q_},[Yo]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.Vc("VectorValues must only contain numeric values.");return md(g.serializer,_)})}}}}}}(s,u);throw u.Vc(`Unsupported field value: ${Id(s)}`)}(r,e)}function Jv(r,e){const i={};return k_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ba(r,(s,u)=>{const h=vc(u,e.Ic(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function Wv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Se||r instanceof Ud||r instanceof vs||r instanceof Je||r instanceof Md||r instanceof zd)}function kd(r,e,i){if(!Wv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const s=Id(i);throw s==="an object"?e.Vc(r+" a custom object"):e.Vc(r+" "+s)}}function id(r,e,i){if((e=Ii(e))instanceof yc)return e._internalPath;if(typeof e=="string")return Pd(r,e);throw ec("Field path arguments must be of type string or ",r,!1,void 0,i)}const VS=new RegExp("[~\\*/\\[\\]]");function Pd(r,e,i){if(e.search(VS)>=0)throw ec(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new yc(...e.split("."))._internalPath}catch{throw ec(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ec(r,e,i,s,u){const h=s&&!s.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${u}`),v+=")"),new ut($.INVALID_ARGUMENT,g+r+v)}function t0(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,i,s,u,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(n0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class NS extends e0{data(){return super.data()}}function n0(r,e){return typeof e=="string"?Pd(r,e):e instanceof yc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class IS{convertValue(e,i="none"){switch(Ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return ba(e,(u,h)=>{s[u]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,u;const h=(u=(s=(i=e.fields)===null||i===void 0?void 0:i[Yo].arrayValue)===null||s===void 0?void 0:s.values)===null||u===void 0?void 0:u.map(d=>fe(d.doubleValue));return new zd(h)}convertGeoPoint(e){return new Ud(fe(e.latitude),fe(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=ac(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const i=_a(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ne.fromString(e);qt(Ev(s),9688,{name:e});const u=new Xl(s.get(1),s.get(3)),h=new ht(s.popFirst(5));return u.isEqual(i)||Mi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(r,e,i){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class i0 extends e0{constructor(e,i,s,u,h,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Po(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(n0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Po extends i0{data(e={}){return super.data(e)}}class MS{constructor(e,i,s,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new kl(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Po(this._firestore,this._userDataWriter,s.key,s,new kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const v=new Po(u._firestore,u._userDataWriter,g.doc.key,g.doc,new kl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const v=new Po(u._firestore,u._userDataWriter,g.doc.key,g.doc,new kl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:US(g.type),doc:v,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function US(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(r){r=zn(r,Je);const e=zn(r.firestore,fr);return yS(Od(e),r._key).then(i=>r0(e,r,i))}class a0 extends IS{constructor(e){super(),this.firestore=e}convertBytes(e){return new vs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,i)}}function Oo(r,e,i){r=zn(r,Je);const s=zn(r.firestore,fr),u=OS(r.converter,e);return Bd(s,[wS($v(s),"setDoc",r._key,u,r.converter!==null,i).toMutation(r._key,Un.none())])}function xi(r,e,i,...s){r=zn(r,Je);const u=zn(r.firestore,fr),h=$v(u);let d;return d=typeof(e=Ii(e))=="string"||e instanceof yc?DS(h,"updateDoc",r._key,e,i,s):CS(h,"updateDoc",r._key,e),Bd(u,[d.toMutation(r._key,Un.exists(!0))])}function Gl(r){return Bd(zn(r.firestore,fr),[new gd(r._key,Un.none())])}function LS(r,...e){var i,s,u;r=Ii(r);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||g_(e[d])||(h=e[d],d++);const g={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(g_(e[d])){const S=e[d];e[d]=(i=S.next)===null||i===void 0?void 0:i.bind(S),e[d+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),e[d+2]=(u=S.complete)===null||u===void 0?void 0:u.bind(S)}let v,_,A;if(r instanceof Je)_=zn(r.firestore,fr),A=sc(r._key.path),v={next:S=>{e[d]&&e[d](r0(_,r,S))},error:e[d+1],complete:e[d+2]};else{const S=zn(r,pc);_=zn(S.firestore,fr),A=S._query;const D=new a0(_);v={next:B=>{e[d]&&e[d](new MS(_,D,S,B))},error:e[d+1],complete:e[d+2]},xS(r._query)}return function(D,B,X,tt){const J=new Gv(tt),Et=new Uv(B,J,X);return D.asyncQueue.enqueueAndForget(async()=>Ov(await nd(D),Et)),()=>{J.Cu(),D.asyncQueue.enqueueAndForget(async()=>Mv(await nd(D),Et))}}(Od(_),A,g,v)}function Bd(r,e){return function(s,u){const h=new ga;return s.asyncQueue.enqueueAndForget(async()=>rS(await pS(s),u,h)),h.promise}(Od(r),e)}function r0(r,e,i){const s=i.docs.get(e._key),u=new a0(r);return new i0(r,u,e._key,s,new kl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){Ts=u})(f1),Ho(new Ql("firestore",(s,{instanceIdentifier:u,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new fr(new D1(s.getProvider("auth-internal")),new x1(d,s.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(_.options.projectId,A)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),hs(vy,Ey,e),hs(vy,Ey,"esm2017")})();const kS={apiKey:"AIzaSyC3ZnUtEKDxknAvcsd2xHg6c-CWMpX-oy4",authDomain:"todolist-52367.firebaseapp.com",projectId:"todolist-52367",storageBucket:"todolist-52367.firebasestorage.app",messagingSenderId:"368764422604",appId:"1:368764422604:web:7836f55998368025cbf569",measurementId:"G-PDT4P4XPWH"},PS=S_(kS),$e=TS(PS);function BS({tasks:r,categories:e,selectedCategory:i,setSelectedCategory:s,setAddCategoryShow:u,setEditing:h,setConfirmDelCateShow:d}){const g={active:"group flex justify-between items-center text-teal-50 text-left bg-teal-600 border border-teal-600 rounded-md cursor-pointer px-4 py-1 sm:px-3 transition dark:text-teal-50 dark:bg-teal-600 dark:border-teal-600",normal:"group flex justify-between items-center text-teal-950 text-left bg-teal-50 hover:bg-teal-100/50 border border-teal-950/50 rounded-md cursor-pointer px-4 py-1 sm:px-3 transition dark:text-teal-50 dark:bg-zinc-900 dark:hover:bg-teal-900/30 dark:border-gray-500"},v=S=>{s(S)},_=()=>{u("Edit category"),h({data:i,status:!0})},A=r.reduce((S,D)=>(S[D.category]=D.lists.length,S),{});return Y.jsxs("div",{className:"shrink-0 w-[100%] sm:w-60 h-auto sm:h-[100%] border-b sm:border-b-0 sm:border-r border-gray-400 px-5 py-4 dark:border-gray-500",children:[Y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[Y.jsx("strong",{className:"text-lg",children:"Categories"}),Y.jsxs("div",{className:"flex gap-2",children:[i!=="All"&&Y.jsx("button",{onClick:()=>d(i),className:"size-6 flex justify-center items-center text-1xl font-bold text-teal-50 bg-rose-600 hover:ring-2 ring-rose-600 ring-offset-2 rounded-sm cursor-pointer dark:ring-offset-teal-950",children:Y.jsx("ion-icon",{name:"trash"})}),i!=="All"&&Y.jsx("button",{onClick:_,className:"size-6 flex justify-center items-center text-1xl font-bold text-teal-50 bg-gray-600 hover:ring-2 ring-gray-600 ring-offset-2 rounded-sm cursor-pointer dark:ring-offset-teal-950",children:Y.jsx("ion-icon",{name:"pencil"})}),Y.jsx("button",{onClick:()=>u("New category"),className:"size-6 flex justify-center items-center text-2xl font-bold text-teal-50 bg-teal-600 hover:ring-2 ring-teal-600 ring-offset-2 rounded-sm cursor-pointer dark:ring-offset-teal-950",children:Y.jsx("ion-icon",{name:"add"})})]})]}),Y.jsxs("div",{className:"h-auto sm:h-[60vh] flex flex-row sm:flex-col gap-4 overflow-auto pb-2 sm:pb-0",children:[Y.jsx("button",{className:i==="All"?g.active:g.normal,onClick:()=>v("All"),children:"All"}),e.map((S,D)=>Y.jsxs("button",{className:i===S?g.active:g.normal,onClick:()=>v(S),children:[Y.jsx("span",{className:"text-nowrap",children:S}),Y.jsx("span",{className:"before:content-['-'] sm:before:content-['']",children:A[S]||"0"})]},D))]})]})}function jS({task:r,sortDone:e,setAddTaskShow:i,setEditing:s,setMoveTaskShow:u,setConfirmDelTaskShow:h}){const d=async(A,S)=>{r.lists[S].done=!r.lists[S].done,await xi(nn($e,"taskdata",A),{lists:r.lists})},g=(A,S,D)=>{u(!0),s({data:{category:A,id:S,list:D},status:!1})},v=(A,S,{text:D,done:B})=>{i("Edit task"),s({data:{category:A,id:S,text:D,done:B},status:!0})},_=async({category:A,lists:S},D)=>{h({category:A,lists:S,id:D})};return r.lists.sort((A,S)=>e?S.done-A.done:A.done-S.done),Y.jsxs("div",{children:[Y.jsx("strong",{className:"inline-block text-gray-500 mb-1",children:r.category}),Y.jsx("ul",{className:"flex flex-col gap-2",children:r.lists.map((A,S)=>Y.jsxs("li",{className:`flex items-center ${A.done?"bg-teal-50/30":"bg-teal-50"} border border-gray-200 rounded-md shadow-md px-3 py-2 dark:bg-zinc-900 ${A.done?"dark:border-gray-800":"dark:border-gray-500"}`,children:[Y.jsx("span",{onClick:()=>d(r.category,S),className:`shrink-0 flex justify-center items-center size-4 text-white ${A.done?"bg-teal-600":""} border border-gray-900 rounded-full mr-2 dark:border-white`,children:A.done?Y.jsx("ion-icon",{name:"checkmark-outline"}):""}),Y.jsx("p",{className:`relative mr-auto transition-all duration-300 task-text ${A.done?"active":""}`,children:A.text}),Y.jsxs("div",{className:"flex items-center gap-1",children:[Y.jsx("button",{onClick:()=>g(r.category,S,A),className:`${A.done?"hidden":""} size-6 flex justify-center items-center text-white bg-gray-500 hover:bg-gray-700 rounded-sm cursor-pointer p-1`,children:Y.jsx("ion-icon",{name:"move-outline"})}),Y.jsx("button",{onClick:()=>v(r.category,S,A),className:`${A.done?"hidden":""} size-6 flex justify-center items-center text-white bg-gray-500 hover:bg-gray-700 rounded-sm cursor-pointer p-1`,children:Y.jsx("ion-icon",{name:"pencil"})}),Y.jsx("button",{onClick:()=>_(r,S),className:"size-6 flex justify-center items-center text-white bg-rose-500 hover:bg-rose-700 rounded-sm cursor-pointer p-1",children:Y.jsx("ion-icon",{name:"trash-outline"})})]})]},S))})]})}function qS({tasks:r,selectedCategory:e,setAddTaskShow:i,setPopupShow:s,setEditing:u,setMoveTaskShow:h,setConfirmDelTaskShow:d}){const[g,v]=he.useState(!1);let _=[];e!="All"?_=r.filter(B=>B.category===e):_=r;const A=r.reduce((B,X)=>(B+=parseInt(X.lists.length),B),0),S=r.reduce((B,X)=>{const tt=X.lists.filter(J=>J.done===!0);return B+=parseInt(tt.length),B},0),D=()=>{v(!g)};return Y.jsxs("div",{className:"w-full px-5 py-4",children:[Y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[Y.jsxs("div",{children:[Y.jsxs("span",{className:"inline-block w-18",children:["Total : ",A]}),Y.jsxs("span",{className:"inline-block w-18",children:["Done : ",S]}),Y.jsx("button",{onClick:D,className:`text-teal-50 ${g?"bg-teal-600":"bg-gray-400 dark:bg-gray-700"} rounded-sm cursor-pointer px-2 py-1`,children:"Sort by done"})]}),Y.jsx("button",{onClick:()=>i("New task"),className:"flex justify-center items-center font-bold text-teal-50 bg-teal-600 hover:ring-2 ring-teal-600 ring-offset-2 rounded-sm cursor-pointer px-2 py-1 dark:ring-offset-teal-950",children:"New task"})]}),Y.jsx("div",{className:"h-[55vh] flex flex-col gap-3 overflow-auto",children:_.length?_.map(B=>Y.jsx(jS,{task:B,sortDone:g,setAddTaskShow:i,setEditing:u,setMoveTaskShow:h,setConfirmDelTaskShow:d},B.category)):Y.jsx("p",{className:"text-center text-gray-500 mt-5",children:"There is no tasks. Create a new one"})})]})}function HS({addnewtask:r,categories:e,selectedCategory:i,addTaskShow:s,setAddTaskShow:u,setPopupShow:h,editing:d,setEditing:g}){const[v,_]=he.useState(d.status?d.data:{text:"",done:!1,category:i==="All"?"General":i}),[A,S]=he.useState(""),D=tt=>{_({...v,[tt.target.name]:tt.target.value})},B=()=>{u(null),g({data:"",status:!1})},X=tt=>{tt.preventDefault(),v.text.trim()?d.status?(S(""),u(null),r(v),g({data:"",status:!1}),h("Updated task")):(S(""),u(null),h("Created a new task"),r(v)):S("* This field can't be empty")};return Y.jsx("div",{className:"absolute top-0 start-0 w-screen h-screen grid place-items-center bg-stone-950/75",children:Y.jsxs("form",{action:"",method:"",onSubmit:X,className:"w-[80%] md:w-[50%] bg-teal-50 border rounded-lg p-7 dark:bg-zinc-900 dark:border-gray-500",children:[Y.jsxs("div",{className:"mb-6",children:[Y.jsx("label",{htmlFor:"text",className:"block text-2xl font-semibold mb-3",children:s}),Y.jsx("input",{type:"text",name:"text",id:"text",value:v.text,onChange:D,className:"w-full border border-gray-400 outline-0 rounded-md px-3 py-2",placeholder:"Input here..."}),A&&Y.jsx("span",{className:"text-rose-500",children:A})]}),Y.jsxs("div",{className:"mb-6",children:[Y.jsx("label",{htmlFor:"category",className:"block text-1xl font-semibold mb-2",children:"Category"}),Y.jsx("select",{name:"category",id:"category",value:v.category,onChange:D,className:"w-full border border-gray-400 outline-0 rounded-md px-3 py-2",children:e.map((tt,J)=>Y.jsx("option",{value:tt,className:"dark:bg-zinc-800",children:tt},J))})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[Y.jsx("button",{type:"reset",onClick:B,className:"bg-gray-300 hover:bg-gray-400 rounded-sm cursor-pointer p-1 dark:bg-gray-500 dark:hover:bg-gray-600",children:"Cancel"}),Y.jsx("button",{type:"submit",className:"text-teal-50 bg-teal-900 hover:bg-teal-950 rounded-sm cursor-pointer p-1 dark:bg-teal-800 dark:hover:bg-teal-900",children:d.status?"Save":"Submit"})]})]})})}function GS({setCategories:r,updatecategories:e,addcategoryShow:i,setAddCategoryShow:s,setPopupShow:u,editing:h,setEditing:d}){const[g,v]=he.useState(h.status?h.data:""),[_,A]=he.useState(""),S=X=>{v(X.target.value)},D=()=>{s(null),d({data:"",status:!1})},B=X=>{X.preventDefault(),g.trim()?h.status?(A(""),e({newCategory:g,selected:h.data}),s(null),u("Successfully Updated"),d({data:"",status:!1})):(A(""),r(tt=>[...tt,g]),e(g),s(null),u("Created a new cateogry")):A("* This field can't be empty")};return Y.jsx("div",{className:"absolute top-0 start-0 w-screen h-screen grid place-items-center bg-stone-950/75",children:Y.jsxs("form",{action:"",method:"",onSubmit:B,className:"w-[80%] md:w-[50%] bg-teal-50 border rounded-lg p-7 dark:bg-zinc-900 dark:border-gray-500",children:[Y.jsxs("div",{className:"mb-6",children:[Y.jsx("label",{htmlFor:"newcategory",className:"block text-2xl font-semibold mb-3",children:i}),Y.jsx("input",{type:"text",name:"newcategory",id:"newcategory",value:g,onChange:S,className:"w-full border border-gray-400 outline-0 rounded-md px-3 py-2",placeholder:"Input here..."}),_&&Y.jsx("span",{className:"text-rose-500",children:_})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[Y.jsx("button",{type:"reset",onClick:D,className:"bg-gray-300 hover:bg-gray-400 rounded-sm cursor-pointer p-1 dark:bg-gray-500 dark:hover:bg-gray-600",children:"Cancel"}),Y.jsx("button",{type:"submit",className:"text-teal-50 bg-teal-900 hover:bg-teal-950 rounded-sm cursor-pointer p-1 dark:bg-teal-800 dark:hover:bg-teal-900",children:"Save"})]})]})})}function QS({message:r,setPopupShow:e}){return he.useEffect(()=>{setTimeout(()=>{e(null)},1500)},[]),Y.jsx("div",{className:"absolute top-0 start-0 w-screen h-screen grid place-items-center bg-stone-950/75",children:Y.jsxs("div",{className:"w-[80%] md:w-[40%] bg-teal-50 border rounded-lg p-7 dark:bg-zinc-900 dark:border-gray-500",children:[Y.jsx("div",{className:"text-8xl text-center text-teal-600 mb-4",children:Y.jsx("ion-icon",{name:"checkmark-done-circle"})}),Y.jsx("div",{className:"text-center mb-4",children:Y.jsx("strong",{className:"text-2xl font-bold",children:r})})]})})}function YS({confirmDelCateShow:r,setConfirmDelCateShow:e,categories:i,setCategories:s,setPopupShow:u,setSelectedCategory:h}){const d=i.filter(v=>v!==r),g=async()=>{e(null),s(d),await xi(nn($e,"categorydata","categories"),{lists:d}),await Gl(nn($e,"taskdata",r)),u("Successfully Deleted"),h("All")};return Y.jsx("div",{className:"absolute top-0 start-0 w-screen h-screen grid place-items-center bg-stone-950/75",children:Y.jsxs("div",{className:"w-[80%] md:w-[50%] bg-teal-50 border rounded-lg p-7 dark:bg-zinc-900 dark:border-gray-500",children:[Y.jsx("div",{className:"text-8xl text-center text-rose-600 mb-4",children:Y.jsx("ion-icon",{name:"trash"})}),Y.jsxs("div",{className:"text-center mb-8",children:[Y.jsx("strong",{className:"text-2xl font-bold",children:"Are you sure ?"}),Y.jsx("p",{className:"text-gray-600 mt-2 dark:text-gray-300",children:"This will also delete all the tasks related to this cateogry."})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-4",children:[Y.jsx("button",{type:"button",onClick:()=>e(null),className:"bg-gray-300 hover:bg-gray-400 rounded-sm cursor-pointer p-1 dark:bg-gray-500 dark:hover:bg-gray-600",children:"Cancel"}),Y.jsx("button",{type:"button",onClick:()=>g(),className:"text-teal-50 bg-rose-500 hover:bg-rose-600 rounded-sm cursor-pointer p-1",children:"Delete"})]})]})})}function FS({confirmDelTaskShow:r,setConfirmDelTaskShow:e,setPopupShow:i}){const s=async()=>{const{category:u,lists:h,id:d}=r,g=h.filter((v,_)=>_!==d);g.length!=0?await xi(nn($e,"taskdata",u),{lists:g}):await Gl(nn($e,"taskdata",u)),e(null),i("Successfully Deleted")};return Y.jsx("div",{className:"absolute top-0 start-0 w-screen h-screen grid place-items-center bg-stone-950/75",children:Y.jsxs("div",{className:"w-[80%] md:w-[50%] bg-teal-50 border rounded-lg p-7 dark:bg-zinc-900 dark:border-gray-500",children:[Y.jsx("div",{className:"text-8xl text-center text-rose-600 mb-4",children:Y.jsx("ion-icon",{name:"trash"})}),Y.jsxs("div",{className:"text-center mb-8",children:[Y.jsx("strong",{className:"text-2xl font-bold",children:"Are you sure ?"}),Y.jsx("p",{className:"text-gray-600 mt-2 dark:text-gray-300",children:"This can't be undone."})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-4",children:[Y.jsx("button",{type:"button",onClick:()=>{e(null)},className:"bg-gray-300 hover:bg-gray-400 rounded-sm cursor-pointer p-1 dark:bg-gray-500 dark:hover:bg-gray-600",children:"Cancel"}),Y.jsx("button",{type:"button",onClick:()=>s(),className:"text-teal-50 bg-rose-500 hover:bg-rose-600 rounded-sm cursor-pointer p-1",children:"Delete"})]})]})})}function KS({movetasks:r,categories:e,selectedCategory:i,moveTaskShow:s,setMoveTaskShow:u,setPopupShow:h,editing:d,setEditing:g}){const[v,_]=he.useState(d.data.category),A=B=>{_(B.target.value)},S=()=>{u(!1),g({data:"",status:!1})},D=B=>{B.preventDefault(),r(d.data,v),u(!1),g({data:"",status:!1}),h("Successfully moved")};return Y.jsx("div",{className:"absolute top-0 start-0 w-screen h-screen grid place-items-center bg-stone-950/75",children:Y.jsxs("form",{action:"",method:"",onSubmit:D,className:"w-[80%] md:w-[50%] bg-teal-50 border rounded-lg p-7 dark:bg-zinc-900 dark:border-gray-500",children:[Y.jsxs("div",{className:"mb-6",children:[Y.jsx("label",{htmlFor:"category",className:"block text-2xl font-semibold mb-2",children:"Choose category"}),Y.jsx("select",{name:"category",id:"category",value:v,onChange:A,className:"w-full border border-gray-400 outline-0 rounded-md px-3 py-2",children:e.map((B,X)=>Y.jsx("option",{value:B,className:"dark:bg-zinc-800",children:B},X))})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[Y.jsx("button",{type:"reset",onClick:S,className:"bg-gray-300 hover:bg-gray-400 rounded-sm cursor-pointer p-1 dark:bg-gray-500 dark:hover:bg-gray-600",children:"Cancel"}),Y.jsx("button",{type:"submit",className:"text-teal-50 bg-teal-900 hover:bg-teal-950 rounded-sm cursor-pointer p-1 dark:bg-teal-800 dark:hover:bg-teal-900",children:"Save"})]})]})})}function XS(){const[r,e]=he.useState([]),[i,s]=he.useState([]),[u,h]=he.useState("All"),[d,g]=he.useState({data:"",status:!1}),[v,_]=he.useState(null),[A,S]=he.useState(null),[D,B]=he.useState(null),[X,tt]=he.useState(!1),[J,Et]=he.useState(null),[dt,ct]=he.useState(null),xt=ES($e,"taskdata"),yt=nn($e,"categorydata","categories");let Vt=[];he.useEffect(()=>{M()},[]);const M=async()=>{try{const V=await zS(yt);s(V.data().lists),LS(xt,O=>{Vt=[],O.forEach(R=>{Vt.push(R.data()),e(Vt)}),Vt.length||e([])})}catch(V){console.log(V)}},b=async V=>{try{if(!d.status)await xi(yt,{lists:[...i,V]});else{const O=i.map(Yt=>Yt===V.selected?V.newCategory:Yt),R=r.find(Yt=>Yt.category===V.selected);s(O),h(V.newCategory),await xi(yt,{lists:O}),R&&(R.category=V.newCategory,await Oo(nn($e,"taskdata",V.newCategory),R),await Gl(nn($e,"taskdata",V.selected)))}}catch(O){console.log("Error found while updating categories",O)}},C=async({text:V,done:O,category:R,id:Yt=0})=>{const Bt=nn($e,"taskdata",R),H={category:R,lists:[{text:V,done:O}]};if(!r.length)await Oo(Bt,H);else if(r.findIndex(et=>et.category===R)!=-1){const et=r.find(st=>st.category===R);d.status?et.lists[Yt].text=V:et.lists.push({text:V,done:O}),await xi(Bt,et)}else await Oo(Bt,H)},I=async(V,O)=>{console.log(V);const R=nn($e,"taskdata",O),Yt=r.find(H=>H.category===O),Bt=r.find(H=>H.category===V.category);if(console.log(Bt),Yt){Yt.lists.push(V.list),await xi(R,Yt);const H=Bt.lists.filter((et,st)=>st!==V.id);H.length?await xi(nn($e,"taskdata",V.category),{category:V.category,lists:H}):await Gl(nn($e,"taskdata",V.category))}else{await Oo(R,{category:O,lists:[V.list]});const H=Bt.lists.filter((et,st)=>st!==V.id);H.length?await xi(nn($e,"taskdata",V.category),{category:V.category,lists:H}):await Gl(nn($e,"taskdata",V.category))}};return Y.jsxs("div",{className:"flex flex-col sm:flex-row",children:[Y.jsx(BS,{tasks:r,categories:i,selectedCategory:u,setSelectedCategory:h,setAddCategoryShow:B,setEditing:g,setConfirmDelCateShow:Et}),Y.jsx(qS,{tasks:r,selectedCategory:u,setAddTaskShow:S,setPopupShow:_,setEditing:g,setMoveTaskShow:tt,setConfirmDelTaskShow:ct}),v&&Y.jsx(QS,{message:v,setPopupShow:_}),A&&Y.jsx(HS,{addnewtask:C,categories:i,selectedCategory:u,addTaskShow:A,setAddTaskShow:S,setPopupShow:_,editing:d,setEditing:g}),D&&Y.jsx(GS,{setCategories:s,updatecategories:b,addcategoryShow:D,setAddCategoryShow:B,setPopupShow:_,editing:d,setEditing:g}),X&&Y.jsx(KS,{movetasks:I,categories:i,selectedCategory:u,moveTaskShow:X,setMoveTaskShow:tt,setPopupShow:_,editing:d,setEditing:g}),J&&Y.jsx(YS,{confirmDelCateShow:J,setConfirmDelCateShow:Et,categories:i,setCategories:s,setPopupShow:_,setSelectedCategory:h}),dt&&Y.jsx(FS,{confirmDelTaskShow:dt,setConfirmDelTaskShow:ct,setPopupShow:_})]})}function ZS(){return Y.jsx("div",{className:"w-screen h-screen grid place-items-center bg-slate-100 px-5 py-4 transition dark:bg-zinc-800",children:Y.jsxs("div",{className:"w-[100%] md:w-[90%] lg:w-[70%] h-[100%] md:h-[85%] flex flex-col text-teal-950 bg-slate-200 border border-gray-300 rounded-lg shadow-2xl overflow-hidden transition dark:text-teal-50 dark:bg-zinc-900 dark:border-gray-500",children:[Y.jsx(jE,{}),Y.jsx(XS,{})]})})}PE.createRoot(document.getElementById("root")).render(Y.jsx(he.Fragment,{children:Y.jsx(ZS,{})}));
